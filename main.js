!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=108)}([function(e,t,r){"use strict";e.exports=r(46)},function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"createGlobalStyle",function(){return rt}),r.d(t,"css",function(){return ge}),r.d(t,"isStyledComponent",function(){return P}),r.d(t,"keyframes",function(){return ot}),r.d(t,"ServerStyleSheet",function(){return Ze}),r.d(t,"StyleSheetConsumer",function(){return Xe}),r.d(t,"StyleSheetContext",function(){return Ke}),r.d(t,"StyleSheetManager",function(){return Ye}),r.d(t,"ThemeConsumer",function(){return We}),r.d(t,"ThemeContext",function(){return Ge}),r.d(t,"ThemeProvider",function(){return He}),r.d(t,"withTheme",function(){return it}),r.d(t,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return at});var n=r(19),o=r.n(n),i=r(33),a=r.n(i),s=r(0),l=r.n(s),u=r(34),c=r(11),p=r(20),f=(r(6),r(4),r(45)),h=function(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},_=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},x=function(e){return"object"===(void 0===e?"undefined":d(e))&&e.constructor===Object},w=Object.freeze([]),S=Object.freeze({});function k(e){return"function"==typeof e}function C(e){return e.displayName||e.name||"Component"}function P(e){return e&&"string"==typeof e.styledComponentId}var E=void 0!==e&&e.env.SC_ATTR||"data-styled",T="undefined"!=typeof window&&"HTMLElement"in window,A="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1,I={};var z=function(e){function t(r){m(this,t);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=_(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+r+" for more information. "+(o?"Additional arguments: "+o.join(", "):"")));return _(a)}return v(t,e),t}(Error),O=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,M=function(e){var t=""+(e||""),r=[];return t.replace(O,function(e,t,n){return r.push({componentId:t,matchIndex:n}),e}),r.map(function(e,n){var o=e.componentId,i=e.matchIndex,a=r[n+1];return{componentId:o,cssFromDOM:a?t.slice(i,a.matchIndex):t.slice(i)}})},L=/^\s*\/\/.*$/gm,F=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),R=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),D=[],B=function(e){if(-2===e){var t=D;return D=[],t}},j=a()(function(e){D.push(e)}),U=void 0,N=void 0,V=void 0,q=function(e,t,r){return t>0&&-1!==r.slice(0,t).indexOf(N)&&r.slice(t-N.length,t)!==N?"."+U:e};R.use([function(e,t,r){2===e&&r.length&&r[0].lastIndexOf(N)>0&&(r[0]=r[0].replace(V,q))},j,B]),F.use([j,B]);function G(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",o=e.join("").replace(L,""),i=t&&r?r+" "+t+" { "+o+" }":o;return U=n,N=t,V=new RegExp("\\"+N+"\\b","g"),R(r||!t?"":t,i)}var W=function(){return r.nc},H=function(e,t,r){r&&((e[t]||(e[t]=Object.create(null)))[r]=!0)},Z=function(e,t){e[t]=Object.create(null)},K=function(e){return function(t,r){return void 0!==e[t]&&e[t][r]}},X=function(e){var t="";for(var r in e)t+=Object.keys(e[r]).join(" ")+" ";return t.trim()},Y=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,r=0;r<t;r+=1){var n=document.styleSheets[r];if(n.ownerNode===e)return n}throw new z(10)},J=function(e,t,r){if(!t)return!1;var n=e.cssRules.length;try{e.insertRule(t,r<=n?r:n)}catch(e){return!1}return!0},$=function(e){return"\n/* sc-component-id: "+e+" */\n"},Q=function(e,t){for(var r=0,n=0;n<=t;n+=1)r+=e[n];return r},ee=function(e,t){return function(r){var n=W();return"<style "+[n&&'nonce="'+n+'"',E+'="'+X(t)+'"','data-styled-version="4.2.0"',r].filter(Boolean).join(" ")+">"+e()+"</style>"}},te=function(e,t){return function(){var r,n=((r={})[E]=X(t),r["data-styled-version"]="4.2.0",r),o=W();return o&&(n.nonce=o),l.a.createElement("style",g({},n,{dangerouslySetInnerHTML:{__html:e()}}))}},re=function(e){return function(){return Object.keys(e)}},ne=function(e){return document.createTextNode($(e))},oe=function e(t,r){var n=void 0===t?Object.create(null):t,o=void 0===r?Object.create(null):r,i=function(e){var t=o[e];return void 0!==t?t:o[e]=[""]},a=function(){var e="";for(var t in o){var r=o[t][0];r&&(e+=$(t)+r)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var r in e)t[r]=g({},e[r]);return t}(n),r=Object.create(null);for(var i in o)r[i]=[o[i][0]];return e(t,r)},css:a,getIds:re(o),hasNameForId:K(n),insertMarker:i,insertRules:function(e,t,r){i(e)[0]+=t.join(" "),H(n,e,r)},removeRules:function(e){var t=o[e];void 0!==t&&(t[0]="",Z(n,e))},sealed:!1,styleTag:null,toElement:te(a,n),toHTML:ee(a,n)}},ie=function(e,t,r,n,o){if(T&&!r){var i=function(e,t,r){var n=document.createElement("style");n.setAttribute(E,""),n.setAttribute("data-styled-version","4.2.0");var o=W();if(o&&n.setAttribute("nonce",o),n.appendChild(document.createTextNode("")),e&&!t)e.appendChild(n);else{if(!t||!e||!t.parentNode)throw new z(6);t.parentNode.insertBefore(n,r?t:t.nextSibling)}return n}(e,t,n);return A?function(e,t){var r=Object.create(null),n=Object.create(null),o=void 0!==t,i=!1,a=function(t){var o=n[t];return void 0!==o?o:(n[t]=ne(t),e.appendChild(n[t]),r[t]=Object.create(null),n[t])},s=function(){var e="";for(var t in n)e+=n[t].data;return e};return{clone:function(){throw new z(5)},css:s,getIds:re(n),hasNameForId:K(r),insertMarker:a,insertRules:function(e,n,s){for(var l=a(e),u=[],c=n.length,p=0;p<c;p+=1){var f=n[p],h=o;if(h&&-1!==f.indexOf("@import"))u.push(f);else{h=!1;var d=p===c-1?"":" ";l.appendData(""+f+d)}}H(r,e,s),o&&u.length>0&&(i=!0,t().insertRules(e+"-import",u))},removeRules:function(a){var s=n[a];if(void 0!==s){var l=ne(a);e.replaceChild(l,s),n[a]=l,Z(r,a),o&&i&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:te(s,r),toHTML:ee(s,r)}}(i,o):function(e,t){var r=Object.create(null),n=Object.create(null),o=[],i=void 0!==t,a=!1,s=function(e){var t=n[e];return void 0!==t?t:(n[e]=o.length,o.push(0),Z(r,e),n[e])},l=function(){var t=Y(e).cssRules,r="";for(var i in n){r+=$(i);for(var a=n[i],s=Q(o,a),l=s-o[a];l<s;l+=1){var u=t[l];void 0!==u&&(r+=u.cssText)}}return r};return{clone:function(){throw new z(5)},css:l,getIds:re(n),hasNameForId:K(r),insertMarker:s,insertRules:function(n,l,u){for(var c=s(n),p=Y(e),f=Q(o,c),h=0,d=[],m=l.length,y=0;y<m;y+=1){var g=l[y],v=i;v&&-1!==g.indexOf("@import")?d.push(g):J(p,g,f+h)&&(v=!1,h+=1)}i&&d.length>0&&(a=!0,t().insertRules(n+"-import",d)),o[c]+=h,H(r,n,u)},removeRules:function(s){var l=n[s];if(void 0!==l){var u=o[l];!function(e,t,r){for(var n=t-r,o=t;o>n;o-=1)e.deleteRule(o)}(Y(e),Q(o,l)-1,u),o[l]=0,Z(r,s),i&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:te(l,r),toHTML:ee(l,r)}}(i,o)}return oe()},ae=/\s+/,se=void 0;se=T?A?40:1e3:-1;var le=0,ue=void 0,ce=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T?document.head:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var r=t.tags[0];return t.importRuleTag=ie(t.target,r?r.styleTag:null,t.forceServer,!0)},le+=1,this.id=le,this.forceServer=n,this.target=n?null:r,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!T||this.forceServer)return this;var e=[],t=[],r=!1,n=document.querySelectorAll("style["+E+'][data-styled-version="4.2.0"]'),o=n.length;if(!o)return this;for(var i=0;i<o;i+=1){var a=n[i];r||(r=!!a.getAttribute("data-styled-streamed"));for(var s,l=(a.getAttribute(E)||"").trim().split(ae),u=l.length,c=0;c<u;c+=1)s=l[c],this.rehydratedNames[s]=!0;t.push.apply(t,M(a.textContent)),e.push(a)}var p=t.length;if(!p)return this;var f=this.makeTag(null);!function(e,t,r){for(var n=0,o=r.length;n<o;n+=1){var i=r[n],a=i.componentId,s=i.cssFromDOM,l=F("",s);e.insertRules(a,l)}for(var u=0,c=t.length;u<c;u+=1){var p=t[u];p.parentNode&&p.parentNode.removeChild(p)}}(f,e,t),this.capacity=Math.max(1,se-p),this.tags.push(f);for(var h=0;h<p;h+=1)this.tagMap[t[h].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ue=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var r=e.getIds(),n=e.clone(),o=0;o<r.length;o+=1)t.tagMap[r[o]]=n;return n}),t.rehydratedNames=g({},this.rehydratedNames),t.deferred=g({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ie(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var r=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=se,r=this.makeTag(r),this.tags.push(r)),this.tagMap[e]=r},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var r=this.tagMap[e];return void 0!==r&&r.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var r=this.clones,n=0;n<r.length;n+=1)r[n].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,r){for(var n=this.clones,o=0;o<n.length;o+=1)n[o].inject(e,t,r);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);i.insertRules(e,a,r),this.deferred[e]=void 0}else i.insertRules(e,t,r)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var r=this.clones,n=0;n<r.length;n+=1)r[n].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,r){var n="sc-"+e+"-"+r;return Object(s.cloneElement)(t.toElement(),{key:n})})},y(e,null,[{key:"master",get:function(){return ue||(ue=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),pe=function(){function e(t,r){var n=this;m(this,e),this.inject=function(e){e.hasNameForId(n.id,n.name)||e.inject(n.id,n.rules,n.name)},this.toString=function(){throw new z(12,String(n.name))},this.name=t,this.rules=r,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),fe=/([A-Z])/g,he=/^ms-/;var de=function(e){return null==e||!1===e||""===e},me=function e(t,r){var n=Object.keys(t).filter(function(e){return!de(t[e])}).map(function(r){return x(t[r])?e(t[r],r):r.replace(fe,"-$1").toLowerCase().replace(he,"-ms-")+": "+(n=r,null==(o=t[r])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||n in u.a?String(o).trim():o+"px")+";";var n,o}).join(" ");return r?r+" {\n  "+n+"\n}":n};function ye(e,t,r){if(Array.isArray(e)){for(var n,o=[],i=0,a=e.length;i<a;i+=1)null!==(n=ye(e[i],t,r))&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));return o}return de(e)?null:P(e)?"."+e.styledComponentId:k(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:ye(e(t),t,r):e instanceof pe?r?(e.inject(r),e.getName()):e:x(e)?me(e):e.toString();var s}function ge(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return k(e)||x(e)?ye(h(w,[e].concat(r))):ye(h(e,r))}function ve(e){for(var t,r=0|e.length,n=0|r,o=0;r>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16)}return((n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16))^n>>>15)>>>0}var be=52,_e=function(e){return String.fromCharCode(e+(e>25?39:97))};function xe(e){var t="",r=void 0;for(r=e;r>be;r=Math.floor(r/be))t=_e(r%be)+t;return _e(r%be)+t}function we(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(Array.isArray(n)&&!we(n,t))return!1;if(k(n)&&!P(n))return!1}return!t.some(function(e){return k(e)||function(e){for(var t in e)if(k(e[t]))return!0;return!1}(e)})}var Se,ke=!1,Ce=function(e){return xe(ve(e))},Pe=function(){function e(t,r,n){m(this,e),this.rules=t,this.isStatic=!ke&&we(t,r),this.componentId=n,ce.master.hasId(n)||ce.master.deferredInject(n,[])}return e.prototype.generateAndInjectStyles=function(e,t){var r=this.isStatic,n=this.componentId,o=this.lastClassName;if(T&&r&&"string"==typeof o&&t.hasNameForId(n,o))return o;var i=ye(this.rules,e,t),a=Ce(this.componentId+i.join(""));return t.hasNameForId(n,a)||t.inject(this.componentId,G(i,"."+a,void 0,n),a),this.lastClassName=a,a},e.generateName=function(e){return Ce(e)},e}(),Ee=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,n=!!r&&e.theme===r.theme;return e.theme&&!n?e.theme:t||r.theme},Te=/[[\].#*$><+~=|^:(),"'`-]+/g,Ae=/(^-|-$)/g;function Ie(e){return e.replace(Te,"-").replace(Ae,"")}function ze(e){return"string"==typeof e&&!0}var Oe={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},Me={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Le=((Se={})[c.ForwardRef]={$$typeof:!0,render:!0},Se),Fe=Object.defineProperty,Re=Object.getOwnPropertyNames,De=Object.getOwnPropertySymbols,Be=void 0===De?function(){return[]}:De,je=Object.getOwnPropertyDescriptor,Ue=Object.getPrototypeOf,Ne=Object.prototype,Ve=Array.prototype;function qe(e,t,r){if("string"!=typeof t){var n=Ue(t);n&&n!==Ne&&qe(e,n,r);for(var o=Ve.concat(Re(t),Be(t)),i=Le[e.$$typeof]||Oe,a=Le[t.$$typeof]||Oe,s=o.length,l=void 0,u=void 0;s--;)if(u=o[s],!(Me[u]||r&&r[u]||a&&a[u]||i&&i[u])&&(l=je(t,u)))try{Fe(e,u,l)}catch(e){}return e}return e}var Ge=Object(s.createContext)(),We=Ge.Consumer,He=function(e){function t(r){m(this,t);var n=_(this,e.call(this,r));return n.getContext=Object(p.a)(n.getContext.bind(n)),n.renderInner=n.renderInner.bind(n),n}return v(t,e),t.prototype.render=function(){return this.props.children?l.a.createElement(Ge.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return l.a.createElement(Ge.Provider,{value:t},l.a.Children.only(this.props.children))},t.prototype.getTheme=function(e,t){if(k(e))return e(t);if(null===e||Array.isArray(e)||"object"!==(void 0===e?"undefined":d(e)))throw new z(8);return g({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)},t}(s.Component),Ze=function(){function e(){m(this,e),this.masterSheet=ce.master,this.instance=this.masterSheet.clone(),this.sealed=!1}return e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new z(2);return l.a.createElement(Ye,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new z(3)},e}(),Ke=Object(s.createContext)(),Xe=Ke.Consumer,Ye=function(e){function t(r){m(this,t);var n=_(this,e.call(this,r));return n.getContext=Object(p.a)(n.getContext),n}return v(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new ce(t);throw new z(4)},t.prototype.render=function(){var e=this.props,t=e.children,r=e.sheet,n=e.target;return l.a.createElement(Ke.Provider,{value:this.getContext(r,n)},t)},t}(s.Component),Je=(new Set,{});var $e=function(e){function t(){m(this,t);var r=_(this,e.call(this));return r.attrs={},r.renderOuter=r.renderOuter.bind(r),r.renderInner=r.renderInner.bind(r),r}return v(t,e),t.prototype.render=function(){return l.a.createElement(Xe,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():l.a.createElement(We,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,r=t.componentStyle,n=t.defaultProps,o=(t.displayName,t.foldedComponentIds),i=t.styledComponentId,a=t.target,l=void 0;l=r.isStatic?this.generateAndInjectStyles(S,this.props):void 0!==e?this.generateAndInjectStyles(Ee(this.props,e,n),this.props):this.generateAndInjectStyles(this.props.theme||S,this.props);var u=this.props.as||this.attrs.as||a,c=ze(u),p={},h=g({},this.attrs,this.props),d=void 0;for(d in h)"forwardedComponent"!==d&&"as"!==d&&"suppressClassNameWarning"!==d&&("forwardedRef"===d?p.ref=h[d]:c&&!Object(f.a)(d)||(p[d]=h[d]));return this.props.style&&this.attrs.style&&(p.style=g({},this.attrs.style,this.props.style)),p.className=Array.prototype.concat(o,this.props.className,i,this.attrs.className,l).filter(Boolean).join(" "),Object(s.createElement)(u,p)},t.prototype.buildExecutionContext=function(e,t,r){var n=this,o=g({},t,{theme:e});return r.length?(this.attrs={},r.forEach(function(e){var t,r=e,i=!1,a=void 0,s=void 0;for(s in k(r)&&(r=r(o),i=!0),r)a=r[s],i||!k(a)||(t=a)&&t.prototype&&t.prototype.isReactComponent||P(a)||(a=a(o)),n.attrs[s]=a,o[s]=a}),o):o},t.prototype.generateAndInjectStyles=function(e,t){var r=t.forwardedComponent,n=r.attrs,o=r.componentStyle;r.warnTooManyClasses;return o.isStatic&&!n.length?o.generateAndInjectStyles(S,this.styleSheet):o.generateAndInjectStyles(this.buildExecutionContext(e,t,n),this.styleSheet)},t}(s.Component);function Qe(e,t,r){var n=P(e),o=!ze(e),i=t.displayName,a=void 0===i?function(e){return ze(e)?"styled."+e:"Styled("+C(e)+")"}(e):i,s=t.componentId,u=void 0===s?function(e,t,r){var n="string"!=typeof t?"sc":Ie(t),o=(Je[n]||0)+1;Je[n]=o;var i=n+"-"+e.generateName(n+o);return r?r+"-"+i:i}(Pe,t.displayName,t.parentComponentId):s,c=t.ParentComponent,p=void 0===c?$e:c,f=t.attrs,h=void 0===f?w:f,d=t.displayName&&t.componentId?Ie(t.displayName)+"-"+t.componentId:t.componentId||u,m=n&&e.attrs?Array.prototype.concat(e.attrs,h).filter(Boolean):h,y=new Pe(n?e.componentStyle.rules.concat(r):r,m,d),v=l.a.forwardRef(function(e,t){return l.a.createElement(p,g({},e,{forwardedComponent:v,forwardedRef:t}))});return v.attrs=m,v.componentStyle=y,v.displayName=a,v.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):w,v.styledComponentId=d,v.target=n?e.target:e,v.withComponent=function(e){var n=t.componentId,o=b(t,["componentId"]),i=n&&n+"-"+(ze(e)?e:Ie(C(e)));return Qe(e,g({},o,{attrs:m,componentId:i,ParentComponent:p}),r)},v.toString=function(){return"."+v.styledComponentId},o&&qe(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var et=function(e){return function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(!Object(c.isValidElementType)(r))throw new z(1,String(r));var o=function(){return t(r,n,ge.apply(void 0,arguments))};return o.withConfig=function(o){return e(t,r,g({},n,o))},o.attrs=function(o){return e(t,r,g({},n,{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},o}(Qe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){et[e]=et(e)});var tt=function(){function e(t,r){m(this,e),this.rules=t,this.componentId=r,this.isStatic=we(t,w),ce.master.hasId(r)||ce.master.deferredInject(r,[])}return e.prototype.createStyles=function(e,t){var r=G(ye(this.rules,e,t),"");t.inject(this.componentId,r)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function rt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=ge.apply(void 0,[e].concat(r)),i="sc-global-"+ve(JSON.stringify(o)),a=new tt(o,i),s=function(e){function t(r){m(this,t);var n=_(this,e.call(this,r)),o=n.constructor,i=o.globalStyle,a=o.styledComponentId;return T&&(window.scCGSHMRCache[a]=(window.scCGSHMRCache[a]||0)+1),n.state={globalStyle:i,styledComponentId:a},n}return v(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return l.a.createElement(Xe,null,function(t){e.styleSheet=t||ce.master;var r=e.state.globalStyle;return r.isStatic?(r.renderStyles(I,e.styleSheet),null):l.a.createElement(We,null,function(t){var n=e.constructor.defaultProps,o=g({},e.props);return void 0!==t&&(o.theme=Ee(e.props,t,n)),r.renderStyles(o,e.styleSheet),null})})},t}(l.a.Component);return s.globalStyle=a,s.styledComponentId=i,s}T&&(window.scCGSHMRCache={});var nt=function(e){return e.replace(/\s|\\n/g,"")};function ot(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=ge.apply(void 0,[e].concat(r)),i=xe(ve(nt(JSON.stringify(o))));return new pe(i,G(o,i,"@keyframes"))}var it=function(e){var t=l.a.forwardRef(function(t,r){return l.a.createElement(We,null,function(n){var o=e.defaultProps,i=Ee(t,n,o);return l.a.createElement(e,g({},t,{theme:i,ref:r}))})});return qe(t,e),t.displayName="WithTheme("+C(e)+")",t},at={StyleSheet:ce};t.default=et}.call(this,r(99))},,function(e,t,r){"use strict";t.__esModule=!0,t.StyledIcon=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),a=r(16),s=r(103);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=(0,i.css)([""," ",' g{fill:inherit;stroke:inherit;}*:not([stroke]){&[fill="none"]{stroke-width:0;}}*[stroke*="#"],*[STROKE*="#"]{stroke:inherit;fill:none;}*[fill-rule],*[FILL-RULE],*[fill*="#"],*[FILL*="#"]{fill:inherit;stroke:none;}'],function(e){return(0,a.colorStyle)("fill",e.color||e.theme.global.colors.icon,e.theme)},function(e){return(0,a.colorStyle)("stroke",e.color||e.theme.global.colors.icon,e.theme)}),c=function(e){var t=e.a11yTitle,r=(e.color,e.size,e.theme,function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["a11yTitle","color","size","theme"]));return o.default.createElement("svg",l({"aria-label":t},r))};c.displayName="Icon";var p=(0,i.default)(c).withConfig({displayName:"StyledIcon",componentId:"ofa7kd-0"})(["display:inline-block;flex:0 0 auto;"," "," ",""],function(e){var t=e.size,r=void 0===t?"medium":t,n=e.theme;return"\n    width: "+(n.icon.size[r]||r)+";\n    height: "+(n.icon.size[r]||r)+";\n  "},function(e){return"plain"!==e.color&&u},function(e){var t=e.theme;return t&&t.icon.extend});t.StyledIcon=p,p.defaultProps={},Object.setPrototypeOf(p.defaultProps,s.defaultProps)},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(47)},,function(e,t,r){e.exports=r(101)()},function(e,t,r){"use strict";t.__esModule=!0,t.FormDown=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.FormDown=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"FormDown"},e),o.default.createElement("polyline",{fill:"none",stroke:"#000",strokeWidth:"2",points:"18 9 12 15 6 9"}))}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!n.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}},,,function(e,t,r){"use strict";e.exports=r(100)},function(e,t,r){"use strict";(function(e,n){var o,i=r(32);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(25),r(98)(e))},function(e,t,r){"use strict";t.__esModule=!0,t.FormUp=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.FormUp=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"FormUp"},e),o.default.createElement("polyline",{fill:"none",stroke:"#000",strokeWidth:"2",points:"18 9 12 15 6 9",transform:"matrix(1 0 0 -1 0 24)"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0};t.default=n},function(e,t,r){"use strict";var n=r(11),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(d){var o=h(r);o&&o!==d&&e(t,o,n)}var a=c(r);p&&(a=a.concat(p(r)));for(var s=l(t),m=l(r),y=0;y<a.length;++y){var g=a[y];if(!(i[g]||n&&n[g]||m&&m[g]||s&&s[g])){var v=f(r,g);try{u(t,g,v)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(28),i=function(e,t,r,i){return Object(n.css)(["",":",";"],e,Object(o.b)(t,r,i))},a=r(29);r.d(t,"colorStyle",function(){return i}),r.d(t,"sizeStyle",function(){return a.a}),r.d(t,"colorIsDark",function(){return o.a}),r.d(t,"normalizeColor",function(){return o.b})},function(e,t,r){"use strict";t.__esModule=!0,t.base=void 0;t.base={global:{colors:{icon:"#666666"}},icon:{size:{small:"12px",medium:"24px",large:"48px",xlarge:"96px"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var e=[],t=e;function r(){t===e&&(t=e.slice())}return{listen:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var n=!0;return r(),t.push(e),function(){if(n){n=!1,r();var o=t.indexOf(e);t.splice(o,1)}}},emit:function(){for(var r=e=t,n=0;n<r.length;n++)r[n].apply(r,arguments)}}}},function(e,t,r){e.exports=function e(t){"use strict";var r=/^\0+/g,n=/[\0\r\f]/g,o=/: */g,i=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,l=/ +\s*(?![^(]*[)])/g,u=/ *[\0] */g,c=/,\r+?/g,p=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,h=/\W+/g,d=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,y=/:(read-only)/g,g=/\s+(?=[{\];=:>])/g,v=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,_=/\s{2,}/g,x=/([^\(])(:+) */g,w=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,C=/-self|flex-/g,P=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,A="-webkit-",I="-moz-",z="-ms-",O=59,M=125,L=123,F=40,R=41,D=91,B=93,j=10,U=13,N=9,V=64,q=32,G=38,W=45,H=95,Z=42,K=44,X=58,Y=39,J=34,$=47,Q=62,ee=43,te=126,re=0,ne=12,oe=11,ie=107,ae=109,se=115,le=112,ue=111,ce=105,pe=99,fe=100,he=112,de=1,me=1,ye=0,ge=1,ve=1,be=1,_e=0,xe=0,we=0,Se=[],ke=[],Ce=0,Pe=null,Ee=-2,Te=-1,Ae=0,Ie=1,ze=2,Oe=3,Me=0,Le=1,Fe="",Re="",De="";function Be(e,t,o,i,a){for(var s,l,c=0,p=0,f=0,h=0,g=0,v=0,b=0,_=0,w=0,k=0,C=0,P=0,E=0,T=0,H=0,_e=0,ke=0,Pe=0,Ee=0,Te=o.length,Ue=Te-1,He="",Ze="",Ke="",Xe="",Ye="",Je="";H<Te;){if(b=o.charCodeAt(H),H===Ue&&p+h+f+c!==0&&(0!==p&&(b=p===$?j:$),h=f=c=0,Te++,Ue++),p+h+f+c===0){if(H===Ue&&(_e>0&&(Ze=Ze.replace(n,"")),Ze.trim().length>0)){switch(b){case q:case N:case O:case U:case j:break;default:Ze+=o.charAt(H)}b=O}if(1===ke)switch(b){case L:case M:case O:case J:case Y:case F:case R:case K:ke=0;case N:case U:case j:case q:break;default:for(ke=0,Ee=H,g=b,H--,b=O;Ee<Te;)switch(o.charCodeAt(Ee++)){case j:case U:case O:++H,b=g,Ee=Te;break;case X:_e>0&&(++H,b=g);case L:Ee=Te}}switch(b){case L:for(g=(Ze=Ze.trim()).charCodeAt(0),C=1,Ee=++H;H<Te;){switch(b=o.charCodeAt(H)){case L:C++;break;case M:C--;break;case $:switch(v=o.charCodeAt(H+1)){case Z:case $:H=We(v,H,Ue,o)}break;case D:b++;case F:b++;case J:case Y:for(;H++<Ue&&o.charCodeAt(H)!==b;);}if(0===C)break;H++}switch(Ke=o.substring(Ee,H),g===re&&(g=(Ze=Ze.replace(r,"").trim()).charCodeAt(0)),g){case V:switch(_e>0&&(Ze=Ze.replace(n,"")),v=Ze.charCodeAt(1)){case fe:case ae:case se:case W:s=t;break;default:s=Se}if(Ee=(Ke=Be(t,s,Ke,v,a+1)).length,we>0&&0===Ee&&(Ee=Ze.length),Ce>0&&(s=je(Se,Ze,Pe),l=Ge(Oe,Ke,s,t,me,de,Ee,v,a,i),Ze=s.join(""),void 0!==l&&0===(Ee=(Ke=l.trim()).length)&&(v=0,Ke="")),Ee>0)switch(v){case se:Ze=Ze.replace(S,qe);case fe:case ae:case W:Ke=Ze+"{"+Ke+"}";break;case ie:Ke=(Ze=Ze.replace(d,"$1 $2"+(Le>0?Fe:"")))+"{"+Ke+"}",Ke=1===ve||2===ve&&Ve("@"+Ke,3)?"@"+A+Ke+"@"+Ke:"@"+Ke;break;default:Ke=Ze+Ke,i===he&&(Xe+=Ke,Ke="")}else Ke="";break;default:Ke=Be(t,je(t,Ze,Pe),Ke,i,a+1)}Ye+=Ke,P=0,ke=0,T=0,_e=0,Pe=0,E=0,Ze="",Ke="",b=o.charCodeAt(++H);break;case M:case O:if((Ee=(Ze=(_e>0?Ze.replace(n,""):Ze).trim()).length)>1)switch(0===T&&((g=Ze.charCodeAt(0))===W||g>96&&g<123)&&(Ee=(Ze=Ze.replace(" ",":")).length),Ce>0&&void 0!==(l=Ge(Ie,Ze,t,e,me,de,Xe.length,i,a,i))&&0===(Ee=(Ze=l.trim()).length)&&(Ze="\0\0"),g=Ze.charCodeAt(0),v=Ze.charCodeAt(1),g){case re:break;case V:if(v===ce||v===pe){Je+=Ze+o.charAt(H);break}default:if(Ze.charCodeAt(Ee-1)===X)break;Xe+=Ne(Ze,g,v,Ze.charCodeAt(2))}P=0,ke=0,T=0,_e=0,Pe=0,Ze="",b=o.charCodeAt(++H)}}switch(b){case U:case j:if(p+h+f+c+xe===0)switch(k){case R:case Y:case J:case V:case te:case Q:case Z:case ee:case $:case W:case X:case K:case O:case L:case M:break;default:T>0&&(ke=1)}p===$?p=0:ge+P===0&&i!==ie&&Ze.length>0&&(_e=1,Ze+="\0"),Ce*Me>0&&Ge(Ae,Ze,t,e,me,de,Xe.length,i,a,i),de=1,me++;break;case O:case M:if(p+h+f+c===0){de++;break}default:switch(de++,He=o.charAt(H),b){case N:case q:if(h+c+p===0)switch(_){case K:case X:case N:case q:He="";break;default:b!==q&&(He=" ")}break;case re:He="\\0";break;case ne:He="\\f";break;case oe:He="\\v";break;case G:h+p+c===0&&ge>0&&(Pe=1,_e=1,He="\f"+He);break;case 108:if(h+p+c+ye===0&&T>0)switch(H-T){case 2:_===le&&o.charCodeAt(H-3)===X&&(ye=_);case 8:w===ue&&(ye=w)}break;case X:h+p+c===0&&(T=H);break;case K:p+f+h+c===0&&(_e=1,He+="\r");break;case J:case Y:0===p&&(h=h===b?0:0===h?b:h);break;case D:h+p+f===0&&c++;break;case B:h+p+f===0&&c--;break;case R:h+p+c===0&&f--;break;case F:if(h+p+c===0){if(0===P)switch(2*_+3*w){case 533:break;default:C=0,P=1}f++}break;case V:p+f+h+c+T+E===0&&(E=1);break;case Z:case $:if(h+c+f>0)break;switch(p){case 0:switch(2*b+3*o.charCodeAt(H+1)){case 235:p=$;break;case 220:Ee=H,p=Z}break;case Z:b===$&&_===Z&&Ee+2!==H&&(33===o.charCodeAt(Ee+2)&&(Xe+=o.substring(Ee,H+1)),He="",p=0)}}if(0===p){if(ge+h+c+E===0&&i!==ie&&b!==O)switch(b){case K:case te:case Q:case ee:case R:case F:if(0===P){switch(_){case N:case q:case j:case U:He+="\0";break;default:He="\0"+He+(b===K?"":"\0")}_e=1}else switch(b){case F:T+7===H&&108===_&&(T=0),P=++C;break;case R:0==(P=--C)&&(_e=1,He+="\0")}break;case N:case q:switch(_){case re:case L:case M:case O:case K:case ne:case N:case q:case j:case U:break;default:0===P&&(_e=1,He+="\0")}}Ze+=He,b!==q&&b!==N&&(k=b)}}w=_,_=b,H++}if(Ee=Xe.length,we>0&&0===Ee&&0===Ye.length&&0===t[0].length==0&&(i!==ae||1===t.length&&(ge>0?Re:De)===t[0])&&(Ee=t.join(",").length+2),Ee>0){if(s=0===ge&&i!==ie?function(e){for(var t,r,o=0,i=e.length,a=Array(i);o<i;++o){for(var s=e[o].split(u),l="",c=0,p=0,f=0,h=0,d=s.length;c<d;++c)if(!(0===(p=(r=s[c]).length)&&d>1)){if(f=l.charCodeAt(l.length-1),h=r.charCodeAt(0),t="",0!==c)switch(f){case Z:case te:case Q:case ee:case q:case F:break;default:t=" "}switch(h){case G:r=t+Re;case te:case Q:case ee:case q:case R:case F:break;case D:r=t+r+Re;break;case X:switch(2*r.charCodeAt(1)+3*r.charCodeAt(2)){case 530:if(be>0){r=t+r.substring(8,p-1);break}default:(c<1||s[c-1].length<1)&&(r=t+Re+r)}break;case K:t="";default:r=p>1&&r.indexOf(":")>0?t+r.replace(x,"$1"+Re+"$2"):t+r+Re}l+=r}a[o]=l.replace(n,"").trim()}return a}(t):t,Ce>0&&void 0!==(l=Ge(ze,Xe,s,e,me,de,Ee,i,a,i))&&0===(Xe=l).length)return Je+Xe+Ye;if(Xe=s.join(",")+"{"+Xe+"}",ve*ye!=0){switch(2!==ve||Ve(Xe,2)||(ye=0),ye){case ue:Xe=Xe.replace(y,":"+I+"$1")+Xe;break;case le:Xe=Xe.replace(m,"::"+A+"input-$1")+Xe.replace(m,"::"+I+"$1")+Xe.replace(m,":"+z+"input-$1")+Xe}ye=0}}return Je+Xe+Ye}function je(e,t,r){var n=t.trim().split(c),o=n,i=n.length,a=e.length;switch(a){case 0:case 1:for(var s=0,l=0===a?"":e[0]+" ";s<i;++s)o[s]=Ue(l,o[s],r,a).trim();break;default:s=0;var u=0;for(o=[];s<i;++s)for(var p=0;p<a;++p)o[u++]=Ue(e[p]+" ",n[s],r,a).trim()}return o}function Ue(e,t,r,n){var o=t,i=o.charCodeAt(0);switch(i<33&&(i=(o=o.trim()).charCodeAt(0)),i){case G:switch(ge+n){case 0:case 1:if(0===e.trim().length)break;default:return o.replace(p,"$1"+e.trim())}break;case X:switch(o.charCodeAt(1)){case 103:if(be>0&&ge>0)return o.replace(f,"$1").replace(p,"$1"+De);break;default:return e.trim()+o.replace(p,"$1"+e.trim())}default:if(r*ge>0&&o.indexOf("\f")>0)return o.replace(p,(e.charCodeAt(0)===X?"":"$1")+e.trim())}return e+o}function Ne(e,t,r,n){var u,c=0,p=e+";",f=2*t+3*r+4*n;if(944===f)return function(e){var t=e.length,r=e.indexOf(":",9)+1,n=e.substring(0,r).trim(),o=e.substring(r,t-1).trim();switch(e.charCodeAt(9)*Le){case 0:break;case W:if(110!==e.charCodeAt(10))break;default:for(var i=o.split((o="",s)),a=0,r=0,t=i.length;a<t;r=0,++a){for(var u=i[a],c=u.split(l);u=c[r];){var p=u.charCodeAt(0);if(1===Le&&(p>V&&p<90||p>96&&p<123||p===H||p===W&&u.charCodeAt(1)!==W))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=Fe}}c[r++]=u}o+=(0===a?"":",")+c.join(" ")}}return o=n+o+";",1===ve||2===ve&&Ve(o,1)?A+o+o:o}(p);if(0===ve||2===ve&&!Ve(p,1))return p;switch(f){case 1015:return 97===p.charCodeAt(10)?A+p+p:p;case 951:return 116===p.charCodeAt(3)?A+p+p:p;case 963:return 110===p.charCodeAt(5)?A+p+p:p;case 1009:if(100!==p.charCodeAt(4))break;case 969:case 942:return A+p+p;case 978:return A+p+I+p+p;case 1019:case 983:return A+p+I+p+z+p+p;case 883:return p.charCodeAt(8)===W?A+p+p:p.indexOf("image-set(",11)>0?p.replace(T,"$1"+A+"$2")+p:p;case 932:if(p.charCodeAt(4)===W)switch(p.charCodeAt(5)){case 103:return A+"box-"+p.replace("-grow","")+A+p+z+p.replace("grow","positive")+p;case 115:return A+p+z+p.replace("shrink","negative")+p;case 98:return A+p+z+p.replace("basis","preferred-size")+p}return A+p+z+p+p;case 964:return A+p+z+"flex-"+p+p;case 1023:if(99!==p.charCodeAt(8))break;return u=p.substring(p.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),A+"box-pack"+u+A+p+z+"flex-pack"+u+p;case 1005:return i.test(p)?p.replace(o,":"+A)+p.replace(o,":"+I)+p:p;case 1e3:switch(c=(u=p.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(c)){case 226:u=p.replace(w,"tb");break;case 232:u=p.replace(w,"tb-rl");break;case 220:u=p.replace(w,"lr");break;default:return p}return A+p+z+u+p;case 1017:if(-1===p.indexOf("sticky",9))return p;case 975:switch(c=(p=e).length-10,f=(u=(33===p.charCodeAt(c)?p.substring(0,c):p).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(u.charCodeAt(8)<111)break;case 115:p=p.replace(u,A+u)+";"+p;break;case 207:case 102:p=p.replace(u,A+(f>102?"inline-":"")+"box")+";"+p.replace(u,A+u)+";"+p.replace(u,z+u+"box")+";"+p}return p+";";case 938:if(p.charCodeAt(5)===W)switch(p.charCodeAt(6)){case 105:return u=p.replace("-items",""),A+p+A+"box-"+u+z+"flex-"+u+p;case 115:return A+p+z+"flex-item-"+p.replace(C,"")+p;default:return A+p+z+"flex-line-pack"+p.replace("align-content","").replace(C,"")+p}break;case 973:case 989:if(p.charCodeAt(3)!==W||122===p.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ne(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):p.replace(u,A+u)+p.replace(u,I+u.replace("fill-",""))+p;break;case 962:if(p=A+p+(102===p.charCodeAt(5)?z+p:"")+p,r+n===211&&105===p.charCodeAt(13)&&p.indexOf("transform",10)>0)return p.substring(0,p.indexOf(";",27)+1).replace(a,"$1"+A+"$2")+p}return p}function Ve(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10),o=e.substring(r+1,e.length-1);return Pe(2!==t?n:n.replace(P,"$1"),o,t)}function qe(e,t){var r=Ne(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(k," or ($1)").substring(4):"("+t+")"}function Ge(e,t,r,n,o,i,a,s,l,u){for(var c,p=0,f=t;p<Ce;++p)switch(c=ke[p].call(Ze,e,f,r,n,o,i,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=c}if(f!==t)return f}function We(e,t,r,n){for(var o=t+1;o<r;++o)switch(n.charCodeAt(o)){case $:if(e===Z&&n.charCodeAt(o-1)===Z&&t+2!==o)return o+1;break;case j:if(e===$)return o+1}return o}function He(e){for(var t in e){var r=e[t];switch(t){case"keyframe":Le=0|r;break;case"global":be=0|r;break;case"cascade":ge=0|r;break;case"compress":_e=0|r;break;case"semicolon":xe=0|r;break;case"preserve":we=0|r;break;case"prefix":Pe=null,r?"function"!=typeof r?ve=1:(ve=2,Pe=r):ve=0}}return He}function Ze(t,r){if(void 0!==this&&this.constructor===Ze)return e(t);var o=t,i=o.charCodeAt(0);i<33&&(i=(o=o.trim()).charCodeAt(0)),Le>0&&(Fe=o.replace(h,i===D?"":"-")),i=1,1===ge?De=o:Re=o;var a,s=[De];Ce>0&&void 0!==(a=Ge(Te,r,s,s,me,de,0,0,0,0))&&"string"==typeof a&&(r=a);var l=Be(Se,s,r,0,0);return Ce>0&&void 0!==(a=Ge(Ee,l,s,s,me,de,l.length,0,0,0))&&"string"!=typeof(l=a)&&(i=0),Fe="",De="",Re="",ye=0,me=1,de=1,_e*i==0?l:l.replace(n,"").replace(g,"").replace(v,"$1").replace(b,"$1").replace(_," ")}return Ze.use=function e(t){switch(t){case void 0:case null:Ce=ke.length=0;break;default:if("function"==typeof t)ke[Ce++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else Me=0|!!t}return e},Ze.set=He,void 0!==t&&He(t),Ze}(null)},function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}t.a=function(e,t){var r;void 0===t&&(t=n);var o,i=[],a=!1;return function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return a&&r===this&&t(s,i)?o:(o=e.apply(this,s),a=!0,r=this,i=s,o)}}},function(e,t,r){"use strict";t.__esModule=!0,t.Previous=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Previous=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Previous"},e),o.default.createElement("polyline",{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Next=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Next=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Next"},e),o.default.createElement("polyline",{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22"}))}},,function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))o.call(r,u)&&(s[u]=r[u]);if(n){a=n(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var a;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){var n,o,i={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],p=r(52);function f(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i[n.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(v(n.parts[a],t))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(v(n.parts[a],t));i[n.id]={id:n.id,refs:1,parts:s}}}}function h(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function d(e,t){var r=s(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,r);r.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function y(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return g(t,e.attrs),d(e,t),t}function g(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function v(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=u++;r=l||(l=y(t)),n=x.bind(null,r,a,!1),o=x.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),d(e,t),t}(t),n=function(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=p(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,r,t),o=function(){m(r),r.href&&URL.revokeObjectURL(r.href)}):(r=y(t),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),o=function(){m(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return f(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var a=r[o];(s=i[a.id]).refs--,n.push(s)}e&&f(h(e,t),t);for(o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n=function(e){return/^#/.test(e)?function(e){return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return"#"+t+t+r+r+n+n}).substring(1).match(/.{2}/g).map(function(e){return parseInt(e,16)})}(e):/^rgb/.test(e)?e.match(/rgba?\((\s?[0-9]*\s?),(\s?[0-9]*\s?),(\s?[0-9]*\s?).*?\)/).splice(1):e},o=function(e){var t=n(e);return(299*t[0]+587*t[1]+114*t[2])/1e3<125},i=function e(t,r){var n=r.global.colors[t]||t,o=n;return r.dark&&n.dark?o=n.dark:!r.dark&&n.light&&(o=n.light),o&&r.global.colors[o]&&r.global.colors[o]!==o&&(o=e(o,r)),o}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1),o=function(e,t,r){return Object(n.css)(["",":",";"],e,r.global.size[t]||t)}},function(e,t,r){e.exports=function(){"use strict";var e,t,r;function n(n,o){if(e)if(t){var i="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),(r=o(a)).workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else t=o;else e=o}return n(0,function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,o,i,a;for(void 0===t&&(t=1e-6),o=e,a=0;a<8;a++){if(i=this.sampleCurveX(o)-e,Math.abs(i)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if((o=e)<(r=0))return r;if(o>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-e)<t)return o;e>i?r=o:n=o,o=.5*(n-r)+r}return o},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var o=i;function i(e,t){this.x=e,this.y=t}function a(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!a(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!a(e[n],t[n]))return!1;return!0}return e===t}function s(e,t,n,o){var i=new r(e,t,n,o);return function(e){return i.solve(e)}}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,o=r*this.x+t*this.y;return this.x=n,this.y=o,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),o=t.x+r*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(e){return e instanceof i?e:Array.isArray(e)?new i(e[0],e[1]):e};var l=s(.25,.1,.25,1);function u(e,t,r){return Math.min(r,Math.max(t,e))}function c(e,t,r){var n=r-t,o=((e-t)%n+n)%n+t;return o===t?r:o}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,o=t;n<o.length;n+=1){var i=o[n];for(var a in i)e[a]=i[a]}return e}var f=1;function h(){return f++}function d(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function v(e,t,r){var n={};for(var o in e)n[o]=t.call(r||this,e[o],o,e);return n}function b(e,t,r){var n={};for(var o in e)t.call(r||this,e[o],o,e)&&(n[o]=e[o]);return n}function _(e){return Array.isArray(e)?e.map(_):"object"==typeof e&&e?v(e,_):e}var x={};function w(e){x[e]||("undefined"!=typeof console&&console.warn(e),x[e]=!0)}function S(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function k(e){for(var t=0,r=0,n=e.length,o=n-1,i=void 0,a=void 0;r<n;o=r++)i=e[r],t+=((a=e[o]).x-i.x)*(i.y+a.y);return t}function C(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var P,E,T,A=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),I=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,z=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,O={now:A,frame:function(e){var t=I(e);return{cancel:function(){return z(t)}}},getImageData:function(e){var t=self.document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)},resolveURL:function(e){return P||(P=self.document.createElement("a")),P.href=e,P.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio}},M={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},L={supported:!1,testSupport:function(e){!F&&T&&(R?D(e):E=e)}},F=!1,R=!1;function D(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,T),e.isContextLost())return;L.supported=!0}catch(e){}e.deleteTexture(t),F=!0}self.document&&((T=self.document.createElement("img")).onload=function(){E&&D(E),E=null,R=!0},T.onerror=function(){F=!0,E=null},T.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var B="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes";function j(e,t){var r=Z(M.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"/"!==r.path&&(e.path=""+r.path+e.path),!M.REQUIRE_ACCESS_TOKEN)return K(e);if(!(t=t||M.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+B);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+B);return e.params.push("access_token="+t),K(e)}function U(e){return 0===e.indexOf("mapbox:")}var N=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function V(e){return N.test(e)}var q=/(\.(png|jpg)\d*)(?=$)/,G=/\.[\w]+$/,W=function(e){var t=Z(e);if(!t.path.match(/(^\/v4\/)/)||!t.path.match(G))return e;var r="mapbox://tiles/";r+=t.path.replace("/v4/","");var n=t.params.filter(function(e){return!e.match(/^access_token=/)});return n.length&&(r+="?"+n.join("&")),r},H=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function Z(e){var t=e.match(H);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function K(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function X(e){if(!e)return null;var t,r=e.split(".");if(!r||3!==r.length)return null;try{return JSON.parse((t=r[1],decodeURIComponent(self.atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(e){return null}}var Y=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Y.prototype.getStorageKey=function(e){var t,r=X(M.ACCESS_TOKEN),n="";return r&&r.u?(t=r.u,n=self.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number("0x"+t))}))):n=M.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+n:"mapbox.eventData:"+n},Y.prototype.fetchEventData=function(){var e=C("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=self.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var o=self.localStorage.getItem(r);o&&(this.anonId=o)}catch(e){w("Unable to read from LocalStorage")}},Y.prototype.saveEventData=function(){var e=C("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){w("Unable to write to LocalStorage")}},Y.prototype.processRequests=function(){},Y.prototype.postEvent=function(e,t,r){var n=this;if(M.EVENTS_URL){var o=Z(M.EVENTS_URL);o.params.push("access_token="+(M.ACCESS_TOKEN||""));var i={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.54.0",userId:this.anonId},a=t?p(i,t):i,s={url:K(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=ce(s,function(e){n.pendingRequest=null,r(e),n.saveEventData(),n.processRequests()})}},Y.prototype.queueRequest=function(e){this.queue.push(e),this.processRequests()};var J=function(e){function t(){e.call(this,"map.load"),this.success={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t){M.EVENTS_URL&&M.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return U(e)||V(e)})&&this.queueRequest({id:t,timestamp:Date.now()})},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var t=this.queue.shift(),r=t.id,n=t.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=d()),this.postEvent(n,{},function(t){t||r&&(e.success[r]=!0)}))}},t}(Y),$=new(function(e){function t(){e.call(this,"appUserTurnstile")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e){M.EVENTS_URL&&M.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return U(e)||V(e)})&&this.queueRequest(Date.now())},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var t=X(M.ACCESS_TOKEN),r=t?t.u:M.ACCESS_TOKEN,n=r!==this.eventData.tokenU;m(this.anonId)||(this.anonId=d(),n=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var i=new Date(this.eventData.lastSuccess),a=new Date(o),s=(o-this.eventData.lastSuccess)/864e5;n=n||s>=1||s<-1||i.getDate()!==a.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)})}},t}(Y)),Q=$.postTurnstileEvent.bind($),ee=new J,te=ee.postMapLoadEvent.bind(ee),re={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(re);var ne=function(e){function t(t,r,n){401===r&&V(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error);function oe(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var ie,ae,se=oe()?function(){return self.worker&&self.worker.referrer}:function(){var e=self.location.origin;if(e&&"null"!==e&&"file://"!==e)return e+self.location.pathname},le=function(e,t){if(!/^file:/.test(e.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(e,t){var r=new self.AbortController,n=new self.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:se(),signal:r.signal});return"json"===e.type&&n.headers.set("Accept","application/json"),self.fetch(n).then(function(r){r.ok?r[e.type||"text"]().then(function(e){t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires"))}).catch(function(e){return t(new Error(e.message))}):t(new ne(r.statusText,r.status,e.url))}).catch(function(e){20!==e.code&&t(new Error(e.message))}),{cancel:function(){return r.abort()}}}(e,t);if(oe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t)}return function(e,t){var r=new self.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&r.setRequestHeader("Accept","application/json"),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new ne(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},ue=function(e,t){return le(p(e,{type:"arrayBuffer"}),t)},ce=function(e,t){return le(p(e,{method:"POST"}),t)};ie=[],ae=0;var pe=function(e,t){if(ae>=M.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return ie.push(r),r}ae++;var n=!1,o=function(){if(!n)for(n=!0,ae--;ie.length&&ae<M.MAX_PARALLEL_IMAGE_REQUESTS;){var e=ie.shift(),t=e.requestParameters,r=e.callback;e.cancelled||(e.cancel=pe(t,r).cancel)}},i=ue(e,function(e,r,n,i){if(o(),e)t(e);else if(r){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){t(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var l=new self.Blob([new Uint8Array(r)],{type:"image/png"});a.cacheControl=n,a.expires=i,a.src=r.byteLength?s.createObjectURL(l):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}});return{cancel:function(){i.cancel(),o()}}};function fe(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function he(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var de=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},me=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",p({error:t},r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(de),ye=function(){};ye.prototype.on=function(e,t){return this._listeners=this._listeners||{},fe(e,t,this._listeners),this},ye.prototype.off=function(e,t){return he(e,t,this._listeners),he(e,t,this._oneTimeListeners),this},ye.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},fe(e,t,this._oneTimeListeners),this},ye.prototype.fire=function(e,t){"string"==typeof e&&(e=new de(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,o=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<o.length;n+=1)o[n].call(this,e);for(var i=0,a=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];i<a.length;i+=1){var s=a[i];he(r,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof me&&console.error(e.error);return this},ye.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},ye.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var ge={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:[{"!":"text-offset"}],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[{"!":"text-anchor"},{"!":"text-offset"},{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",requires:["text-field"],values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},ve=function(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)};function be(e){var t=e.key,r=e.value;return r?[new ve(t,r,"constants have been deprecated as of v8")]:[]}function _e(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,o=t;n<o.length;n+=1){var i=o[n];for(var a in i)e[a]=i[a]}return e}function xe(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function we(e){return Array.isArray(e)?e.map(we):xe(e)}var Se=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ke=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o[0],a=o[1];this.bindings[i]=a}};ke.prototype.concat=function(e){return new ke(this,e)},ke.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},ke.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ce={kind:"null"},Pe={kind:"number"},Ee={kind:"string"},Te={kind:"boolean"},Ae={kind:"color"},Ie={kind:"object"},ze={kind:"value"},Oe={kind:"collator"},Me={kind:"formatted"};function Le(e,t){return{kind:"array",itemType:e,N:t}}function Fe(e){if("array"===e.kind){var t=Fe(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Re=[Ce,Pe,Ee,Te,Ae,Me,Ie,Le(ze)];function De(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!De(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=Re;r<n.length;r+=1)if(!De(n[r],t))return null}return"Expected "+Fe(e)+" but found "+Fe(t)+" instead."}var Be=t(function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function o(e){return e<0?0:e>1?1:e}function i(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function a(e){return"%"===e[e.length-1]?o(parseFloat(e)/100):o(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,o=e.replace(/ /g,"").toLowerCase();if(o in r)return r[o].slice();if("#"===o[0])return 4===o.length?(t=parseInt(o.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===o.length&&(t=parseInt(o.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=o.indexOf("("),u=o.indexOf(")");if(-1!==l&&u+1===o.length){var c=o.substr(0,l),p=o.substr(l+1,u-(l+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=a(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),f];case"hsla":if(4!==p.length)return null;f=a(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,d=a(p[1]),m=a(p[2]),y=m<=.5?m*(d+1):m+d-m*d,g=2*m-y;return[n(255*s(g,y,h+1/3)),n(255*s(g,y,h)),n(255*s(g,y,h-1/3)),f];default:return null}}return null}}catch(e){}}).parseCSSColor,je=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};je.parse=function(e){if(e){if(e instanceof je)return e;if("string"==typeof e){var t=Be(e);if(t)return new je(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},je.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],o=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+o+")"},je.prototype.toArray=function(){var e=this.r,t=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]},je.black=new je(0,0,0,1),je.white=new je(1,1,1,1),je.transparent=new je(0,0,0,0),je.red=new je(1,0,0,1);var Ue=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ue.prototype.compare=function(e,t){return this.collator.compare(e,t)},Ue.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ne=function(e,t,r){this.text=e,this.scale=t,this.fontStack=r},Ve=function(e){this.sections=e};function qe(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Ge(e){if(null===e)return Ce;if("string"==typeof e)return Ee;if("boolean"==typeof e)return Te;if("number"==typeof e)return Pe;if(e instanceof je)return Ae;if(e instanceof Ue)return Oe;if(e instanceof Ve)return Me;if(Array.isArray(e)){for(var t,r=e.length,n=0,o=e;n<o.length;n+=1){var i=Ge(o[n]);if(t){if(t===i)continue;t=ze;break}t=i}return Le(t||ze,r)}return Ie}function We(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof je||e instanceof Ve?e.toString():JSON.stringify(e)}Ve.fromString=function(e){return new Ve([new Ne(e,null,null)])},Ve.prototype.toString=function(){return this.sections.map(function(e){return e.text}).join("")},Ve.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.text);var o={};n.fontStack&&(o["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(o["font-scale"]=n.scale),e.push(o)}return e};var He=function(e,t){this.type=e,this.value=t};He.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof je)return!0;if(t instanceof Ue)return!0;if(t instanceof Ve)return!0;if(Array.isArray(t)){for(var r=0,n=t;r<n.length;r+=1)if(!e(n[r]))return!1;return!0}if("object"==typeof t){for(var o in t)if(!e(t[o]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var r=e[1],n=Ge(r),o=t.expectedType;return"array"!==n.kind||0!==n.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(n=o),new He(n,r)},He.prototype.evaluate=function(){return this.value},He.prototype.eachChild=function(){},He.prototype.possibleOutputs=function(){return[this.value]},He.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof je?["rgba"].concat(this.value.toArray()):this.value instanceof Ve?this.value.serialize():this.value};var Ze=function(e){this.name="ExpressionEvaluationError",this.message=e};Ze.prototype.toJSON=function(){return this.message};var Ke={string:Ee,number:Pe,boolean:Te,object:Ie},Xe=function(e,t){this.type=e,this.args=t};Xe.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,o=e[0];if("array"===o){var i,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in Ke)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Ke[s],n++}else i=ze;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}r=Le(i,a)}else r=Ke[o];for(var l=[];n<e.length;n++){var u=t.parse(e[n],n,ze);if(!u)return null;l.push(u)}return new Xe(r,l)},Xe.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!De(this.type,Ge(r)))return r;if(t===this.args.length-1)throw new Ze("Expected value to be of type "+Fe(this.type)+", but found "+Fe(Ge(r))+" instead.")}return null},Xe.prototype.eachChild=function(e){this.args.forEach(e)},Xe.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},Xe.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(function(e){return e.serialize()}))};var Ye=function(e){this.type=Me,this.sections=e};Ye.parse=function(e,t){if(e.length<3)return t.error("Expected at least two arguments.");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");for(var r=[],n=1;n<e.length-1;n+=2){var o=t.parse(e[n],1,ze);if(!o)return null;var i=o.type.kind;if("string"!==i&&"value"!==i&&"null"!==i)return t.error("Formatted text type must be 'string', 'value', or 'null'.");var a=e[n+1];if("object"!=typeof a||Array.isArray(a))return t.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Pe)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,Le(Ee))))return null;r.push({text:o,scale:s,font:l})}return new Ye(r)},Ye.prototype.evaluate=function(e){return new Ve(this.sections.map(function(t){return new Ne(We(t.text.evaluate(e)),t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null)}))},Ye.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.text),n.scale&&e(n.scale),n.font&&e(n.font)}},Ye.prototype.possibleOutputs=function(){return[void 0]},Ye.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.text.serialize());var o={};n.scale&&(o["font-scale"]=n.scale.serialize()),n.font&&(o["text-font"]=n.font.serialize()),e.push(o)}return e};var Je={"to-boolean":Te,"to-color":Ae,"to-number":Pe,"to-string":Ee},$e=function(e,t){this.type=e,this.args=t};$e.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=Je[r],o=[],i=1;i<e.length;i++){var a=t.parse(e[i],i,ze);if(!a)return null;o.push(a)}return new $e(n,o)},$e.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,o=this.args;n<o.length;n+=1){if(r=null,(t=o[n].evaluate(e))instanceof je)return t;if("string"==typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":qe(t[0],t[1],t[2],t[3])))return new je(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ze(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(e)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new Ze("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?Ve.fromString(We(this.args[0].evaluate(e))):We(this.args[0].evaluate(e))},$e.prototype.eachChild=function(e){this.args.forEach(e)},$e.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},$e.prototype.serialize=function(){if("formatted"===this.type.kind)return new Ye([{text:this.args[0],scale:null,font:null}]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var Qe=["Unknown","Point","LineString","Polygon"],et=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};et.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},et.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Qe[this.feature.type]:this.feature.type:null},et.prototype.properties=function(){return this.feature&&this.feature.properties||{}},et.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=je.parse(e)),t};var tt=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};tt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},tt.prototype.eachChild=function(e){this.args.forEach(e)},tt.prototype.possibleOutputs=function(){return[void 0]},tt.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},tt.parse=function(e,t){var r,n=e[0],o=tt.definitions[n];if(!o)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(o)?o[0]:o.type,a=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,s=a.filter(function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1}),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],f=p[0],h=p[1];l=new st(t.registry,t.path,null,t.scope);for(var d=[],m=!1,y=1;y<e.length;y++){var g=e[y],v=Array.isArray(f)?f[y-1]:f.type,b=l.parse(g,1+d.length,v);if(!b){m=!0;break}d.push(b)}if(!m)if(Array.isArray(f)&&f.length!==d.length)l.error("Expected "+f.length+" arguments, but found "+d.length+" instead.");else{for(var _=0;_<d.length;_++){var x=Array.isArray(f)?f[_]:f.type,w=d[_];l.concat(_+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new tt(n,i,h,d)}}if(1===s.length)(r=t.errors).push.apply(r,l.errors);else{for(var S=(s.length?s:a).map(function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Fe).join(", ")+")":"("+Fe(t.type)+"...)"}).join(" | "),k=[],C=1;C<e.length;C++){var P=t.parse(e[C],1+k.length);if(!P)return null;k.push(Fe(P.type))}t.error("Expected arguments of type "+S+", but found ("+k.join(", ")+") instead.")}return null},tt.register=function(e,t){for(var r in tt.definitions=t,t)e[r]=tt};var rt=function(e,t,r){this.type=Oe,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function nt(e){if(e instanceof tt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild(function(e){t&&!nt(e)&&(t=!1)}),t}function ot(e){if(e instanceof tt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(e){t&&!ot(e)&&(t=!1)}),t}function it(e,t){if(e instanceof tt&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild(function(e){r&&!it(e,t)&&(r=!1)}),r}rt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Te);if(!n)return null;var o=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Te);if(!o)return null;var i=null;return r.locale&&!(i=t.parse(r.locale,1,Ee))?null:new rt(n,o,i)},rt.prototype.evaluate=function(e){return new Ue(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},rt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},rt.prototype.possibleOutputs=function(){return[void 0]},rt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var at=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};at.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new at(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},at.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},at.prototype.eachChild=function(){},at.prototype.possibleOutputs=function(){return[void 0]},at.prototype.serialize=function(){return["var",this.name]};var st=function(e,t,r,n,o){void 0===t&&(t=[]),void 0===n&&(n=new ke),void 0===o&&(o=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=n,this.errors=o,this.expectedType=r};function lt(e,t){for(var r,n,o=0,i=e.length-1,a=0;o<=i;){if(r=e[a=Math.floor((o+i)/2)],n=e[a+1],t===r||t>r&&t<n)return a;if(r<t)o=a+1;else{if(!(r>t))throw new Ze("Input is not a number.");i=a-1}}return Math.max(a-1,0)}st.prototype.parse=function(e,t,r,n,o){return void 0===o&&(o={}),t?this.concat(t,r,n)._parse(e,o):this._parse(e,o)},st.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new Xe(t,[e]):"coerce"===r?new $e(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var o=this.registry[n];if(o){var i=o.parse(e,this);if(!i)return null;if(this.expectedType){var a=this.expectedType,s=i.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else i=r(i,a,t.typeAnnotation||"coerce");else i=r(i,a,t.typeAnnotation||"assert")}if(!(i instanceof He)&&function e(t){if(t instanceof at)return e(t.boundExpression);if(t instanceof tt&&"error"===t.name)return!1;if(t instanceof rt)return!1;var r=t instanceof $e||t instanceof Xe,n=!0;return t.eachChild(function(t){n=r?n&&e(t):n&&t instanceof He}),!!n&&nt(t)&&it(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(i)){var l=new et;try{i=new He(i.type,i.evaluate(l))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},st.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new st(this.registry,n,t||null,o,this.errors)},st.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new Se(n,e))},st.prototype.checkSubtype=function(e,t){var r=De(e,t);return r&&this.error(r),r};var ut=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,o=r;n<o.length;n+=1){var i=o[n],a=i[0],s=i[1];this.labels.push(a),this.outputs.push(s)}};ut.parse=function(e,t){var r=e[1],n=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,1,Pe)))return null;var o=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType),n.unshift(-1/0);for(var a=0;a<n.length;a+=2){var s=n[a],l=n[a+1],u=a+1,c=a+2;if("number"!=typeof s)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(o.length&&o[o.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=t.parse(l,c,i);if(!p)return null;i=i||p.type,o.push([s,p])}return new ut(i,r,o)},ut.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var o=t.length;return n>=t[o-1]?r[o-1].evaluate(e):r[lt(t,n)].evaluate(e)},ut.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},ut.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}))},ut.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var ct=pt;function pt(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}function ft(e,t,r){return e*(1-r)+t*r}pt.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},pt.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},pt.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},pt.prototype.solveCurveX=function(e,t){var r,n,o,i,a;for(void 0===t&&(t=1e-6),o=e,a=0;a<8;a++){if(i=this.sampleCurveX(o)-e,Math.abs(i)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if((o=e)<(r=0))return r;if(o>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-e)<t)return o;e>i?r=o:n=o,o=.5*(n-r)+r}return o},pt.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var ht=Object.freeze({number:ft,color:function(e,t,r){return new je(ft(e.r,t.r,r),ft(e.g,t.g,r),ft(e.b,t.b,r),ft(e.a,t.a,r))},array:function(e,t,r){return e.map(function(e,n){return ft(e,t[n],r)})}}),dt=.95047,mt=1,yt=1.08883,gt=4/29,vt=6/29,bt=3*vt*vt,_t=vt*vt*vt,xt=Math.PI/180,wt=180/Math.PI;function St(e){return e>_t?Math.pow(e,1/3):e/bt+gt}function kt(e){return e>vt?e*e*e:bt*(e-gt)}function Ct(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Pt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Et(e){var t=Pt(e.r),r=Pt(e.g),n=Pt(e.b),o=St((.4124564*t+.3575761*r+.1804375*n)/dt),i=St((.2126729*t+.7151522*r+.072175*n)/mt);return{l:116*i-16,a:500*(o-i),b:200*(i-St((.0193339*t+.119192*r+.9503041*n)/yt)),alpha:e.a}}function Tt(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=mt*kt(t),r=dt*kt(r),n=yt*kt(n),new je(Ct(3.2404542*r-1.5371385*t-.4985314*n),Ct(-.969266*r+1.8760108*t+.041556*n),Ct(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function At(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var It={forward:Et,reverse:Tt,interpolate:function(e,t,r){return{l:ft(e.l,t.l,r),a:ft(e.a,t.a,r),b:ft(e.b,t.b,r),alpha:ft(e.alpha,t.alpha,r)}}},zt={forward:function(e){var t=Et(e),r=t.l,n=t.a,o=t.b,i=Math.atan2(o,n)*wt;return{h:i<0?i+360:i,c:Math.sqrt(n*n+o*o),l:r,alpha:e.a}},reverse:function(e){var t=e.h*xt,r=e.c;return Tt({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:At(e.h,t.h,r),c:ft(e.c,t.c,r),l:ft(e.l,t.l,r),alpha:ft(e.alpha,t.alpha,r)}}},Ot=Object.freeze({lab:It,hcl:zt}),Mt=function(e,t,r,n,o){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var i=0,a=o;i<a.length;i+=1){var s=a[i],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function Lt(e,t,r,n){var o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}Mt.interpolationFactor=function(e,t,r,n){var o=0;if("exponential"===e.name)o=Lt(t,e.base,r,n);else if("linear"===e.name)o=Lt(t,1,r,n);else if("cubic-bezier"===e.name){var i=e.controlPoints;o=new ct(i[0],i[1],i[2],i[3]).solve(Lt(t,1,r,n))}return o},Mt.parse=function(e,t){var r=e[0],n=e[1],o=e[2],i=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(o=t.parse(o,2,Pe)))return null;var l=[],u=null;"interpolate-hcl"===r||"interpolate-lab"===r?u=Ae:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<i.length;c+=2){var p=i[c],f=i[c+1],h=c+3,d=c+4;if("number"!=typeof p)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(l.length&&l[l.length-1][0]>=p)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var m=t.parse(f,d,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Mt(u,r,n,o,l):t.error("Type "+Fe(u)+" is not interpolatable.")},Mt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var o=t.length;if(n>=t[o-1])return r[o-1].evaluate(e);var i=lt(t,n),a=t[i],s=t[i+1],l=Mt.interpolationFactor(this.interpolation,n,a,s),u=r[i].evaluate(e),c=r[i+1].evaluate(e);return"interpolate"===this.operator?ht[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?zt.reverse(zt.interpolate(zt.forward(u),zt.forward(c),l)):It.reverse(It.interpolate(It.forward(u),It.forward(c),l))},Mt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Mt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}))},Mt.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var Ft=function(e,t){this.type=e,this.args=t};Ft.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var o=[],i=0,a=e.slice(1);i<a.length;i+=1){var s=a[i],l=t.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,o.push(l)}var u=n&&o.some(function(e){return De(n,e.type)});return new Ft(u?ze:r,o)},Ft.prototype.evaluate=function(e){for(var t=null,r=0,n=this.args;r<n.length&&null===(t=n[r].evaluate(e));r+=1);return t},Ft.prototype.eachChild=function(e){this.args.forEach(e)},Ft.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},Ft.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Rt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Rt.prototype.evaluate=function(e){return this.result.evaluate(e)},Rt.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},Rt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var o=e[n];if("string"!=typeof o)return t.error("Expected string, but found "+typeof o+" instead.",n);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=t.parse(e[n+1],n+1);if(!i)return null;r.push([o,i])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return a?new Rt(r,a):null},Rt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Rt.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],o=n[0],i=n[1];e.push(o,i.serialize())}return e.push(this.result.serialize()),e};var Dt=function(e,t,r){this.type=e,this.index=t,this.input=r};Dt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Pe),n=t.parse(e[2],2,Le(t.expectedType||ze));if(!r||!n)return null;var o=n.type;return new Dt(o.itemType,r,n)},Dt.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Ze("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new Ze("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new Ze("Array index must be an integer, but found "+t+" instead.");return r[t]},Dt.prototype.eachChild=function(e){e(this.index),e(this.input)},Dt.prototype.possibleOutputs=function(){return[void 0]},Dt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Bt=function(e,t,r,n,o,i){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=o,this.otherwise=i};Bt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var o={},i=[],a=2;a<e.length-1;a+=2){var s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);var u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var f=p[c];if("number"!=typeof f&&"string"!=typeof f)return u.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof f&&Math.floor(f)!==f)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,Ge(f)))return null}else r=Ge(f);if(void 0!==o[String(f)])return u.error("Branch labels must be unique.");o[String(f)]=i.length}var h=t.parse(l,a,n);if(!h)return null;n=n||h.type,i.push(h)}var d=t.parse(e[1],1,ze);if(!d)return null;var m=t.parse(e[e.length-1],e.length-1,n);return m?"value"!==d.type.kind&&t.concat(1).checkSubtype(r,d.type)?null:new Bt(r,n,d,o,i,m):null},Bt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(Ge(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Bt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Bt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Bt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},o=0,i=Object.keys(this.cases).sort();o<i.length;o+=1){var a=i[o];void 0===(p=n[this.cases[a]])?(n[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[p][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=r;l<u.length;l+=1){var c=u[l],p=c[0],f=c[1];1===f.length?t.push(s(f[0])):t.push(f.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var jt=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};function Ut(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Nt(e,t,r,n){return 0===n.compare(t,r)}function Vt(e,t,r){var n="=="!==e&&"!="!==e;return function(){function o(e,t,r){this.type=Te,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return o.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],i=t.parse(e[1],1,ze);if(!i)return null;if(!Ut(r,i.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Fe(i.type)+"'.");var a=t.parse(e[2],2,ze);if(!a)return null;if(!Ut(r,a.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Fe(a.type)+"'.");if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Fe(i.type)+"' and '"+Fe(a.type)+"'.");n&&("value"===i.type.kind&&"value"!==a.type.kind?i=new Xe(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new Xe(i.type,[a])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Oe)))return null}return new o(i,a,s)},o.prototype.evaluate=function(o){var i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){var s=Ge(i),l=Ge(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Ze('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var u=Ge(i),c=Ge(a);if("string"!==u.kind||"string"!==c.kind)return t(o,i,a)}return this.collator?r(o,i,a,this.collator.evaluate(o)):t(o,i,a)},o.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},o.prototype.possibleOutputs=function(){return[!0,!1]},o.prototype.serialize=function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t},o}()}jt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],o=1;o<e.length-1;o+=2){var i=t.parse(e[o],o,Te);if(!i)return null;var a=t.parse(e[o+1],o+1,r);if(!a)return null;n.push([i,a]),r=r||a.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new jt(r,n,s):null},jt.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],o=n[0],i=n[1];if(o.evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},jt.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],o=n[0],i=n[1];e(o),e(i)}e(this.otherwise)},jt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.branches.map(function(e){return e[0],e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs())},jt.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var qt=Vt("==",function(e,t,r){return t===r},Nt),Gt=Vt("!=",function(e,t,r){return t!==r},function(e,t,r,n){return!Nt(0,t,r,n)}),Wt=Vt("<",function(e,t,r){return t<r},function(e,t,r,n){return n.compare(t,r)<0}),Ht=Vt(">",function(e,t,r){return t>r},function(e,t,r,n){return n.compare(t,r)>0}),Zt=Vt("<=",function(e,t,r){return t<=r},function(e,t,r,n){return n.compare(t,r)<=0}),Kt=Vt(">=",function(e,t,r){return t>=r},function(e,t,r,n){return n.compare(t,r)>=0}),Xt=function(e,t,r,n,o){this.type=Ee,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=o};Xt.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Pe);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var o=null;if(n.locale&&!(o=t.parse(n.locale,1,Ee)))return null;var i=null;if(n.currency&&!(i=t.parse(n.currency,1,Ee)))return null;var a=null;if(n["min-fraction-digits"]&&!(a=t.parse(n["min-fraction-digits"],1,Pe)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,Pe))?null:new Xt(r,o,i,a,s)},Xt.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Xt.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Xt.prototype.possibleOutputs=function(){return[void 0]},Xt.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var Yt=function(e){this.type=Pe,this.input=e};Yt.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Fe(r.type)+" instead."):new Yt(r):null},Yt.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ze("Expected value to be of type string or array, but found "+Fe(Ge(t))+" instead.")},Yt.prototype.eachChild=function(e){e(this.input)},Yt.prototype.possibleOutputs=function(){return[void 0]},Yt.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Jt={"==":qt,"!=":Gt,">":Ht,"<":Wt,">=":Kt,"<=":Zt,array:Xe,at:Dt,boolean:Xe,case:jt,coalesce:Ft,collator:rt,format:Ye,interpolate:Mt,"interpolate-hcl":Mt,"interpolate-lab":Mt,length:Yt,let:Rt,literal:He,match:Bt,number:Xe,"number-format":Xt,object:Xe,step:ut,string:Xe,"to-boolean":$e,"to-color":$e,"to-number":$e,"to-string":$e,var:at};function $t(e,t){var r=t[0],n=t[1],o=t[2],i=t[3];r=r.evaluate(e),n=n.evaluate(e),o=o.evaluate(e);var a=i?i.evaluate(e):1,s=qe(r,n,o,a);if(s)throw new Ze(s);return new je(r/255*a,n/255*a,o/255*a,a)}function Qt(e,t){return e in t}function er(e,t){var r=t[e];return void 0===r?null:r}function tr(e){return{type:e}}function rr(e){return{result:"success",value:e}}function nr(e){return{result:"error",value:e}}function or(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function ir(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function ar(e){return!!e.expression&&e.expression.interpolated}function sr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function lr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ur(e){return e}function cr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function pr(e,t,r,n,o){return cr(typeof r===o?n[r]:void 0,e.default,t.default)}function fr(e,t,r){if("number"!==sr(r))return cr(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var o=mr(e.stops,r);return e.stops[o][1]}function hr(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==sr(r))return cr(e.default,t.default);var o=e.stops.length;if(1===o)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[o-1][0])return e.stops[o-1][1];var i=mr(e.stops,r),a=function(e,t,r,n){var o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}(r,n,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1],u=ht[t.type]||ur;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Ot[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return u(r,n,a)}}:u(s,l,a)}function dr(e,t,r){return"color"===t.type?r=je.parse(r):"formatted"===t.type?r=Ve.fromString(r.toString()):sr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),cr(r,e.default,t.default)}function mr(e,t){for(var r,n,o=0,i=e.length-1,a=0;o<=i;){if(r=e[a=Math.floor((o+i)/2)][0],n=e[a+1][0],t===r||t>r&&t<n)return a;r<t?o=a+1:r>t&&(i=a-1)}return Math.max(a-1,0)}tt.register(Jt,{error:[{kind:"error"},[Ee],function(e,t){var r=t[0];throw new Ze(r.evaluate(e))}],typeof:[Ee,[ze],function(e,t){return Fe(Ge(t[0].evaluate(e)))}],"to-rgba":[Le(Pe,4),[Ae],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ae,[Pe,Pe,Pe],$t],rgba:[Ae,[Pe,Pe,Pe,Pe],$t],has:{type:Te,overloads:[[[Ee],function(e,t){return Qt(t[0].evaluate(e),e.properties())}],[[Ee,Ie],function(e,t){var r=t[0],n=t[1];return Qt(r.evaluate(e),n.evaluate(e))}]]},get:{type:ze,overloads:[[[Ee],function(e,t){return er(t[0].evaluate(e),e.properties())}],[[Ee,Ie],function(e,t){var r=t[0],n=t[1];return er(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[ze,[Ee],function(e,t){return er(t[0].evaluate(e),e.featureState||{})}],properties:[Ie,[],function(e){return e.properties()}],"geometry-type":[Ee,[],function(e){return e.geometryType()}],id:[ze,[],function(e){return e.id()}],zoom:[Pe,[],function(e){return e.globals.zoom}],"heatmap-density":[Pe,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Pe,[],function(e){return e.globals.lineProgress||0}],accumulated:[ze,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Pe,tr(Pe),function(e,t){for(var r=0,n=0,o=t;n<o.length;n+=1)r+=o[n].evaluate(e);return r}],"*":[Pe,tr(Pe),function(e,t){for(var r=1,n=0,o=t;n<o.length;n+=1)r*=o[n].evaluate(e);return r}],"-":{type:Pe,overloads:[[[Pe,Pe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[Pe],function(e,t){return-t[0].evaluate(e)}]]},"/":[Pe,[Pe,Pe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[Pe,[Pe,Pe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[Pe,[],function(){return Math.LN2}],pi:[Pe,[],function(){return Math.PI}],e:[Pe,[],function(){return Math.E}],"^":[Pe,[Pe,Pe],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[Pe,[Pe],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[Pe,[Pe],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[Pe,[Pe],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[Pe,[Pe],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[Pe,[Pe],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[Pe,[Pe],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[Pe,[Pe],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[Pe,[Pe],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[Pe,[Pe],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[Pe,[Pe],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[Pe,tr(Pe),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[Pe,tr(Pe),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[Pe,[Pe],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[Pe,[Pe],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[Pe,[Pe],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[Pe,[Pe],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[Te,[Ee,ze],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[Te,[ze],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Te,[Ee],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Te,[Ee,ze],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o==typeof i&&o<i}],"filter-id-<":[Te,[ze],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n==typeof o&&n<o}],"filter->":[Te,[Ee,ze],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o==typeof i&&o>i}],"filter-id->":[Te,[ze],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n==typeof o&&n>o}],"filter-<=":[Te,[Ee,ze],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o==typeof i&&o<=i}],"filter-id-<=":[Te,[ze],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n==typeof o&&n<=o}],"filter->=":[Te,[Ee,ze],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o==typeof i&&o>=i}],"filter-id->=":[Te,[ze],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n==typeof o&&n>=o}],"filter-has":[Te,[ze],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Te,[],function(e){return null!==e.id()}],"filter-type-in":[Te,[Le(Ee)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Te,[Le(ze)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Te,[Ee,Le(ze)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Te,[Ee,Le(ze)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var o=r+n>>1;if(t[o]===e)return!0;t[o]>e?n=o-1:r=o+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Te,overloads:[[[Te,Te],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[tr(Te),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:Te,overloads:[[[Te,Te],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[tr(Te),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[Te,[Te],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Te,[Ee],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[Ee,[Ee],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Ee,[Ee],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Ee,tr(ze),function(e,t){return t.map(function(t){return We(t.evaluate(e))}).join("")}],"resolved-locale":[Ee,[Oe],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var yr=function(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new et,this._defaultValue=t?"color"===(r=t).type&&lr(r.default)?new je(0,0,0,0):"color"===r.type?je.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function gr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Jt}function vr(e,t){var r=new st(Jt,[],t?function(e){var t={color:Ae,string:Ee,number:Pe,enum:Ee,boolean:Te,formatted:Me};return"array"===e.type?Le(t[e.value]||ze,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?rr(new yr(n,t)):nr(r.errors)}yr.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this.expression.evaluate(this._evaluator)},yr.prototype.evaluate=function(e,t,r){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null;try{var n=this.expression.evaluate(this._evaluator);if(null==n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new Ze("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var br=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!ot(t.expression)};br.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r)},br.prototype.evaluate=function(e,t,r){return this._styleExpression.evaluate(e,t,r)};var _r=function(e,t,r){this.kind=e,this.zoomStops=r.labels,this._styleExpression=t,this.isStateDependent="camera"!==e&&!ot(t.expression),r instanceof Mt&&(this._interpolationType=r.interpolation)};function xr(e,t){if("error"===(e=vr(e,t)).result)return e;var r=e.value.expression,n=nt(r);if(!n&&!or(t))return nr([new Se("","data expressions not supported")]);var o=it(r,["zoom"]);if(!o&&!ir(t))return nr([new Se("","zoom expressions not supported")]);var i=function e(t){var r=null;if(t instanceof Rt)r=e(t.result);else if(t instanceof Ft)for(var n=0,o=t.args;n<o.length;n+=1){var i=o[n];if(r=e(i))break}else(t instanceof ut||t instanceof Mt)&&t.input instanceof tt&&"zoom"===t.input.name&&(r=t);return r instanceof Se?r:(t.eachChild(function(t){var n=e(t);n instanceof Se?r=n:!r&&n?r=new Se("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new Se("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r)}(r);return i||o?i instanceof Se?nr([i]):i instanceof Mt&&!ar(t)?nr([new Se("",'"interpolate" expressions cannot be used with this property')]):rr(i?new _r(n?"camera":"composite",e.value,i):new br(n?"constant":"source",e.value)):nr([new Se("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}_r.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r)},_r.prototype.evaluate=function(e,t,r){return this._styleExpression.evaluate(e,t,r)},_r.prototype.interpolationFactor=function(e,t,r){return this._interpolationType?Mt.interpolationFactor(this._interpolationType,e,t,r):0};var wr=function(e,t){this._parameters=e,this._specification=t,_e(this,function e(t,r){var n,o,i,a="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||void 0!==t.property,u=s||!l,c=t.type||(ar(r)?"exponential":"interval");if(a&&((t=_e({},t)).stops&&(t.stops=t.stops.map(function(e){return[e[0],je.parse(e[1])]})),t.default?t.default=je.parse(t.default):t.default=je.parse(r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Ot[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)n=hr;else if("interval"===c)n=fr;else if("categorical"===c){n=pr,o=Object.create(null);for(var p=0,f=t.stops;p<f.length;p+=1){var h=f[p];o[h[0]]=h[1]}i=typeof t.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=dr}if(s){for(var d={},m=[],y=0;y<t.stops.length;y++){var g=t.stops[y],v=g[0].zoom;void 0===d[v]&&(d[v]={zoom:v,type:t.type,property:t.property,default:t.default,stops:[]},m.push(v)),d[v].stops.push([g[0].value,g[1]])}for(var b=[],_=0,x=m;_<x.length;_+=1){var w=x[_];b.push([d[w].zoom,e(d[w],r)])}return{kind:"composite",interpolationFactor:Mt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:b.map(function(e){return e[0]}),evaluate:function(e,n){var o=e.zoom;return hr({stops:b,base:t.base},r,o).evaluate(o,n)}}}return u?{kind:"camera",interpolationFactor:"exponential"===c?Mt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(e){return e[0]}),evaluate:function(e){var a=e.zoom;return n(t,r,a,o,i)}}:{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?cr(t.default,r.default):n(t,r,s,o,i)}}}(this._parameters,this._specification))};function Sr(e,t){if(lr(e))return new wr(e,t);if(gr(e)){var r=xr(e,t);if("error"===r.result)throw new Error(r.value.map(function(e){return e.key+": "+e.message}).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=je.parse(e)),{kind:"constant",evaluate:function(){return n}}}function kr(e){var t=e.key,r=e.value,n=e.valueSpec||{},o=e.objectElementValidators||{},i=e.style,a=e.styleSpec,s=[],l=sr(r);if("object"!==l)return[new ve(t,r,"object expected, "+l+" found")];for(var u in r){var c=u.split(".")[0],p=n[c]||n["*"],f=void 0;if(o[c])f=o[c];else if(n[c])f=Kr;else if(o["*"])f=o["*"];else{if(!n["*"]){s.push(new ve(t,r[u],'unknown property "'+u+'"'));continue}f=Kr}s=s.concat(f({key:(t?t+".":t)+u,value:r[u],valueSpec:p,style:i,styleSpec:a,object:r,objectKey:u},r))}for(var h in n)o[h]||n[h].required&&void 0===n[h].default&&void 0===r[h]&&s.push(new ve(t,r,'missing required property "'+h+'"'));return s}function Cr(e){var t=e.value,r=e.valueSpec,n=e.style,o=e.styleSpec,i=e.key,a=e.arrayElementValidator||Kr;if("array"!==sr(t))return[new ve(i,t,"array expected, "+sr(t)+" found")];if(r.length&&t.length!==r.length)return[new ve(i,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new ve(i,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value,values:r.values};o.$version<7&&(s.function=r.function),"object"===sr(r.value)&&(s=r.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:n,styleSpec:o,key:i+"["+u+"]"}));return l}function Pr(e){var t=e.key,r=e.value,n=e.valueSpec,o=sr(r);return"number"!==o?[new ve(t,r,"number expected, "+o+" found")]:"minimum"in n&&r<n.minimum?[new ve(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new ve(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Er(e){var t,r,n,o=e.valueSpec,i=xe(e.value.type),a={},s="categorical"!==i&&void 0===e.value.property,l=!s,u="array"===sr(e.value.stops)&&"array"===sr(e.value.stops[0])&&"object"===sr(e.value.stops[0][0]),c=kr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new ve(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(Cr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:p})),"array"===sr(r)&&0===r.length&&t.push(new ve(e.key,r,"array must have at least one stop")),t},default:function(e){return Kr({key:e.key,value:e.value,valueSpec:o,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&c.push(new ve(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||c.push(new ve(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!ar(e.valueSpec)&&c.push(new ve(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!or(e.valueSpec)?c.push(new ve(e.key,e.value,"property functions not supported")):s&&!ir(e.valueSpec)&&c.push(new ve(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!u||void 0!==e.value.property||c.push(new ve(e.key,e.value,'"property" property is required')),c;function p(e){var t=[],i=e.value,s=e.key;if("array"!==sr(i))return[new ve(s,i,"array expected, "+sr(i)+" found")];if(2!==i.length)return[new ve(s,i,"array length 2 expected, length "+i.length+" found")];if(u){if("object"!==sr(i[0]))return[new ve(s,i,"object expected, "+sr(i[0])+" found")];if(void 0===i[0].zoom)return[new ve(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new ve(s,i,"object stop key must have value")];if(n&&n>xe(i[0].zoom))return[new ve(s,i[0].zoom,"stop zoom values must appear in ascending order")];xe(i[0].zoom)!==n&&(n=xe(i[0].zoom),r=void 0,a={}),t=t.concat(kr({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Pr,value:f}}))}else t=t.concat(f({key:s+"[0]",value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return gr(we(i[1]))?t.concat([new ve(s+"[1]",i[1],"expressions are not allowed in function stops.")]):t.concat(Kr({key:s+"[1]",value:i[1],valueSpec:o,style:e.style,styleSpec:e.styleSpec}))}function f(e,n){var s=sr(e.value),l=xe(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new ve(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ve(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var c="number expected, "+s+" found";return or(o)&&void 0===i&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ve(e.key,u,c)]}return"categorical"!==i||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&void 0!==r&&l<r?[new ve(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in a?[new ve(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new ve(e.key,u,"integer expected, found "+l)]}}function Tr(e){var t=("property"===e.expressionContext?xr:vr)(we(e.value),e.valueSpec);if("error"===t.result)return t.value.map(function(t){return new ve(""+e.key+t.key,e.value,t.message)});var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==r.possibleOutputs().indexOf(void 0))return[new ve(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!ot(r))return[new ve(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!ot(r))return[new ve(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!it(r,["zoom","feature-state"]))return[new ve(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!nt(r))return[new ve(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ar(e){var t=e.key,r=e.value,n=e.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(xe(r))&&o.push(new ve(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(xe(r))&&o.push(new ve(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),o}function Ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!Ir(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}wr.deserialize=function(e){return new wr(e._parameters,e._specification)},wr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var zr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Or(e){if(null==e)return function(){return!0};Ir(e)||(e=Lr(e));var t=vr(e,zr);if("error"===t.result)throw new Error(t.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,r){return t.value.evaluate(e,r)}}function Mr(e,t){return e<t?-1:e>t?1:0}function Lr(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Fr(e[1],e[2],"=="):"!="===r?Br(Fr(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Fr(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(Lr))):"all"===r?["all"].concat(e.slice(1).map(Lr)):"none"===r?["all"].concat(e.slice(1).map(Lr).map(Br)):"in"===r?Rr(e[1],e.slice(2)):"!in"===r?Br(Rr(e[1],e.slice(2))):"has"===r?Dr(e[1]):"!has"!==r||Br(Dr(e[1]))}function Fr(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Rr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(Mr)]]:["filter-in-small",e,["literal",t]]}}function Dr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Br(e){return["!",e]}function jr(e){return Ir(we(e.value))?Tr(_e({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,n=t.key;if("array"!==sr(r))return[new ve(n,r,"array expected, "+sr(r)+" found")];var o,i=t.styleSpec,a=[];if(r.length<1)return[new ve(n,r,"filter array must have at least 1 element")];switch(a=a.concat(Ar({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),xe(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===xe(r[1])&&a.push(new ve(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new ve(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(o=sr(r[1]))&&a.push(new ve(n+"[1]",r[1],"string expected, "+o+" found"));for(var s=2;s<r.length;s++)o=sr(r[s]),"$type"===xe(r[1])?a=a.concat(Ar({key:n+"["+s+"]",value:r[s],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new ve(n+"["+s+"]",r[s],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var l=1;l<r.length;l++)a=a.concat(e({key:n+"["+l+"]",value:r[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=sr(r[1]),2!==r.length?a.push(new ve(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==o&&a.push(new ve(n+"[1]",r[1],"string expected, "+o+" found"))}return a}(e)}function Ur(e,t){var r=e.key,n=e.style,o=e.styleSpec,i=e.value,a=e.objectKey,s=o[t+"_"+e.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Kr({key:r,value:i,valueSpec:o.transition,style:n,styleSpec:o});var u,c=e.valueSpec||s[a];if(!c)return[new ve(r,i,'unknown property "'+a+'"')];if("string"===sr(i)&&or(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(i)))return[new ve(r,i,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&p.push(new ve(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&lr(we(i))&&"identity"===xe(i.type)&&p.push(new ve(r,i,'"text-font" does not support identity functions'))),p.concat(Kr({key:e.key,value:i,valueSpec:c,style:n,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:a}))}function Nr(e){return Ur(e,"paint")}function Vr(e){return Ur(e,"layout")}function qr(e){var t=[],r=e.value,n=e.key,o=e.style,i=e.styleSpec;r.type||r.ref||t.push(new ve(n,r,'either "type" or "ref" is required'));var a,s=xe(r.type),l=xe(r.ref);if(r.id)for(var u=xe(r.id),c=0;c<e.arrayIndex;c++){var p=o.layers[c];xe(p.id)===u&&t.push(new ve(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+p.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach(function(e){e in r&&t.push(new ve(n,r[e],'"'+e+'" is prohibited for ref layers'))}),o.layers.forEach(function(e){xe(e.id)===l&&(a=e)}),a?a.ref?t.push(new ve(n,r.ref,"ref cannot reference another ref layer")):s=xe(a.type):t.push(new ve(n,r.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(r.source){var f=o.sources&&o.sources[r.source],h=f&&xe(f.type);f?"vector"===h&&"raster"===s?t.push(new ve(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new ve(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==h||r["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new ve(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===h&&f.lineMetrics||t.push(new ve(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new ve(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new ve(n,r.source,'source "'+r.source+'" not found'))}else t.push(new ve(n,r,'missing required property "source"'));return t=t.concat(kr({key:n,value:r,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Kr({key:n+".type",value:r.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:jr,layout:function(e){return kr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Vr(_e({layerType:s},e))}}})},paint:function(e){return kr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Nr(_e({layerType:s},e))}}})}}}))}function Gr(e){var t=e.value,r=e.key,n=e.styleSpec,o=e.style;if(!t.type)return[new ve(r,t,'"type" is required')];var i,a=xe(t.type);switch(a){case"vector":case"raster":case"raster-dem":if(i=kr({key:r,value:t,valueSpec:n["source_"+a.replace("-","_")],style:e.style,styleSpec:n}),"url"in t)for(var s in t)["type","url","tileSize"].indexOf(s)<0&&i.push(new ve(r+"."+s,t[s],'a source with a "url" property may not include a "'+s+'" property'));return i;case"geojson":if(i=kr({key:r,value:t,valueSpec:n.source_geojson,style:o,styleSpec:n}),t.cluster)for(var l in t.clusterProperties){var u=t.clusterProperties[l],c=u[0],p=u[1],f="string"==typeof c?[c,["accumulated"],["get",l]]:c;i.push.apply(i,Tr({key:r+"."+l+".map",value:p,expressionContext:"cluster-map"})),i.push.apply(i,Tr({key:r+"."+l+".reduce",value:f,expressionContext:"cluster-reduce"}))}return i;case"video":return kr({key:r,value:t,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return kr({key:r,value:t,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return[new ve(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ar({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:n})}}function Wr(e){var t=e.value,r=e.styleSpec,n=r.light,o=e.style,i=[],a=sr(t);if(void 0===t)return i;if("object"!==a)return i.concat([new ve("light",t,"object expected, "+a+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);i=l&&n[l[1]]&&n[l[1]].transition?i.concat(Kr({key:s,value:t[s],valueSpec:r.transition,style:o,styleSpec:r})):n[s]?i.concat(Kr({key:s,value:t[s],valueSpec:n[s],style:o,styleSpec:r})):i.concat([new ve(s,t[s],'unknown property "'+s+'"')])}return i}function Hr(e){var t=e.value,r=e.key,n=sr(t);return"string"!==n?[new ve(r,t,"string expected, "+n+" found")]:[]}var Zr={"*":function(){return[]},array:Cr,boolean:function(e){var t=e.value,r=e.key,n=sr(t);return"boolean"!==n?[new ve(r,t,"boolean expected, "+n+" found")]:[]},number:Pr,color:function(e){var t=e.key,r=e.value,n=sr(r);return"string"!==n?[new ve(t,r,"color expected, "+n+" found")]:null===Be(r)?[new ve(t,r,'color expected, "'+r+'" found')]:[]},constants:be,enum:Ar,filter:jr,function:Er,layer:qr,object:kr,source:Gr,light:Wr,string:Hr,formatted:function(e){return 0===Hr(e).length?[]:Tr(e)}};function Kr(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&lr(xe(t))?Er(e):r.expression&&gr(we(t))?Tr(e):r.type&&Zr[r.type]?Zr[r.type](e):kr(_e({},e,{valueSpec:r.type?n[r.type]:r}))}function Xr(e){var t=e.value,r=e.key,n=Hr(e);return n.length?n:(-1===t.indexOf("{fontstack}")&&n.push(new ve(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new ve(r,t,'"glyphs" url must include a "{range}" token')),n)}function Yr(e,t){t=t||ge;var r=[];return r=r.concat(Kr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Xr,"*":function(){return[]}}})),e.constants&&(r=r.concat(be({key:"constants",value:e.constants,style:e,styleSpec:t}))),Jr(r)}function Jr(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function $r(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return Jr(e.apply(this,t))}}Yr.source=$r(Gr),Yr.light=$r(Wr),Yr.layer=$r(qr),Yr.filter=$r(jr),Yr.paintProperty=$r(Nr),Yr.layoutProperty=$r(Vr);var Qr=Yr,en=Yr.light,tn=Yr.paintProperty,rn=Yr.layoutProperty;function nn(e,t){var r=!1;if(t&&t.length)for(var n=0,o=t;n<o.length;n+=1){var i=o[n];e.fire(new me(new Error(i.message))),r=!0}return r}var on=sn,an=3;function sn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],t=o[1],r=o[2],this.d=t+2*r;for(var i=0;i<this.d*this.d;i++){var a=o[an+i],s=o[an+i+1];n.push(a===s?null:o.subarray(a,s))}var l=o[an+n.length],u=o[an+n.length+1];this.keys=o.subarray(l,u),this.bboxes=o.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var p=r/t*e;this.min=-p,this.max=e+p}sn.prototype.insert=function(e,t,r,n,o){this._forEachCell(t,r,n,o,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},sn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},sn.prototype._insertCell=function(e,t,r,n,o,i){this.cells[o].push(i)},sn.prototype.query=function(e,t,r,n,o){var i=this.min,a=this.max;if(e<=i&&t<=i&&a<=r&&a<=n&&!o)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},o),s},sn.prototype._queryCell=function(e,t,r,n,o,i,a,s){var l=this.cells[o];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var f=l[p];if(void 0===a[f]){var h=4*f;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):e<=c[h+2]&&t<=c[h+3]&&r>=c[h+0]&&n>=c[h+1])?(a[f]=!0,i.push(u[f])):a[f]=!1}}},sn.prototype._forEachCell=function(e,t,r,n,o,i,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),p=this._convertToCellCoord(n),f=l;f<=c;f++)for(var h=u;h<=p;h++){var d=this.d*h+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(h),this._convertFromCellCoord(f+1),this._convertFromCellCoord(h+1)))&&o.call(this,e,t,r,n,d,i,a,s))return}},sn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},sn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},sn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=an+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var o=new Int32Array(t+r+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var i=t,a=0;a<e.length;a++){var s=e[a];o[an+a]=i,o.set(s,i),i+=s.length}return o[an+e.length]=i,o.set(this.keys,i),i+=this.keys.length,o[an+e.length+1]=i,o.set(this.bboxes,i),i+=this.bboxes.length,o.buffer};var ln=self.ImageData,un={};function cn(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),un[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var pn in cn("Object",Object),on.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},on.deserialize=function(e){return new on(e.buffer)},cn("Grid",on),cn("Color",je),cn("Error",Error),cn("StylePropertyFunction",wr),cn("StyleExpression",yr,{omit:["_evaluator"]}),cn("ZoomDependentExpression",_r),cn("ZoomConstantExpression",br),cn("CompoundExpression",tt,{omit:["_evaluate"]}),Jt)Jt[pn]._classRegistryKey||cn("Expression_"+pn,Jt[pn]);function fn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof ln)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],o=0,i=e;o<i.length;o+=1){var a=i[o];n.push(fn(a,t))}return n}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(un[l].omit.indexOf(c)>=0)){var p=e[c];u[c]=un[l].shallow.indexOf(c)>=0?p:fn(p,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function hn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof ln)return e;if(Array.isArray(e))return e.map(hn);if("object"==typeof e){var t=e.$name||"Object",r=un[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),o=0,i=Object.keys(e);o<i.length;o+=1){var a=i[o];if("$name"!==a){var s=e[a];n[a]=un[t].shallow.indexOf(a)>=0?s:hn(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var dn=function(){this.first=!0};dn.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var mn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function yn(e){for(var t=0,r=e;t<r.length;t+=1)if(bn(r[t].charCodeAt(0)))return!0;return!1}function gn(e){for(var t=0,r=e;t<r.length;t+=1)if(!vn(r[t].charCodeAt(0)))return!1;return!0}function vn(e){return!(mn.Arabic(e)||mn["Arabic Supplement"](e)||mn["Arabic Extended-A"](e)||mn["Arabic Presentation Forms-A"](e)||mn["Arabic Presentation Forms-B"](e))}function bn(e){return!(746!==e&&747!==e&&(e<4352||!(mn["Bopomofo Extended"](e)||mn.Bopomofo(e)||mn["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||mn["CJK Compatibility Ideographs"](e)||mn["CJK Compatibility"](e)||mn["CJK Radicals Supplement"](e)||mn["CJK Strokes"](e)||!(!mn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||mn["CJK Unified Ideographs Extension A"](e)||mn["CJK Unified Ideographs"](e)||mn["Enclosed CJK Letters and Months"](e)||mn["Hangul Compatibility Jamo"](e)||mn["Hangul Jamo Extended-A"](e)||mn["Hangul Jamo Extended-B"](e)||mn["Hangul Jamo"](e)||mn["Hangul Syllables"](e)||mn.Hiragana(e)||mn["Ideographic Description Characters"](e)||mn.Kanbun(e)||mn["Kangxi Radicals"](e)||mn["Katakana Phonetic Extensions"](e)||mn.Katakana(e)&&12540!==e||!(!mn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!mn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||mn["Unified Canadian Aboriginal Syllabics"](e)||mn["Unified Canadian Aboriginal Syllabics Extended"](e)||mn["Vertical Forms"](e)||mn["Yijing Hexagram Symbols"](e)||mn["Yi Syllables"](e)||mn["Yi Radicals"](e))))}function _n(e){return!(bn(e)||function(e){return!!(mn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||mn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||mn["Letterlike Symbols"](e)||mn["Number Forms"](e)||mn["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||mn["Control Pictures"](e)&&9251!==e||mn["Optical Character Recognition"](e)||mn["Enclosed Alphanumerics"](e)||mn["Geometric Shapes"](e)||mn["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||mn["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||mn["CJK Symbols and Punctuation"](e)||mn.Katakana(e)||mn["Private Use Area"](e)||mn["CJK Compatibility Forms"](e)||mn["Small Form Variants"](e)||mn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function xn(e,t){return!(!t&&(e>=1424&&e<=2303||mn["Arabic Presentation Forms-A"](e)||mn["Arabic Presentation Forms-B"](e))||e>=2304&&e<=3583||e>=3840&&e<=4255||mn.Khmer(e))}var wn,Sn=!1,kn=null,Cn=!1,Pn=new ye,En={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Cn||null!=En.applyArabicShaping}},Tn=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new dn,this.transition={})};Tn.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!xn(n[r].charCodeAt(0),t))return!1;return!0}(e,En.isLoaded())},Tn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Tn.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var An=function(e,t){this.property=e,this.value=t,this.expression=Sr(void 0===t?e.specification.default:t,e.specification)};An.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},An.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var In=function(e){this.property=e,this.value=new An(e,void 0)};In.prototype.transitioned=function(e,t){return new On(this.property,this.value,t,p({},e.transition,this.transition),e.now)},In.prototype.untransitioned=function(){return new On(this.property,this.value,null,{},0)};var zn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};zn.prototype.getValue=function(e){return _(this._values[e].value.value)},zn.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new In(this._values[e].property)),this._values[e].value=new An(this._values[e].property,null===t?void 0:_(t))},zn.prototype.getTransition=function(e){return _(this._values[e].transition)},zn.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new In(this._values[e].property)),this._values[e].transition=_(t)||void 0},zn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],o=this.getValue(n);void 0!==o&&(e[n]=o);var i=this.getTransition(n);void 0!==i&&(e[n+"-transition"]=i)}return e},zn.prototype.transitioned=function(e,t){for(var r=new Mn(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var i=o[n];r._values[i]=this._values[i].transitioned(e,t._values[i])}return r},zn.prototype.untransitioned=function(){for(var e=new Mn(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var On=function(e,t,r,n,o){this.property=e,this.value=t,this.begin=o+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};On.prototype.possiblyEvaluate=function(e){var t=e.now||0,r=this.value.possiblyEvaluate(e),n=this.prior;if(n){if(t>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(t<this.begin)return n.possiblyEvaluate(e);var o=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(n.possiblyEvaluate(e),r,function(e){if(o<=0)return 0;if(o>=1)return 1;var t=o*o,r=t*o;return 4*(o<.5?r:3*(o-t)+r-.75)}())}return r};var Mn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};Mn.prototype.possiblyEvaluate=function(e){for(var t=new Rn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];t._values[o]=this._values[o].possiblyEvaluate(e)}return t},Mn.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var r=t[e];if(this._values[r].prior)return!0}return!1};var Ln=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Ln.prototype.getValue=function(e){return _(this._values[e].value)},Ln.prototype.setValue=function(e,t){this._values[e]=new An(this._values[e].property,null===t?void 0:_(t))},Ln.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],o=this.getValue(n);void 0!==o&&(e[n]=o)}return e},Ln.prototype.possiblyEvaluate=function(e){for(var t=new Rn(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];t._values[o]=this._values[o].possiblyEvaluate(e)}return t};var Fn=function(e,t,r){this.property=e,this.value=t,this.parameters=r};Fn.prototype.isConstant=function(){return"constant"===this.value.kind},Fn.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},Fn.prototype.evaluate=function(e,t){return this.property.evaluate(this.value,this.parameters,e,t)};var Rn=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};Rn.prototype.get=function(e){return this._values[e]};var Dn=function(e){this.specification=e};Dn.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Dn.prototype.interpolate=function(e,t,r){var n=ht[this.specification.type];return n?n(e,t,r):e};var Bn=function(e){this.specification=e};Bn.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new Fn(this,{kind:"constant",value:e.expression.evaluate(t)},t):new Fn(this,e.expression,t)},Bn.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Fn(this,{kind:"constant",value:void 0},e.parameters);var n=ht[this.specification.type];return n?new Fn(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},Bn.prototype.evaluate=function(e,t,r,n){return"constant"===e.kind?e.value:e.evaluate(t,r,n)};var jn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t){if(void 0===e.value)return new Fn(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var r=e.expression.evaluate(t),n=this._calculate(r,r,r,t);return new Fn(this,{kind:"constant",value:n},t)}if("camera"===e.expression.kind){var o=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Fn(this,{kind:"constant",value:o},t)}return new Fn(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n){if("source"===e.kind){var o=e.evaluate(t,r,n);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(Bn),Un=function(e){this.specification=e};Un.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var r=e.expression.evaluate(t);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new Tn(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Tn(Math.floor(t.zoom),t)),e.expression.evaluate(new Tn(Math.floor(t.zoom+1),t)),t)}},Un.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},Un.prototype.interpolate=function(e){return e};var Nn=function(e){this.specification=e};Nn.prototype.possiblyEvaluate=function(e,t){return!!e.expression.evaluate(t)},Nn.prototype.interpolate=function(){return!1};var Vn=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var r=e[t],n=this.defaultPropertyValues[t]=new An(r,void 0),o=this.defaultTransitionablePropertyValues[t]=new In(r);this.defaultTransitioningPropertyValues[t]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};cn("DataDrivenProperty",Bn),cn("DataConstantProperty",Dn),cn("CrossFadedDataDrivenProperty",jn),cn("CrossFadedProperty",Un),cn("ColorRampProperty",Nn);var qn=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter=function(){return!0},"custom"!==t.type&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new Ln(r.layout)),r.paint)){for(var n in this._transitionablePaint=new zn(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var o in t.layout)this.setLayoutProperty(o,t.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t){var n="layers."+this.id+".layout."+e;if(this._validate(rn,n,e,t,r))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t){var n="layers."+this.id+".paint."+e;if(this._validate(tn,n,e,t,r))return!1}if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var o=this._transitionablePaint._values[e],i="cross-faded-data-driven"===o.property.specification["property-type"]&&!o.value.value&&t,a=this._transitionablePaint._values[e].value.isDataDriven();this._transitionablePaint.setValue(e,t);var s=this._transitionablePaint._values[e].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(e),s||a||i},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,r,n,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&nn(this,e.call(Qr,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:ge,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Fn&&or(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(ye),Gn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Wn=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Hn=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Zn(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map(function(e){var o,i=(o=e.type,Gn[o].BYTES_PER_ELEMENT),a=r=Kn(r,Math.max(t,i)),s=e.components||1;return n=Math.max(n,i),r+=i*s,{name:e.name,type:e.type,components:s,offset:a}}),size:Kn(r,Math.max(n,t)),alignment:t}}function Kn(e,t){return Math.ceil(e/t)*t}Hn.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Hn.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Hn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Hn.prototype.clear=function(){this.length=0},Hn.prototype.resize=function(e){this.reserve(e),this.length=e},Hn.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Hn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Xn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(Hn);Xn.prototype.bytesPerElement=4,cn("StructArrayLayout2i4",Xn);var Yn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,o){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,this.int16[i+3]=o,e},t}(Hn);Yn.prototype.bytesPerElement=8,cn("StructArrayLayout4i8",Yn);var Jn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,o,i)},t.prototype.emplace=function(e,t,r,n,o,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e},t}(Hn);Jn.prototype.bytesPerElement=12,cn("StructArrayLayout2i4i12",Jn);var $n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l){var u=6*e,c=12*e;return this.int16[u+0]=t,this.int16[u+1]=r,this.int16[u+2]=n,this.int16[u+3]=o,this.uint8[c+8]=i,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=l,e},t}(Hn);$n.prototype.bytesPerElement=12,cn("StructArrayLayout4i4ub12",$n);var Qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=r,this.uint16[u+2]=n,this.uint16[u+3]=o,this.uint16[u+4]=i,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(Hn);Qn.prototype.bytesPerElement=16,cn("StructArrayLayout8ui16",Qn);var eo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l){var u=8*e;return this.int16[u+0]=t,this.int16[u+1]=r,this.int16[u+2]=n,this.int16[u+3]=o,this.uint16[u+4]=i,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(Hn);eo.prototype.bytesPerElement=16,cn("StructArrayLayout4i4ui16",eo);var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=3*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,e},t}(Hn);to.prototype.bytesPerElement=12,cn("StructArrayLayout3f12",to);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint32[r+0]=t,e},t}(Hn);ro.prototype.bytesPerElement=4,cn("StructArrayLayout1ul4",ro);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s,l,u,c){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,o,i,a,s,l,u,c)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l,u,c,p){var f=12*e,h=6*e;return this.int16[f+0]=t,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=o,this.int16[f+4]=i,this.int16[f+5]=a,this.uint32[h+3]=s,this.uint16[f+8]=l,this.uint16[f+9]=u,this.int16[f+10]=c,this.int16[f+11]=p,e},t}(Hn);no.prototype.bytesPerElement=24,cn("StructArrayLayout6i1ul2ui2i24",no);var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,o,i)},t.prototype.emplace=function(e,t,r,n,o,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e},t}(Hn);oo.prototype.bytesPerElement=12,cn("StructArrayLayout2i2i2i12",oo);var io=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,o){var i=12*e,a=3*e;return this.uint8[i+0]=t,this.uint8[i+1]=r,this.float32[a+1]=n,this.float32[a+2]=o,e},t}(Hn);io.prototype.bytesPerElement=12,cn("StructArrayLayout2ub2f12",io);var ao=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s,l,u,c,p,f,h,d){var m=this.length;return this.resize(m+1),this.emplace(m,e,t,r,n,o,i,a,s,l,u,c,p,f,h,d)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l,u,c,p,f,h,d,m){var y=22*e,g=11*e,v=44*e;return this.int16[y+0]=t,this.int16[y+1]=r,this.uint16[y+2]=n,this.uint16[y+3]=o,this.uint32[g+2]=i,this.uint32[g+3]=a,this.uint32[g+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=u,this.uint16[y+12]=c,this.float32[g+7]=p,this.float32[g+8]=f,this.uint8[v+36]=h,this.uint8[v+37]=d,this.uint32[g+10]=m,e},t}(Hn);ao.prototype.bytesPerElement=44,cn("StructArrayLayout2i2ui3ul3ui2f2ub1ul44",ao);var so=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s,l,u,c,p,f,h,d,m,y,g){var v=this.length;return this.resize(v+1),this.emplace(v,e,t,r,n,o,i,a,s,l,u,c,p,f,h,d,m,y,g)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l,u,c,p,f,h,d,m,y,g,v){var b=22*e,_=11*e;return this.int16[b+0]=t,this.int16[b+1]=r,this.int16[b+2]=n,this.int16[b+3]=o,this.int16[b+4]=i,this.int16[b+5]=a,this.uint16[b+6]=s,this.uint16[b+7]=l,this.uint16[b+8]=u,this.uint16[b+9]=c,this.uint16[b+10]=p,this.uint16[b+11]=f,this.uint16[b+12]=h,this.uint16[b+13]=d,this.uint16[b+14]=m,this.uint32[_+8]=y,this.float32[_+9]=g,this.float32[_+10]=v,e},t}(Hn);so.prototype.bytesPerElement=44,cn("StructArrayLayout6i9ui1ul2f44",so);var lo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.float32[r+0]=t,e},t}(Hn);lo.prototype.bytesPerElement=4,cn("StructArrayLayout1f4",lo);var uo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=3*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,e},t}(Hn);uo.prototype.bytesPerElement=6,cn("StructArrayLayout3i6",uo);var co=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=2*e,i=4*e;return this.uint32[o+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e},t}(Hn);co.prototype.bytesPerElement=8,cn("StructArrayLayout1ul2ui8",co);var po=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=3*e;return this.uint16[o+0]=t,this.uint16[o+1]=r,this.uint16[o+2]=n,e},t}(Hn);po.prototype.bytesPerElement=6,cn("StructArrayLayout3ui6",po);var fo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(Hn);fo.prototype.bytesPerElement=4,cn("StructArrayLayout2ui4",fo);var ho=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint16[r+0]=t,e},t}(Hn);ho.prototype.bytesPerElement=2,cn("StructArrayLayout1ui2",ho);var mo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(Hn);mo.prototype.bytesPerElement=8,cn("StructArrayLayout2f8",mo);var yo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,o){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,this.float32[i+3]=o,e},t}(Hn);yo.prototype.bytesPerElement=16,cn("StructArrayLayout4f16",yo);var go=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},r.anchorPoint.get=function(){return new o(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(Wn);go.prototype.size=24;var vo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new go(this,e)},t}(no);cn("CollisionBoxArray",vo);var bo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},Object.defineProperties(t.prototype,r),t}(Wn);bo.prototype.size=44;var _o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new bo(this,e)},t}(ao);cn("PlacedSymbolArray",_o);var xo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},radialTextOffset:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.rightJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.centerJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.leftJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+4]=e},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+5]=e},r.key.get=function(){return this._structArray.uint16[this._pos2+6]},r.key.set=function(e){this._structArray.uint16[this._pos2+6]=e},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},r.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+7]=e},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.featureIndex.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+12]},r.numHorizontalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+13]},r.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+13]=e},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+14]},r.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+14]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+8]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+8]=e},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+9]},r.textBoxScale.set=function(e){this._structArray.float32[this._pos4+9]=e},r.radialTextOffset.get=function(){return this._structArray.float32[this._pos4+10]},r.radialTextOffset.set=function(e){this._structArray.float32[this._pos4+10]=e},Object.defineProperties(t.prototype,r),t}(Wn);xo.prototype.size=44;var wo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new xo(this,e)},t}(so);cn("SymbolInstanceArray",wo);var So=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,r),t}(Wn);So.prototype.size=4;var ko=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new So(this,e)},t}(lo);cn("GlyphOffsetArray",ko);var Co=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(e){this._structArray.int16[this._pos2+0]=e},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(e){this._structArray.int16[this._pos2+1]=e},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,r),t}(Wn);Co.prototype.size=6;var Po=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new Co(this,e)},t}(uo);cn("SymbolLineVertexArray",Po);var Eo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,r),t}(Wn);Eo.prototype.size=8;var To=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Eo(this,e)},t}(co);cn("FeatureIndexArray",To);var Ao=Zn([{name:"a_pos",components:2,type:"Int16"}],4).members,Io=function(e){void 0===e&&(e=[]),this.segments=e};function zo(e,t){return 256*(e=u(Math.floor(e),0,255))+u(Math.floor(t),0,255)}Io.prototype.prepareSegment=function(e,t,r,n){var o=this.segments[this.segments.length-1];return e>Io.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+Io.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!o||o.vertexLength+e>Io.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==n)&&(o={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(o.sortKey=n),this.segments.push(o)),o},Io.prototype.get=function(){return this.segments},Io.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},Io.simpleSegment=function(e,t,r,n){return new Io([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},Io.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,cn("SegmentVector",Io);var Oo=function(){this.ids=[],this.positions=[],this.indexed=!1};function Mo(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Oo.prototype.add=function(e,t,r,n){this.ids.push(e),this.positions.push(t,r,n)},Oo.prototype.getPositions=function(e){for(var t=0,r=this.ids.length-1;t<r;){var n=t+r>>1;this.ids[n]>=e?r=n:t=n+1}for(var o=[];this.ids[t]===e;){var i=this.positions[3*t],a=this.positions[3*t+1],s=this.positions[3*t+2];o.push({index:i,start:a,end:s}),t++}return o},Oo.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,o){if(!(n>=o)){for(var i=t[n+o>>1],a=n-1,s=o+1;;){do{a++}while(t[a]<i);do{s--}while(t[s]>i);if(a>=s)break;Mo(t,a,s),Mo(r,3*a,3*s),Mo(r,3*a+1,3*s+1),Mo(r,3*a+2,3*s+2)}e(t,r,n,s),e(t,r,s+1,o)}}(r,n,0,r.length-1),t.push(r.buffer,n.buffer),{ids:r,positions:n}},Oo.deserialize=function(e){var t=new Oo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},cn("FeaturePositionMap",Oo);var Lo=function(e,t){this.gl=e.gl,this.location=t},Fo=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Lo),Ro=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Lo),Do=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Lo),Bo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Lo),jo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Lo),Uo=function(e){function t(t,r){e.call(this,t,r),this.current=je.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Lo),No=new Float32Array(16),Vo=function(e){function t(t,r){e.call(this,t,r),this.current=No}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Lo);function qo(e){return[zo(255*e.r,255*e.g),zo(255*e.b,255*e.a)]}var Go=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=r,this.maxValue=-1/0};Go.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},Go.prototype.setConstantPatternPositions=function(){},Go.prototype.populatePaintArray=function(){},Go.prototype.updatePaintArray=function(){},Go.prototype.upload=function(){},Go.prototype.destroy=function(){},Go.prototype.setUniforms=function(e,t,r,n){t.set(n.constantOr(this.value))},Go.prototype.getBinding=function(e,t){return"color"===this.type?new Uo(e,t):new Ro(e,t)},Go.serialize=function(e){var t=e.value,r=e.names,n=e.type;return{value:fn(t),names:r,type:n}},Go.deserialize=function(e){var t=e.value,r=e.names,n=e.type;return new Go(hn(t),r,n)};var Wo=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Wo.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},Wo.prototype.populatePaintArray=function(){},Wo.prototype.updatePaintArray=function(){},Wo.prototype.upload=function(){},Wo.prototype.destroy=function(){},Wo.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},Wo.prototype.setUniforms=function(e,t,r,n,o){var i=this.patternPositions;"u_pattern_to"===o&&i.patternTo&&t.set(i.patternTo),"u_pattern_from"===o&&i.patternFrom&&t.set(i.patternFrom)},Wo.prototype.getBinding=function(e,t){return new jo(e,t)};var Ho=function(e,t,r,n){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map(function(e){return"a_"+e}),this.maxValue=-1/0,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}}),this.paintVertexArray=new n};Ho.prototype.defines=function(){return[]},Ho.prototype.setConstantPatternPositions=function(){},Ho.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,n=r.length;r.reserve(e);var o=this.expression.evaluate(new Tn(0),t,{});if("color"===this.type)for(var i=qo(o),a=n;a<e;a++)r.emplaceBack(i[0],i[1]);else{for(var s=n;s<e;s++)r.emplaceBack(o);this.maxValue=Math.max(this.maxValue,o)}},Ho.prototype.updatePaintArray=function(e,t,r,n){var o=this.paintVertexArray,i=this.expression.evaluate({zoom:0},r,n);if("color"===this.type)for(var a=qo(i),s=e;s<t;s++)o.emplace(s,a[0],a[1]);else{for(var l=e;l<t;l++)o.emplace(l,i);this.maxValue=Math.max(this.maxValue,i)}},Ho.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ho.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ho.prototype.setUniforms=function(e,t){t.set(0)},Ho.prototype.getBinding=function(e,t){return new Ro(e,t)};var Zo=function(e,t,r,n,o,i){this.expression=e,this.names=t,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.type=r,this.useIntegerZoom=n,this.zoom=o,this.maxValue=-1/0;var a=i;this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}}),this.paintVertexArray=new a};Zo.prototype.defines=function(){return[]},Zo.prototype.setConstantPatternPositions=function(){},Zo.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,n=r.length;r.reserve(e);var o=this.expression.evaluate(new Tn(this.zoom),t,{}),i=this.expression.evaluate(new Tn(this.zoom+1),t,{});if("color"===this.type)for(var a=qo(o),s=qo(i),l=n;l<e;l++)r.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=n;u<e;u++)r.emplaceBack(o,i);this.maxValue=Math.max(this.maxValue,o,i)}},Zo.prototype.updatePaintArray=function(e,t,r,n){var o=this.paintVertexArray,i=this.expression.evaluate({zoom:this.zoom},r,n),a=this.expression.evaluate({zoom:this.zoom+1},r,n);if("color"===this.type)for(var s=qo(i),l=qo(a),u=e;u<t;u++)o.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=e;c<t;c++)o.emplace(c,i,a);this.maxValue=Math.max(this.maxValue,i,a)}},Zo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Zo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Zo.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},Zo.prototype.setUniforms=function(e,t,r){t.set(this.interpolationFactor(r.zoom))},Zo.prototype.getBinding=function(e,t){return new Ro(e,t)};var Ko=function(e,t,r,n,o,i,a){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.useIntegerZoom=n,this.zoom=o,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ko.prototype.defines=function(){return[]},Ko.prototype.setConstantPatternPositions=function(){},Ko.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,i=this.layerId,a=n.length;if(n.reserve(e),o.reserve(e),r&&t.patterns&&t.patterns[i]){var s=t.patterns[i],l=s.min,u=s.mid,c=s.max,p=r[l],f=r[u],h=r[c];if(!p||!f||!h)return;for(var d=a;d<e;d++)n.emplaceBack(f.tl[0],f.tl[1],f.br[0],f.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),o.emplaceBack(f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1])}},Ko.prototype.updatePaintArray=function(e,t,r,n,o){var i=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(o&&r.patterns&&r.patterns[s]){var l=r.patterns[s],u=l.min,c=l.mid,p=l.max,f=o[u],h=o[c],d=o[p];if(!f||!h||!d)return;for(var m=e;m<t;m++)i.emplace(m,h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1]),a.emplace(m,h.tl[0],h.tl[1],h.br[0],h.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},Ko.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ko.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Ko.prototype.setUniforms=function(e,t){t.set(0)},Ko.prototype.getBinding=function(e,t){return new Ro(e,t)};var Xo=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Oo,this._bufferOffset=0};Xo.createDynamic=function(e,t,r){var n=new Xo,o=[];for(var i in e.paint._values)if(r(i)){var a=e.paint.get(i);if(a instanceof Fn&&or(a.property.specification)){var s=Jo(i,e.type),l=a.property.specification.type,u=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)n.binders[i]=new Wo(a.value.value,s,l),o.push("/u_"+i);else{var c=$o(i,l,"source");n.binders[i]=new Ko(a.value,s,l,u,t,c,e.id),o.push("/a_"+i)}else if("constant"===a.value.kind)n.binders[i]=new Go(a.value.value,s,l),o.push("/u_"+i);else if("source"===a.value.kind){var p=$o(i,l,"source");n.binders[i]=new Ho(a.value,s,l,p),o.push("/a_"+i)}else{var f=$o(i,l,"composite");n.binders[i]=new Zo(a.value,s,l,u,t,f),o.push("/z_"+i)}}}return n.cacheKey=o.sort().join(""),n},Xo.prototype.populatePaintArrays=function(e,t,r,n){for(var o in this.binders)this.binders[o].populatePaintArray(e,t,n);void 0!==t.id&&this._featureMap.add(+t.id,r,this._bufferOffset,e),this._bufferOffset=e},Xo.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders)this.binders[r].setConstantPatternPositions(e,t)},Xo.prototype.updatePaintArrays=function(e,t,r,n){var o=!1;for(var i in e)for(var a=0,s=this._featureMap.getPositions(+i);a<s.length;a+=1){var l=s[a],u=t.feature(l.index);for(var c in this.binders){var p=this.binders[c];if(!(p instanceof Go||p instanceof Wo)&&!0===p.expression.isStateDependent){var f=r.paint.get(c);p.expression=f.value,p.updatePaintArray(l.start,l.end,u,e[i],n),o=!0}}}return o},Xo.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},Xo.prototype.getPaintVertexBuffers=function(){return this._buffers},Xo.prototype.getUniforms=function(e,t){var r=[];for(var n in this.binders)for(var o=this.binders[n],i=0,a=o.uniformNames;i<a.length;i+=1){var s=a[i];if(t[s]){var l=o.getBinding(e,t[s]);r.push({name:s,property:n,binding:l})}}return r},Xo.prototype.setUniforms=function(e,t,r,n){for(var o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.name,l=a.property,u=a.binding;this.binders[l].setUniforms(e,u,n,r.get(l),s)}},Xo.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof Ko){var o=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;o&&t.push(o)}else(n instanceof Ho||n instanceof Zo)&&n.paintVertexBuffer&&t.push(n.paintVertexBuffer)}this._buffers=t},Xo.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var r=[];for(var n in this.binders){var o=this.binders[n];(o instanceof Ho||o instanceof Zo)&&o.paintVertexBuffer&&r.push(o.paintVertexBuffer)}this._buffers=r},Xo.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var Yo=function(e,t,r,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var o=0,i=t;o<i.length;o+=1){var a=i[o];this.programConfigurations[a.id]=Xo.createDynamic(a,r,n),this.programConfigurations[a.id].layoutAttributes=e}this.needsUpload=!1};function Jo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function $o(e,t,r){var n={color:{source:mo,composite:yo},number:{source:lo,composite:mo}},o=function(e){return{"line-pattern":{source:Qn,composite:Qn},"fill-pattern":{source:Qn,composite:Qn},"fill-extrusion-pattern":{source:Qn,composite:Qn}}[e]}(e);return o&&o[r]||n[t][r]}Yo.prototype.populatePaintArrays=function(e,t,r,n){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,n);this.needsUpload=!0},Yo.prototype.updatePaintArrays=function(e,t,r,n){for(var o=0,i=r;o<i.length;o+=1){var a=i[o];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,t,a,n)||this.needsUpload}},Yo.prototype.get=function(e){return this.programConfigurations[e]},Yo.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Yo.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},cn("ConstantBinder",Go),cn("CrossFadedConstantBinder",Wo),cn("SourceExpressionBinder",Ho),cn("CrossFadedCompositeBinder",Ko),cn("CompositeExpressionBinder",Zo),cn("ProgramConfiguration",Xo,{omit:["_buffers"]}),cn("ProgramConfigurationSet",Yo);var Qo=8192,ei={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function ti(e){for(var t=Qo/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var o=r[n],i=0;i<o.length;i++){var a=o[i];a.x=Math.round(a.x*t),a.y=Math.round(a.y*t),(a.x<ei.min||a.x>ei.max||a.y<ei.min||a.y>ei.max)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function ri(e,t,r,n,o){e.emplaceBack(2*t+(n+1)/2,2*r+(o+1)/2)}var ni=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Xn,this.indexArray=new po,this.segments=new Io,this.programConfigurations=new Yo(Ao,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function oi(e,t){for(var r=0;r<e.length;r++)if(hi(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(hi(e,t[n]))return!0;return!!li(e,t)}function ii(e,t,r){return!!hi(e,t)||!!ci(t,e,r)}function ai(e,t){if(1===e.length)return fi(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],o=0;o<n.length;o++)if(hi(e,n[o]))return!0;for(var i=0;i<e.length;i++)if(fi(t,e[i]))return!0;for(var a=0;a<t.length;a++)if(li(e,t[a]))return!0;return!1}function si(e,t,r){if(e.length>1){if(li(e,t))return!0;for(var n=0;n<t.length;n++)if(ci(t[n],e,r))return!0}for(var o=0;o<e.length;o++)if(ci(e[o],t,r))return!0;return!1}function li(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],o=e[r+1],i=0;i<t.length-1;i++)if(ui(n,o,t[i],t[i+1]))return!0;return!1}function ui(e,t,r,n){return S(e,r,n)!==S(t,r,n)&&S(e,t,r)!==S(e,t,n)}function ci(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var o=1;o<t.length;o++)if(pi(e,t[o-1],t[o])<n)return!0;return!1}function pi(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var o=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return o<0?e.distSqr(t):o>1?e.distSqr(r):e.distSqr(r.sub(t)._mult(o)._add(t))}function fi(e,t){for(var r,n,o,i=!1,a=0;a<e.length;a++)for(var s=0,l=(r=e[a]).length-1;s<r.length;l=s++)n=r[s],o=r[l],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(i=!i);return i}function hi(e,t){for(var r=!1,n=0,o=e.length-1;n<e.length;o=n++){var i=e[n],a=e[o];i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}function di(e,t,r){var n=r[0],o=r[2];if(e.x<n.x&&t.x<n.x||e.x>o.x&&t.x>o.x||e.y<n.y&&t.y<n.y||e.y>o.y&&t.y>o.y)return!1;var i=S(e,t,r[0]);return i!==S(e,t,r[1])||i!==S(e,t,r[2])||i!==S(e,t,r[3])}function mi(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).binders[e].maxValue}function yi(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function gi(e,t,r,n,i){if(!t[0]&&!t[1])return e;var a=o.convert(t)._mult(i);"viewport"===r&&a._rotate(-n);for(var s=[],l=0;l<e.length;l++){var u=e[l];s.push(u.sub(a))}return s}ni.prototype.populate=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),i)){var l=ti(i);this.addFeature(i,l,a),t.featureIndex.insert(i,l,a,s,this.index)}}},ni.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ni.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ni.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ni.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ao),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ni.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ni.prototype.addFeature=function(e,t,r){for(var n=0,o=t;n<o.length;n+=1)for(var i=0,a=o[n];i<a.length;i+=1){var s=a[i],l=s.x,u=s.y;if(!(l<0||l>=Qo||u<0||u>=Qo)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=c.vertexLength;ri(this.layoutVertexArray,l,u,-1,-1),ri(this.layoutVertexArray,l,u,1,-1),ri(this.layoutVertexArray,l,u,1,1),ri(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{})},cn("CircleBucket",ni,{omit:["layers"]});var vi={paint:new Vn({"circle-radius":new Bn(ge.paint_circle["circle-radius"]),"circle-color":new Bn(ge.paint_circle["circle-color"]),"circle-blur":new Bn(ge.paint_circle["circle-blur"]),"circle-opacity":new Bn(ge.paint_circle["circle-opacity"]),"circle-translate":new Dn(ge.paint_circle["circle-translate"]),"circle-translate-anchor":new Dn(ge.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Dn(ge.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Dn(ge.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Bn(ge.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Bn(ge.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Bn(ge.paint_circle["circle-stroke-opacity"])})},bi="undefined"!=typeof Float32Array?Float32Array:Array;function _i(){var e=new bi(9);return bi!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function xi(){var e=new bi(3);return bi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function wi(e,t,r){var n=new bi(3);return n[0]=e,n[1]=t,n[2]=r,n}function Si(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3];return e[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,e[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,e[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,e[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,e}function ki(){var e=new bi(4);return bi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}Math.PI,xi(),function(){var e;e=new bi(4),bi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}(),xi(),wi(1,0,0),wi(0,1,0),ki(),ki(),_i(),function(){var e;e=new bi(2),bi!=Float32Array&&(e[0]=0,e[1]=0)}();var Ci=function(e){function t(t){e.call(this,t,vi)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ni(e)},t.prototype.queryRadius=function(e){var t=e;return mi("circle-radius",this,t)+mi("circle-stroke-width",this,t)+yi(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,i,a,s){for(var l=gi(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,a),u=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(e,t){return l.map(function(e){return Pi(e,t)})}(0,s),f=c?u*a:u,h=0,d=n;h<d.length;h+=1)for(var m=0,y=d[h];m<y.length;m+=1){var g=y[m],v=c?g:Pi(g,s),b=f,_=Si([],[g.x,g.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=_[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=i.cameraToCenterDistance/_[3]),ii(p,v,b))return!0}return!1},t}(qn);function Pi(e,t){var r=Si([],[e.x,e.y,0,1],t);return new o(r[0]/r[3],r[1]/r[3])}var Ei=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ni);function Ti(e,t,r,n){var o=t.width,i=t.height;if(n){if(n.length!==o*i*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(o*i*r);return e.width=o,e.height=i,e.data=n,e}function Ai(e,t,r){var n=t.width,o=t.height;if(n!==e.width||o!==e.height){var i=Ti({},{width:n,height:o},r);Ii(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,o)},r),e.width=n,e.height=o,e.data=i.data}}function Ii(e,t,r,n,o,i){if(0===o.width||0===o.height)return t;if(o.width>e.width||o.height>e.height||r.x>e.width-o.width||r.y>e.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>t.width||o.height>t.height||n.x>t.width-o.width||n.y>t.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<o.height;l++)for(var u=((r.y+l)*e.width+r.x)*i,c=((n.y+l)*t.width+n.x)*i,p=0;p<o.width*i;p++)s[c+p]=a[u+p];return t}cn("HeatmapBucket",Ei,{omit:["layers"]});var zi=function(e,t){Ti(this,e,1,t)};zi.prototype.resize=function(e){Ai(this,e,1)},zi.prototype.clone=function(){return new zi({width:this.width,height:this.height},new Uint8Array(this.data))},zi.copy=function(e,t,r,n,o){Ii(e,t,r,n,o,1)};var Oi=function(e,t){Ti(this,e,4,t)};Oi.prototype.resize=function(e){Ai(this,e,4)},Oi.prototype.replace=function(e,t){t?this.data.set(e):this.data=e},Oi.prototype.clone=function(){return new Oi({width:this.width,height:this.height},new Uint8Array(this.data))},Oi.copy=function(e,t,r,n,o){Ii(e,t,r,n,o,4)},cn("AlphaImage",zi),cn("RGBAImage",Oi);var Mi={paint:new Vn({"heatmap-radius":new Bn(ge.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Bn(ge.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Dn(ge.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Nn(ge.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Dn(ge.paint_heatmap["heatmap-opacity"])})};function Li(e,t){for(var r=new Uint8Array(1024),n={},o=0,i=0;o<256;o++,i+=4){n[t]=o/255;var a=e.evaluate(n);r[i+0]=Math.floor(255*a.r/a.a),r[i+1]=Math.floor(255*a.g/a.a),r[i+2]=Math.floor(255*a.b/a.a),r[i+3]=Math.floor(255*a.a)}return new Oi({width:256,height:1},r)}var Fi=function(e){function t(t){e.call(this,t,Mi),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Ei(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Li(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(qn),Ri={paint:new Vn({"hillshade-illumination-direction":new Dn(ge.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Dn(ge.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Dn(ge.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Dn(ge.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Dn(ge.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Dn(ge.paint_hillshade["hillshade-accent-color"])})},Di=function(e){function t(t){e.call(this,t,Ri)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(qn),Bi=Zn([{name:"a_pos",components:2,type:"Int16"}],4).members,ji=Ni,Ui=Ni;function Ni(e,t,r){r=r||2;var n,o,i,a,s,l,u,c=t&&t.length,p=c?t[0]*r:e.length,f=Vi(e,0,p,r,!0),h=[];if(!f||f.next===f.prev)return h;if(c&&(f=function(e,t,r,n){var o,i,a,s=[];for(o=0,i=t.length;o<i;o++)(a=Vi(e,t[o]*n,o<i-1?t[o+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push($i(a));for(s.sort(Xi),o=0;o<s.length;o++)Yi(s[o],r),r=qi(r,r.next);return r}(e,t,f,r)),e.length>80*r){n=i=e[0],o=a=e[1];for(var d=r;d<p;d+=r)(s=e[d])<n&&(n=s),(l=e[d+1])<o&&(o=l),s>i&&(i=s),l>a&&(a=l);u=0!==(u=Math.max(i-n,a-o))?1/u:0}return Gi(f,h,r,n,o,u),h}function Vi(e,t,r,n,o){var i,a;if(o===ua(e,t,r,n)>0)for(i=t;i<r;i+=n)a=aa(i,e[i],e[i+1],a);else for(i=r-n;i>=t;i-=n)a=aa(i,e[i],e[i+1],a);return a&&ra(a,a.next)&&(sa(a),a=a.next),a}function qi(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!ra(n,n.next)&&0!==ta(n.prev,n,n.next))n=n.next;else{if(sa(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Gi(e,t,r,n,o,i,a){if(e){!a&&i&&function(e,t,r,n){var o=e;do{null===o.z&&(o.z=Ji(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,n,o,i,a,s,l,u=1;do{for(r=e,e=null,i=null,a=0;r;){for(a++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;r=n}i.nextZ=null,u*=2}while(a>1)}(o)}(e,n,o,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?Hi(e,n,o,i):Wi(e))t.push(s.i/r),t.push(e.i/r),t.push(l.i/r),sa(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Gi(e=Zi(e,t,r),t,r,n,o,i,2):2===a&&Ki(e,t,r,n,o,i):Gi(qi(e),t,r,n,o,i,1);break}}}function Wi(e){var t=e.prev,r=e,n=e.next;if(ta(t,r,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(Qi(t.x,t.y,r.x,r.y,n.x,n.y,o.x,o.y)&&ta(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Hi(e,t,r,n){var o=e.prev,i=e,a=e.next;if(ta(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,u=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,p=Ji(s,l,t,r,n),f=Ji(u,c,t,r,n),h=e.prevZ,d=e.nextZ;h&&h.z>=p&&d&&d.z<=f;){if(h!==e.prev&&h!==e.next&&Qi(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&ta(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&Qi(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&ta(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=p;){if(h!==e.prev&&h!==e.next&&Qi(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&ta(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=f;){if(d!==e.prev&&d!==e.next&&Qi(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&ta(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Zi(e,t,r){var n=e;do{var o=n.prev,i=n.next.next;!ra(o,i)&&na(o,n,n.next,i)&&oa(o,i)&&oa(i,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(i.i/r),sa(n),sa(n.next),n=e=i),n=n.next}while(n!==e);return n}function Ki(e,t,r,n,o,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ea(a,s)){var l=ia(a,s);return a=qi(a,a.next),l=qi(l,l.next),Gi(a,t,r,n,o,i),void Gi(l,t,r,n,o,i)}s=s.next}a=a.next}while(a!==e)}function Xi(e,t){return e.x-t.x}function Yi(e,t){if(t=function(e,t){var r,n=t,o=e.x,i=e.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(o===a)return r.prev;var l,u=r,c=r.x,p=r.y,f=1/0;for(n=r.next;n!==u;)o>=n.x&&n.x>=c&&o!==n.x&&Qi(i<p?o:a,i,c,p,i<p?a:o,i,n.x,n.y)&&((l=Math.abs(i-n.y)/(o-n.x))<f||l===f&&n.x>r.x)&&oa(n,e)&&(r=n,f=l),n=n.next;return r}(e,t)){var r=ia(t,e);qi(r,r.next)}}function Ji(e,t,r,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function $i(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Qi(e,t,r,n,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function ea(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&na(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&oa(e,t)&&oa(t,e)&&function(e,t){var r=e,n=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)}function ta(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function ra(e,t){return e.x===t.x&&e.y===t.y}function na(e,t,r,n){return!!(ra(e,t)&&ra(r,n)||ra(e,n)&&ra(r,t))||ta(e,t,r)>0!=ta(e,t,n)>0&&ta(r,n,e)>0!=ta(r,n,t)>0}function oa(e,t){return ta(e.prev,e,e.next)<0?ta(e,t,e.next)>=0&&ta(e,e.prev,t)>=0:ta(e,t,e.prev)<0||ta(e,e.next,t)<0}function ia(e,t){var r=new la(e.i,e.x,e.y),n=new la(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function aa(e,t,r,n){var o=new la(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function sa(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function la(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ua(e,t,r,n){for(var o=0,i=t,a=r-n;i<r;i+=n)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}function ca(e,t,r,n,o){!function e(t,r,n,o,i){for(;o>n;){if(o-n>600){var a=o-n+1,s=r-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*u/a+c)),Math.min(o,Math.floor(r+(a-s)*u/a+c)),i)}var p=t[r],f=n,h=o;for(pa(t,n,r),i(t[o],p)>0&&pa(t,n,o);f<h;){for(pa(t,f,h),f++,h--;i(t[f],p)<0;)f++;for(;i(t[h],p)>0;)h--}0===i(t[n],p)?pa(t,n,h):pa(t,++h,o),h<=r&&(n=h+1),r<=h&&(o=h-1)}}(e,t,r||0,n||e.length-1,o||fa)}function pa(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function fa(e,t){return e<t?-1:e>t?1:0}function ha(e,t){var r=e.length;if(r<=1)return[e];for(var n,o,i=[],a=0;a<r;a++){var s=k(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===o&&(o=s<0),o===s<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}if(n&&i.push(n),t>1)for(var l=0;l<i.length;l++)i[l].length<=t||(ca(i[l],t,1,i[l].length-1,da),i[l]=i[l].slice(0,t));return i}function da(e,t){return t.area-e.area}function ma(e,t,r){for(var n=r.patternDependencies,o=!1,i=0,a=t;i<a.length;i+=1){var s=a[i].paint.get(e+"-pattern");s.isConstant()||(o=!0);var l=s.constantOr(null);l&&(o=!0,n[l.to]=!0,n[l.from]=!0)}return o}function ya(e,t,r,n,o){for(var i=o.patternDependencies,a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:n-1},r,{}),p=u.evaluate({zoom:n},r,{}),f=u.evaluate({zoom:n+1},r,{});i[c]=!0,i[p]=!0,i[f]=!0,r.patterns[l.id]={min:c,mid:p,max:f}}}return r}Ni.deviation=function(e,t,r,n){var o=t&&t.length,i=o?t[0]*r:e.length,a=Math.abs(ua(e,0,i,r));if(o)for(var s=0,l=t.length;s<l;s++){var u=t[s]*r,c=s<l-1?t[s+1]*r:e.length;a-=Math.abs(ua(e,u,c,r))}var p=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,h=n[s+1]*r,d=n[s+2]*r;p+=Math.abs((e[f]-e[d])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[d+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},Ni.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[o][i][a]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r},ji.default=Ui;var ga=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Xn,this.indexArray=new po,this.indexArray2=new fo,this.programConfigurations=new Yo(Bi,e.layers,e.zoom),this.segments=new Io,this.segments2=new Io,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};ga.prototype.populate=function(e,t){this.features=[],this.hasPattern=ma("fill",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),i)){var l=ti(i),u={sourceLayerIndex:s,index:a,geometry:l,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(u.id=i.id),this.hasPattern?this.features.push(ya("fill",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(i,l,a,s,this.index)}}},ga.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ga.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,t)}},ga.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ga.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ga.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Bi),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ga.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ga.prototype.addFeature=function(e,t,r,n){for(var o=0,i=ha(t,500);o<i.length;o+=1){for(var a=i[o],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,f=[],h=[],d=0,m=a;d<m.length;d+=1){var y=m[d];if(0!==y.length){y!==a[0]&&h.push(f.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),v=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(v+y.length-1,v),f.push(y[0].x),f.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(v+b-1,v+b),f.push(y[b].x),f.push(y[b].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var _=ji(f,h),x=0;x<_.length;x+=3)this.indexArray.emplaceBack(p+_[x],p+_[x+1],p+_[x+2]);c.vertexLength+=s,c.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},cn("FillBucket",ga,{omit:["layers","features"]});var va={paint:new Vn({"fill-antialias":new Dn(ge.paint_fill["fill-antialias"]),"fill-opacity":new Bn(ge.paint_fill["fill-opacity"]),"fill-color":new Bn(ge.paint_fill["fill-color"]),"fill-outline-color":new Bn(ge.paint_fill["fill-outline-color"]),"fill-translate":new Dn(ge.paint_fill["fill-translate"]),"fill-translate-anchor":new Dn(ge.paint_fill["fill-translate-anchor"]),"fill-pattern":new jn(ge.paint_fill["fill-pattern"])})},ba=function(e){function t(t){e.call(this,t,va)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ga(e)},t.prototype.queryRadius=function(){return yi(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,i,a){return ai(gi(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,a),n)},t.prototype.isTileClipped=function(){return!0},t}(qn),_a=Zn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,xa=wa;function wa(e,t,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=o,e.readFields(Sa,this,t)}function Sa(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],o=t._values[e.readVarint()];t.properties[n]=o}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function ka(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)t=e[o],n+=((r=e[a]).x-t.x)*(t.y+r.y);return n}wa.types=["Unknown","Point","LineString","Polygon"],wa.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,i=0,a=0,s=0,l=[];e.pos<r;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)a+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&l.push(t),t=[]),t.push(new o(a,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&l.push(t),l},wa.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,o=0,i=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(o+=e.readSVarint())<a&&(a=o),o>s&&(s=o),(i+=e.readSVarint())<l&&(l=i),i>u&&(u=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,u]},wa.prototype.toGeoJSON=function(e,t,r){var n,o,i=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=wa.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-360*(r.y+s)/i;e[t]=[360*(r.x+a)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(n=0;n<l.length;n++)p[n]=l[n][0];c(l=p);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,o=[],i=0;i<t;i++){var a=ka(e[i]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&o.push(r),r=[e[i]]):r.push(e[i]))}return r&&o.push(r),o}(l),n=0;n<l.length;n++)for(o=0;o<l[n].length;o++)c(l[n][o])}1===l.length?l=l[0]:u="Multi"+u;var f={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(f.id=this.id),f};var Ca=Pa;function Pa(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Ea,this,t),this.length=this._features.length}function Ea(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function Ta(e,t,r){if(3===e){var n=new Ca(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}Pa.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new xa(this._pbf,t,this.extent,this._keys,this._values)};var Aa={VectorTile:function(e,t){this.layers=e.readFields(Ta,{},t)},VectorTileFeature:xa,VectorTileLayer:Ca},Ia=Aa.VectorTileFeature.types,za=Math.pow(2,13);function Oa(e,t,r,n,o,i,a,s){e.emplaceBack(t,r,2*Math.floor(n*za)+a,o*za*2,i*za*2,Math.round(s))}var Ma=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Jn,this.indexArray=new po,this.programConfigurations=new Yo(_a,e.layers,e.zoom),this.segments=new Io,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function La(e,t){return e.x===t.x&&(e.x<0||e.x>Qo)||e.y===t.y&&(e.y<0||e.y>Qo)}function Fa(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>Qo})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>Qo})}Ma.prototype.populate=function(e,t){this.features=[],this.hasPattern=ma("fill-extrusion",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),i)){var l=ti(i),u={sourceLayerIndex:s,index:a,geometry:l,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(u.id=i.id),this.hasPattern?this.features.push(ya("fill-extrusion",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(i,l,a,s,this.index,!0)}}},Ma.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,t)}},Ma.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ma.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ma.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ma.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,_a),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ma.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ma.prototype.addFeature=function(e,t,r,n){for(var o=0,i=ha(t,500);o<i.length;o+=1){for(var a=i[o],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,f=a;p<f.length;p+=1){var h=f[p];if(0!==h.length&&!Fa(h))for(var d=0,m=0;m<h.length;m++){var y=h[m];if(m>=1){var g=h[m-1];if(!La(y,g)){c.vertexLength+4>Io.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=y.sub(g)._perp()._unit(),b=g.dist(y);d+b>32768&&(d=0),Oa(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,d),Oa(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,d),d+=b,Oa(this.layoutVertexArray,g.x,g.y,v.x,v.y,0,0,d),Oa(this.layoutVertexArray,g.x,g.y,v.x,v.y,0,1,d);var _=c.vertexLength;this.indexArray.emplaceBack(_,_+2,_+1),this.indexArray.emplaceBack(_+1,_+2,_+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+s>Io.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Ia[e.type]){for(var x=[],w=[],S=c.vertexLength,k=0,C=a;k<C.length;k+=1){var P=C[k];if(0!==P.length){P!==a[0]&&w.push(x.length/2);for(var E=0;E<P.length;E++){var T=P[E];Oa(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),x.push(T.x),x.push(T.y)}}}for(var A=ji(x,w),I=0;I<A.length;I+=3)this.indexArray.emplaceBack(S+A[I],S+A[I+2],S+A[I+1]);c.primitiveLength+=A.length/3,c.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},cn("FillExtrusionBucket",Ma,{omit:["layers","features"]});var Ra={paint:new Vn({"fill-extrusion-opacity":new Dn(ge["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Bn(ge["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Dn(ge["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Dn(ge["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new jn(ge["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Bn(ge["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Bn(ge["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Dn(ge["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Da=function(e){function t(t){e.call(this,t,Ra)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Ma(e)},t.prototype.queryRadius=function(){return yi(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,s,l){var u=gi(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,r),p=this.paint.get("fill-extrusion-base").evaluate(t,r),f=function(e,t,r,n){for(var i=[],a=0,s=e;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,0,1];Si(u,u,t),i.push(new o(u[0]/u[3],u[1]/u[3]))}return i}(u,l),h=function(e,t,r,n){for(var i=[],a=[],s=n[8]*t,l=n[9]*t,u=n[10]*t,c=n[11]*t,p=n[8]*r,f=n[9]*r,h=n[10]*r,d=n[11]*r,m=0,y=e;m<y.length;m+=1){for(var g=[],v=[],b=0,_=y[m];b<_.length;b+=1){var x=_[b],w=x.x,S=x.y,k=n[0]*w+n[4]*S+n[12],C=n[1]*w+n[5]*S+n[13],P=n[2]*w+n[6]*S+n[14],E=n[3]*w+n[7]*S+n[15],T=P+u,A=E+c,I=k+p,z=C+f,O=P+h,M=E+d,L=new o((k+s)/A,(C+l)/A);L.z=T/A,g.push(L);var F=new o(I/M,z/M);F.z=O/M,v.push(F)}i.push(g),a.push(v)}return[i,a]}(n,p,c,l);return function(e,t,r){var n=1/0;ai(r,t)&&(n=ja(r,t[0]));for(var o=0;o<t.length;o++)for(var i=t[o],a=e[o],s=0;s<i.length-1;s++){var l=i[s],u=i[s+1],c=a[s],p=[l,u,a[s+1],c,l];oi(r,p)&&(n=Math.min(n,ja(r,p)))}return n!==1/0&&n}(h[0],h[1],f)},t}(qn);function Ba(e,t){return e.x*t.x+e.y*t.y}function ja(e,t){if(1===e.length){var r=t[0],n=t[1],o=t[3],i=e[0],a=n.sub(r),s=o.sub(r),l=i.sub(r),u=Ba(a,a),c=Ba(a,s),p=Ba(s,s),f=Ba(l,a),h=Ba(l,s),d=u*p-c*c,m=(p*f-c*h)/d,y=(u*h-c*f)/d,g=1-m-y;return r.z*g+n.z*m+o.z*y}for(var v=1/0,b=0,_=t;b<_.length;b+=1){var x=_[b];v=Math.min(v,x.z)}return v}var Ua=Zn([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Na=Aa.VectorTileFeature.types,Va=63,qa=Math.cos(Math.PI/180*37.5),Ga=.5,Wa=Math.pow(2,14)/Ga;function Ha(e,t,r,n,o,i,a){e.emplaceBack(t.x,t.y,n?1:0,o?1:-1,Math.round(Va*r.x)+128,Math.round(Va*r.y)+128,1+(0===i?0:i<0?-1:1)|(a*Ga&63)<<2,a*Ga>>6)}var Za=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new $n,this.indexArray=new po,this.programConfigurations=new Yo(Ua,e.layers,e.zoom),this.segments=new Io,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function Ka(e,t){return(e/t.tileTotal*(t.end-t.start)+t.start)*(Wa-1)}Za.prototype.populate=function(e,t){this.features=[],this.hasPattern=ma("line",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Tn(this.zoom),i)){var l=ti(i),u={sourceLayerIndex:s,index:a,geometry:l,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(u.id=i.id),this.hasPattern?this.features.push(ya("line",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(i,l,a,s,this.index)}}},Za.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Za.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,t)}},Za.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Za.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Za.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ua),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Za.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Za.prototype.addFeature=function(e,t,r,n){for(var o=this.layers[0].layout,i=o.get("line-join").evaluate(e,{}),a=o.get("line-cap"),s=o.get("line-miter-limit"),l=o.get("line-round-limit"),u=0,c=t;u<c.length;u+=1){var p=c[u];this.addLine(p,e,i,a,s,l,r,n)}},Za.prototype.addLine=function(e,t,r,n,o,i,a,s){var l=null;t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:t.properties.mapbox_clip_start,end:t.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Na[t.type],c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var p=0;p<c-1&&e[p].equals(e[p+1]);)p++;if(!(c<(u?3:2))){l&&(l.tileTotal=function(e,t,r){for(var n,o,i=0,a=p;a<r-1;a++)n=e[a],o=e[a+1],i+=n.dist(o);return i}(e,0,c)),"bevel"===r&&(o=1.05);var f=Qo/(512*this.overscaling)*15,h=e[p],d=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var m,y,g,v=n,b=u?"butt":n,_=!0,x=void 0,w=void 0,S=void 0,k=void 0;this.e1=this.e2=this.e3=-1,u&&(m=e[c-2],k=h.sub(m)._unit()._perp());for(var C=p;C<c;C++)if(!(w=u&&C===c-1?e[p+1]:e[C+1])||!e[C].equals(w)){k&&(S=k),m&&(x=m),m=e[C],k=w?w.sub(m)._unit()._perp():S;var P=(S=S||k).add(k);0===P.x&&0===P.y||P._unit();var E=P.x*k.x+P.y*k.y,T=0!==E?1/E:1/0,A=E<qa&&x&&w;if(A&&C>p){var I=m.dist(x);if(I>2*f){var z=m.sub(m.sub(x)._mult(f/I)._round());this.distance+=z.dist(x),this.addCurrentVertex(z,this.distance,S.mult(1),0,0,!1,d,l),x=z}}var O=x&&w,M=O?r:w?v:b;if(O&&"round"===M&&(T<i?M="miter":T<=2&&(M="fakeround")),"miter"===M&&T>o&&(M="bevel"),"bevel"===M&&(T>2&&(M="flipbevel"),T<o&&(M="miter")),x&&(this.distance+=m.dist(x)),"miter"===M)P._mult(T),this.addCurrentVertex(m,this.distance,P,0,0,!1,d,l);else if("flipbevel"===M){if(T>100)P=k.clone().mult(-1);else{var L=S.x*k.y-S.y*k.x>0?-1:1,F=T*S.add(k).mag()/S.sub(k).mag();P._perp()._mult(F*L)}this.addCurrentVertex(m,this.distance,P,0,0,!1,d,l),this.addCurrentVertex(m,this.distance,P.mult(-1),0,0,!1,d,l)}else if("bevel"===M||"fakeround"===M){var R=S.x*k.y-S.y*k.x>0,D=-Math.sqrt(T*T-1);if(R?(g=0,y=D):(y=0,g=D),_||this.addCurrentVertex(m,this.distance,S,y,g,!1,d,l),"fakeround"===M){for(var B=Math.floor(8*(.5-(E-.5))),j=void 0,U=0;U<B;U++)j=k.mult((U+1)/(B+1))._add(S)._unit(),this.addPieSliceVertex(m,this.distance,j,R,d,l);this.addPieSliceVertex(m,this.distance,P,R,d,l);for(var N=B-1;N>=0;N--)j=S.mult((N+1)/(B+1))._add(k)._unit(),this.addPieSliceVertex(m,this.distance,j,R,d,l)}w&&this.addCurrentVertex(m,this.distance,k,-y,-g,!1,d,l)}else"butt"===M?(_||this.addCurrentVertex(m,this.distance,S,0,0,!1,d,l),w&&this.addCurrentVertex(m,this.distance,k,0,0,!1,d,l)):"square"===M?(_||(this.addCurrentVertex(m,this.distance,S,1,1,!1,d,l),this.e1=this.e2=-1),w&&this.addCurrentVertex(m,this.distance,k,-1,-1,!1,d,l)):"round"===M&&(_||(this.addCurrentVertex(m,this.distance,S,0,0,!1,d,l),this.addCurrentVertex(m,this.distance,S,1,1,!0,d,l),this.e1=this.e2=-1),w&&(this.addCurrentVertex(m,this.distance,k,-1,-1,!0,d,l),this.addCurrentVertex(m,this.distance,k,0,0,!1,d,l)));if(A&&C<c-1){var V=m.dist(w);if(V>2*f){var q=m.add(w.sub(m)._mult(f/V)._round());this.distance+=q.dist(m),this.addCurrentVertex(q,this.distance,k.mult(1),0,0,!1,d,l),m=q}}_=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,a,s)}},Za.prototype.addCurrentVertex=function(e,t,r,n,o,i,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(t=Ka(t,s)),l=r.clone(),n&&l._sub(r.perp()._mult(n)),Ha(u,e,l,i,!1,n,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=r.mult(-1),o&&l._sub(r.perp()._mult(o)),Ha(u,e,l,i,!0,-o,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>Wa/2&&!s&&(this.distance=0,this.addCurrentVertex(e,this.distance,r,n,o,i,a))},Za.prototype.addPieSliceVertex=function(e,t,r,n,o,i){r=r.mult(n?-1:1);var a=this.layoutVertexArray,s=this.indexArray;i&&(t=Ka(t,i)),Ha(a,e,r,!1,n,0,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3},cn("LineBucket",Za,{omit:["layers","features"]});var Xa=new Vn({"line-cap":new Dn(ge.layout_line["line-cap"]),"line-join":new Bn(ge.layout_line["line-join"]),"line-miter-limit":new Dn(ge.layout_line["line-miter-limit"]),"line-round-limit":new Dn(ge.layout_line["line-round-limit"])}),Ya={paint:new Vn({"line-opacity":new Bn(ge.paint_line["line-opacity"]),"line-color":new Bn(ge.paint_line["line-color"]),"line-translate":new Dn(ge.paint_line["line-translate"]),"line-translate-anchor":new Dn(ge.paint_line["line-translate-anchor"]),"line-width":new Bn(ge.paint_line["line-width"]),"line-gap-width":new Bn(ge.paint_line["line-gap-width"]),"line-offset":new Bn(ge.paint_line["line-offset"]),"line-blur":new Bn(ge.paint_line["line-blur"]),"line-dasharray":new Un(ge.paint_line["line-dasharray"]),"line-pattern":new jn(ge.paint_line["line-pattern"]),"line-gradient":new Nn(ge.paint_line["line-gradient"])}),layout:Xa},Ja=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new Tn(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,o){return r=p({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,o)},t}(Bn))(Ya.paint.properties["line-width"].specification);Ja.useIntegerZoom=!0;var $a=function(e){function t(t){e.call(this,t,Ya)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Li(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=Ja.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Za(e)},t.prototype.queryRadius=function(e){var t=e,r=Qa(mi("line-width",this,t),mi("line-gap-width",this,t)),n=mi("line-offset",this,t);return r/2+Math.abs(n)+yi(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,s){var l=gi(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Qa(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),c=this.paint.get("line-offset").evaluate(t,r);return c&&(n=function(e,t){for(var r=[],n=new o(0,0),i=0;i<e.length;i++){for(var a=e[i],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],p=a[l+1],f=0===l?n:c.sub(u)._unit()._perp(),h=l===a.length-1?n:p.sub(c)._unit()._perp(),d=f._add(h)._unit(),m=d.x*h.x+d.y*h.y;d._mult(1/m),s.push(d._mult(t)._add(c))}r.push(s)}return r}(n,c*s)),function(e,t,r){for(var n=0;n<t.length;n++){var o=t[n];if(e.length>=3)for(var i=0;i<o.length;i++)if(hi(e,o[i]))return!0;if(si(e,o,r))return!0}return!1}(l,n,u)},t.prototype.isTileClipped=function(){return!0},t}(qn);function Qa(e,t){return t>0?t+2*e:e}var es=Zn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),ts=Zn([{name:"a_projected_pos",components:3,type:"Float32"}],4),rs=(Zn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Zn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ns=(Zn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Zn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),os=Zn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function is(e,t,r){return e.sections.forEach(function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),En.applyArabicShaping&&(e=En.applyArabicShaping(e)),e}(e.text,t,r)}),e}Zn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"}]),Zn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"radialTextOffset"}]),Zn([{type:"Float32",name:"offsetX"}]),Zn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var as={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},ss=function(e){function t(t,r,n,o){e.call(this,t,r),this.angle=n,void 0!==o&&(this.segment=o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(o);cn("Anchor",ss);var ls=256;function us(e,t){var r=t.expression;if("constant"===r.kind)return{functionType:"constant",layoutSize:r.evaluate(new Tn(e+1))};if("source"===r.kind)return{functionType:"source"};for(var n=r.zoomStops,o=0;o<n.length&&n[o]<=e;)o++;for(var i=o=Math.max(0,o-1);i<n.length&&n[i]<e+1;)i++;i=Math.min(n.length-1,i);var a={min:n[o],max:n[i]};return"composite"===r.kind?{functionType:"composite",zoomRange:a,propertyValue:t.value}:{functionType:"camera",layoutSize:r.evaluate(new Tn(e+1)),zoomRange:a,sizeRange:{min:r.evaluate(new Tn(a.min)),max:r.evaluate(new Tn(a.max))},propertyValue:t.value}}function cs(e,t,r){var n=t;return"source"===e.functionType?r.lowerSize/ls:"composite"===e.functionType?ft(r.lowerSize/ls,r.upperSize/ls,n.uSizeT):n.uSize}function ps(e,t,r){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var n=e.propertyValue,o=e.zoomRange,i=e.sizeRange,a=u(Sr(n,r.specification).interpolationFactor(t,o.min,o.max),0,1);return{uSizeT:0,uSize:i.min+a*(i.max-i.min)}}var s=e.propertyValue,l=e.zoomRange;return{uSizeT:u(Sr(s,r.specification).interpolationFactor(t,l.min,l.max),0,1),uSize:0}}var fs=Object.freeze({getSizeData:us,evaluateSizeForFeature:cs,evaluateSizeForZoom:ps,SIZE_PACK_FACTOR:ls}),hs=Aa.VectorTileFeature.types,ds=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ms(e,t,r,n,o,i,a,s){e.emplaceBack(t,r,Math.round(32*n),Math.round(32*o),i,a,s?s[0]:0,s?s[1]:0)}function ys(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}var gs=function(e){this.layoutVertexArray=new eo,this.indexArray=new po,this.programConfigurations=e,this.segments=new Io,this.dynamicLayoutVertexArray=new to,this.opacityVertexArray=new ro,this.placedSymbolArray=new _o};gs.prototype.upload=function(e,t,r,n){r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,es.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,ts.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ds,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e)},gs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},cn("SymbolBuffers",gs);var vs=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new Io,this.collisionVertexArray=new io};vs.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,rs.members,!0)},vs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},cn("CollisionBuffers",vs);var bs=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=us(this.zoom,t["text-size"]),this.iconSizeData=us(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==o&&void 0!==n.constantOr(1);var i="viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey;this.sortFeaturesByY=i&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id}),this.sourceID=e.sourceID};bs.prototype.createArrays=function(){this.text=new gs(new Yo(es.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new gs(new Yo(es.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new vs(oo,ns.members,fo),this.collisionCircle=new vs(oo,os.members,po),this.glyphOffsetArray=new ko,this.lineVertexArray=new Po,this.symbolInstances=new wo},bs.prototype.calculateGlyphDependencies=function(e,t,r,n){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,r&&n){var i=as[e.charAt(o)];i&&(t[i.charCodeAt(0)]=!0)}},bs.prototype.populate=function(e,t){var r=this.layers[0],n=r.layout,o=n.get("text-font"),i=n.get("text-field"),a=n.get("icon-image"),s=("constant"!==i.value.kind||i.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==a.value.kind||a.value.value&&a.value.value.length>0,u=n.get("symbol-sort-key");if(this.features=[],s||l){for(var c=t.iconDependencies,p=t.glyphDependencies,f=new Tn(this.zoom),h=0,d=e;h<d.length;h+=1){var m=d[h],y=m.feature,g=m.index,v=m.sourceLayerIndex;if(r._featureFilter(f,y)){var b=void 0;if(s){var _=r.getValueAndResolveTokens("text-field",y);b=is(_ instanceof Ve?_:Ve.fromString(_),r,y)}var x=void 0;if(l&&(x=r.getValueAndResolveTokens("icon-image",y)),b||x){var w=this.sortFeaturesByKey?u.evaluate(y,{}):void 0,S={text:b,icon:x,index:g,sourceLayerIndex:v,geometry:ti(y),properties:y.properties,type:hs[y.type],sortKey:w};if(void 0!==y.id&&(S.id=y.id),this.features.push(S),x&&(c[x]=!0),b)for(var k=o.evaluate(y,{}).join(","),C="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement"),P=0,E=b.sections;P<E.length;P+=1){var T=E[P],A=yn(b.toString()),I=T.fontStack||k,z=p[I]=p[I]||{};this.calculateGlyphDependencies(T.text,z,C,A)}}}}"line"===n.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],o=0;function i(t){n.push(e[t]),o++}function a(e,t,o){var i=r[e];return delete r[e],r[t]=i,n[i].geometry[0].pop(),n[i].geometry[0]=n[i].geometry[0].concat(o[0]),i}function s(e,r,o){var i=t[r];return delete t[r],t[e]=i,n[i].geometry[0].shift(),n[i].geometry[0]=o[0].concat(n[i].geometry[0]),i}function l(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var u=0;u<e.length;u++){var c=e[u],p=c.geometry,f=c.text?c.text.toString():null;if(f){var h=l(f,p),d=l(f,p,!0);if(h in r&&d in t&&r[h]!==t[d]){var m=s(h,d,p),y=a(h,d,n[m].geometry);delete t[h],delete r[d],r[l(f,n[y].geometry,!0)]=y,n[m].geometry=null}else h in r?a(h,d,p):d in t?s(h,d,p):(i(u),t[h]=o-1,r[d]=o-1)}else i(u)}return n.filter(function(e){return e.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(e,t){return e.sortKey-t.sortKey})}},bs.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},bs.prototype.isEmpty=function(){return 0===this.symbolInstances.length},bs.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},bs.prototype.upload=function(e){this.uploaded||(this.collisionBox.upload(e),this.collisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},bs.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},bs.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),o=e.dist(t[e.segment]),i={},a=e.segment+1;a<t.length;a++)i[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a<t.length-1&&(n+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)i[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:o},s>0&&(o+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=i[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},bs.prototype.addSymbols=function(e,t,r,n,o,i,a,s,l,u){for(var c=e.indexArray,p=e.layoutVertexArray,f=e.dynamicLayoutVertexArray,h=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray,i.sortKey),d=this.glyphOffsetArray.length,m=h.vertexLength,y=0,g=t;y<g.length;y+=1){var v=g[y],b=v.tl,_=v.tr,x=v.bl,w=v.br,S=v.tex,k=h.vertexLength,C=v.glyphOffset[1];ms(p,s.x,s.y,b.x,C+b.y,S.x,S.y,r),ms(p,s.x,s.y,_.x,C+_.y,S.x+S.w,S.y,r),ms(p,s.x,s.y,x.x,C+x.y,S.x,S.y+S.h,r),ms(p,s.x,s.y,w.x,C+w.y,S.x+S.w,S.y+S.h,r),ys(f,s,0),c.emplaceBack(k,k+1,k+2),c.emplaceBack(k+1,k+2,k+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(v.glyphOffset[0])}e.placedSymbolArray.emplaceBack(s.x,s.y,d,this.glyphOffsetArray.length-d,m,l,u,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,!1,0),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{})},bs.prototype._addCollisionDebugVertex=function(e,t,r,n,o,i){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,o,Math.round(i.x),Math.round(i.y))},bs.prototype.addCollisionDebugVertices=function(e,t,r,n,i,a,s,l){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),c=u.vertexLength,p=i.layoutVertexArray,f=i.collisionVertexArray,h=s.anchorX,d=s.anchorY;if(this._addCollisionDebugVertex(p,f,a,h,d,new o(e,t)),this._addCollisionDebugVertex(p,f,a,h,d,new o(r,t)),this._addCollisionDebugVertex(p,f,a,h,d,new o(r,n)),this._addCollisionDebugVertex(p,f,a,h,d,new o(e,n)),u.vertexLength+=4,l){var m=i.indexArray;m.emplaceBack(c,c+1,c+2),m.emplaceBack(c,c+2,c+3),u.primitiveLength+=2}else{var y=i.indexArray;y.emplaceBack(c,c+1),y.emplaceBack(c+1,c+2),y.emplaceBack(c+2,c+3),y.emplaceBack(c+3,c),u.primitiveLength+=4}},bs.prototype.addDebugCollisionBoxes=function(e,t,r){for(var n=e;n<t;n++){var o=this.collisionBoxArray.get(n),i=o.x1,a=o.y1,s=o.x2,l=o.y2,u=o.radius>0;this.addCollisionDebugVertices(i,a,s,l,u?this.collisionCircle:this.collisionBox,o.anchorPoint,r,u)}},bs.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t)}},bs.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,o){for(var i={},a=t;a<r;a++){var s=e.get(a);if(0===s.radius){i.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},i.textFeatureIndex=s.featureIndex;break}i.textCircles||(i.textCircles=[],i.textFeatureIndex=s.featureIndex),i.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=n;l<o;l++){var u=e.get(l);if(0===u.radius){i.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},i.iconFeatureIndex=u.featureIndex;break}}return i},bs.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex))}},bs.prototype.hasTextData=function(){return this.text.segments.get().length>0},bs.prototype.hasIconData=function(){return this.icon.segments.get().length>0},bs.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},bs.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},bs.prototype.addIndicesForPlacedTextSymbol=function(e){for(var t=this.text.placedSymbolArray.get(e),r=t.vertexStartIndex+4*t.numGlyphs,n=t.vertexStartIndex;n<r;n+=4)this.text.indexArray.emplaceBack(n,n+1,n+2),this.text.indexArray.emplaceBack(n+1,n+2,n+3)},bs.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var r=[],n=0;n<this.symbolInstances.length;n++)r.push(n);for(var o=Math.sin(e),i=Math.cos(e),a=[],s=[],l=0;l<this.symbolInstances.length;l++){var u=this.symbolInstances.get(l);a.push(0|Math.round(o*u.anchorX+i*u.anchorY)),s.push(u.featureIndex)}r.sort(function(e,t){return a[e]-a[t]||s[t]-s[e]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var c=0,p=r;c<p.length;c+=1){var f=p[c],h=this.symbolInstances.get(f);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach(function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedTextSymbol(e)}),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var d=this.icon.placedSymbolArray.get(f);if(d.numGlyphs){var m=d.vertexStartIndex;this.icon.indexArray.emplaceBack(m,m+1,m+2),this.icon.indexArray.emplaceBack(m+1,m+2,m+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},cn("SymbolBucket",bs,{omit:["layers","collisionBoxArray","features","compareText"]}),bs.MAX_GLYPHS=65535,bs.addDynamicAttributes=ys;var _s=new Vn({"symbol-placement":new Dn(ge.layout_symbol["symbol-placement"]),"symbol-spacing":new Dn(ge.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Dn(ge.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Bn(ge.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Dn(ge.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Dn(ge.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Dn(ge.layout_symbol["icon-ignore-placement"]),"icon-optional":new Dn(ge.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Dn(ge.layout_symbol["icon-rotation-alignment"]),"icon-size":new Bn(ge.layout_symbol["icon-size"]),"icon-text-fit":new Dn(ge.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Dn(ge.layout_symbol["icon-text-fit-padding"]),"icon-image":new Bn(ge.layout_symbol["icon-image"]),"icon-rotate":new Bn(ge.layout_symbol["icon-rotate"]),"icon-padding":new Dn(ge.layout_symbol["icon-padding"]),"icon-keep-upright":new Dn(ge.layout_symbol["icon-keep-upright"]),"icon-offset":new Bn(ge.layout_symbol["icon-offset"]),"icon-anchor":new Bn(ge.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Dn(ge.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Dn(ge.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Dn(ge.layout_symbol["text-rotation-alignment"]),"text-field":new Bn(ge.layout_symbol["text-field"]),"text-font":new Bn(ge.layout_symbol["text-font"]),"text-size":new Bn(ge.layout_symbol["text-size"]),"text-max-width":new Bn(ge.layout_symbol["text-max-width"]),"text-line-height":new Dn(ge.layout_symbol["text-line-height"]),"text-letter-spacing":new Bn(ge.layout_symbol["text-letter-spacing"]),"text-justify":new Bn(ge.layout_symbol["text-justify"]),"text-radial-offset":new Bn(ge.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Dn(ge.layout_symbol["text-variable-anchor"]),"text-anchor":new Bn(ge.layout_symbol["text-anchor"]),"text-max-angle":new Dn(ge.layout_symbol["text-max-angle"]),"text-rotate":new Bn(ge.layout_symbol["text-rotate"]),"text-padding":new Dn(ge.layout_symbol["text-padding"]),"text-keep-upright":new Dn(ge.layout_symbol["text-keep-upright"]),"text-transform":new Bn(ge.layout_symbol["text-transform"]),"text-offset":new Bn(ge.layout_symbol["text-offset"]),"text-allow-overlap":new Dn(ge.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Dn(ge.layout_symbol["text-ignore-placement"]),"text-optional":new Dn(ge.layout_symbol["text-optional"])}),xs={paint:new Vn({"icon-opacity":new Bn(ge.paint_symbol["icon-opacity"]),"icon-color":new Bn(ge.paint_symbol["icon-color"]),"icon-halo-color":new Bn(ge.paint_symbol["icon-halo-color"]),"icon-halo-width":new Bn(ge.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Bn(ge.paint_symbol["icon-halo-blur"]),"icon-translate":new Dn(ge.paint_symbol["icon-translate"]),"icon-translate-anchor":new Dn(ge.paint_symbol["icon-translate-anchor"]),"text-opacity":new Bn(ge.paint_symbol["text-opacity"]),"text-color":new Bn(ge.paint_symbol["text-color"]),"text-halo-color":new Bn(ge.paint_symbol["text-halo-color"]),"text-halo-width":new Bn(ge.paint_symbol["text-halo-width"]),"text-halo-blur":new Bn(ge.paint_symbol["text-halo-blur"]),"text-translate":new Dn(ge.paint_symbol["text-translate"]),"text-translate-anchor":new Dn(ge.paint_symbol["text-translate-anchor"])}),layout:_s},ws=function(e){function t(t){e.call(this,t,xs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var r,n=this.layout.get(e).evaluate(t,{}),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||gr(o.value)?n:(r=t.properties,n.replace(/{([^{}]+)}/g,function(e,t){return t in r?String(r[t]):""}))},t.prototype.createBucket=function(e){return new bs(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(qn),Ss={paint:new Vn({"background-color":new Dn(ge.paint_background["background-color"]),"background-pattern":new Un(ge.paint_background["background-pattern"]),"background-opacity":new Dn(ge.paint_background["background-opacity"])})},ks=function(e){function t(t){e.call(this,t,Ss)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qn),Cs={paint:new Vn({"raster-opacity":new Dn(ge.paint_raster["raster-opacity"]),"raster-hue-rotate":new Dn(ge.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Dn(ge.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Dn(ge.paint_raster["raster-brightness-max"]),"raster-saturation":new Dn(ge.paint_raster["raster-saturation"]),"raster-contrast":new Dn(ge.paint_raster["raster-contrast"]),"raster-resampling":new Dn(ge.paint_raster["raster-resampling"]),"raster-fade-duration":new Dn(ge.paint_raster["raster-fade-duration"])})},Ps=function(e){function t(t){e.call(this,t,Cs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qn),Es=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e)},t}(qn),Ts={circle:Ci,heatmap:Fi,hillshade:Di,fill:ba,"fill-extrusion":Da,line:$a,symbol:ws,background:ks,raster:Ps};function As(e){for(var t=0,r=0,n=0,o=e;n<o.length;n+=1){var i=o[n];t+=i.w*i.h,r=Math.max(r,i.w)}e.sort(function(e,t){return t.h-e.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var p=c[u],f=a.length-1;f>=0;f--){var h=a[f];if(!(p.w>h.w||p.h>h.h)){if(p.x=h.x,p.y=h.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===h.w&&p.h===h.h){var d=a.pop();f<a.length&&(a[f]=d)}else p.h===h.h?(h.x+=p.w,h.w-=p.w):p.w===h.w?(h.y+=p.h,h.h-=p.h):(a.push({x:h.x+p.w,y:h.y,w:h.w-p.w,h:p.h}),h.y+=p.h,h.h-=p.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}var Is=function(e,t){var r=t.pixelRatio,n=t.version;this.paddedRect=e,this.pixelRatio=r,this.version=n},zs={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};zs.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},zs.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},zs.tlbr.get=function(){return this.tl.concat(this.br)},zs.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Is.prototype,zs);var Os=function(e,t){var r={},n={};this.haveRenderCallbacks=[];var o=[];this.addImages(e,r,o),this.addImages(t,n,o);var i=As(o),a=i.w,s=i.h,l=new Oi({width:a||1,height:s||1});for(var u in e){var c=e[u],p=r[u].paddedRect;Oi.copy(c.data,l,{x:0,y:0},{x:p.x+1,y:p.y+1},c.data)}for(var f in t){var h=t[f],d=n[f].paddedRect,m=d.x+1,y=d.y+1,g=h.data.width,v=h.data.height;Oi.copy(h.data,l,{x:0,y:0},{x:m,y:y},h.data),Oi.copy(h.data,l,{x:0,y:v-1},{x:m,y:y-1},{width:g,height:1}),Oi.copy(h.data,l,{x:0,y:0},{x:m,y:y+v},{width:g,height:1}),Oi.copy(h.data,l,{x:g-1,y:0},{x:m-1,y:y},{width:1,height:v}),Oi.copy(h.data,l,{x:0,y:0},{x:m+g,y:y},{width:1,height:v})}this.image=l,this.iconPositions=r,this.patternPositions=n};Os.prototype.addImages=function(e,t,r){for(var n in e){var o=e[n],i={x:0,y:0,w:o.data.width+2,h:o.data.height+2};r.push(i),t[n]=new Is(i,o),o.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},Os.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},Os.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=e.tl,o=n[0],i=n[1];r.update(t.data,void 0,{x:o,y:i})}},cn("ImagePosition",Is),cn("ImageAtlas",Os);var Ms=self.HTMLImageElement,Ls=self.HTMLCanvasElement,Fs=self.HTMLVideoElement,Rs=self.ImageData,Ds=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};Ds.prototype.update=function(e,t,r){var n=e.width,o=e.height,i=!(this.size&&this.size[0]===n&&this.size[1]===o||r),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),i)this.size=[n,o],e instanceof Ms||e instanceof Ls||e instanceof Fs||e instanceof Rs?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,o,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=r||{x:0,y:0},u=l.x,c=l.y;e instanceof Ms||e instanceof Ls||e instanceof Fs||e instanceof Rs?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,u,c,n,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Ds.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},Ds.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ds.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Bs=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,p=r?o-1:0,f=r?-1:1,h=e[t+p];for(p+=f,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},js=function(e,t,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?f/l:f*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*l-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[r+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+h]=255&a,h+=d,a/=256,u-=8);e[r+h-d]|=128*m},Us=Ns;function Ns(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function Vs(e){return e.type===Ns.Bytes?e.readVarint()+e.pos:e.pos+1}function qs(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Gs(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=e;o--)r.buf[o+n]=r.buf[o]}function Ws(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Hs(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Zs(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Ks(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Xs(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Ys(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Js(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function $s(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Qs(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function el(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function tl(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function rl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Ns.Varint=0,Ns.Fixed64=1,Ns.Bytes=2,Ns.Fixed32=5,Ns.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;this.type=7&n,e(o,t,this),this.pos===i&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=el(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=rl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=el(this.buf,this.pos)+4294967296*el(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=el(this.buf,this.pos)+4294967296*rl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Bs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Bs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,o,i=r.buf;if(n=(112&(o=i[r.pos++]))>>4,o<128)return qs(e,n,t);if(n|=(127&(o=i[r.pos++]))<<3,o<128)return qs(e,n,t);if(n|=(127&(o=i[r.pos++]))<<10,o<128)return qs(e,n,t);if(n|=(127&(o=i[r.pos++]))<<17,o<128)return qs(e,n,t);if(n|=(127&(o=i[r.pos++]))<<24,o<128)return qs(e,n,t);if(n|=(1&(o=i[r.pos++]))<<31,o<128)return qs(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,r){for(var n="",o=t;o<r;){var i,a,s,l=e[o],u=null,c=l>239?4:l>223?3:l>191?2:1;if(o+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===c?(i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&((u=(15&l)<<12|(63&i)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),o+=c}return n}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var r=Vs(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=Vs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ns.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ns.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ns.Fixed32)this.pos+=4;else{if(t!==Ns.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),tl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),tl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),tl(this.buf,-1&e,this.pos),tl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),tl(this.buf,-1&e,this.pos),tl(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,o,i=0;i<t.length;i++){if((n=t.charCodeAt(i))>55295&&n<57344){if(!o){n>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):o=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(e[r++]=239,e[r++]=191,e[r++]=189,o=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Gs(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),js(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),js(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&Gs(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,Ns.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){this.writeMessage(e,Ws,t)},writePackedSVarint:function(e,t){this.writeMessage(e,Hs,t)},writePackedBoolean:function(e,t){this.writeMessage(e,Xs,t)},writePackedFloat:function(e,t){this.writeMessage(e,Zs,t)},writePackedDouble:function(e,t){this.writeMessage(e,Ks,t)},writePackedFixed32:function(e,t){this.writeMessage(e,Ys,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,Js,t)},writePackedFixed64:function(e,t){this.writeMessage(e,$s,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,Qs,t)},writeBytesField:function(e,t){this.writeTag(e,Ns.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ns.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ns.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ns.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ns.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ns.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ns.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ns.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ns.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ns.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var nl=3;function ol(e,t,r){1===e&&r.readMessage(il,t)}function il(e,t,r){if(3===e){var n=r.readMessage(al,{}),o=n.id,i=n.bitmap,a=n.width,s=n.height,l=n.left,u=n.top,c=n.advance;t.push({id:o,bitmap:new zi({width:a+2*nl,height:s+2*nl},i),metrics:{width:a,height:s,left:l,top:u,advance:c}})}}function al(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}var sl=nl,ll=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.callbackID=0,y(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function ul(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}ll.prototype.send=function(e,t,r,n){var o=this,i=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[i]=r);var a=[];if(this.target.postMessage({targetMapId:n,sourceMapId:this.mapId,type:e,id:String(i),data:fn(t,a)},a),r)return{cancel:function(){return o.target.postMessage({targetMapId:n,sourceMapId:o.mapId,type:"<cancel>",id:String(i)})}}},ll.prototype.receive=function(e){var t,r=this,n=e.data,o=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var i=function(e,t){delete r.callbacks[o];var n=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(o),error:e?fn(e):null,data:fn(t,n)},n)};if("<response>"===n.type||"<cancel>"===n.type)t=this.callbacks[n.id],delete this.callbacks[n.id],t&&n.error?t(hn(n.error)):t&&t(null,hn(n.data));else if(void 0!==n.id&&this.parent[n.type]){this.callbacks[n.id]=null;var a=this.parent[n.type](n.sourceMapId,hn(n.data),i);a&&null===this.callbacks[n.id]&&(this.callbacks[n.id]=a.cancel)}else if(void 0!==n.id&&this.parent.getWorkerSource){var s=n.type.split("."),l=hn(n.data);this.parent.getWorkerSource(n.sourceMapId,s[0],l.source)[s[1]](l,i)}else this.parent[n.type](hn(n.data))}},ll.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var cl=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};cl.prototype.setNorthEast=function(e){return this._ne=e instanceof pl?new pl(e.lng,e.lat):pl.convert(e),this},cl.prototype.setSouthWest=function(e){return this._sw=e instanceof pl?new pl(e.lng,e.lat):pl.convert(e),this},cl.prototype.extend=function(e){var t,r,n=this._sw,o=this._ne;if(e instanceof pl)t=e,r=e;else{if(!(e instanceof cl))return Array.isArray(e)?e.every(Array.isArray)?this.extend(cl.convert(e)):this.extend(pl.convert(e)):this;if(t=e._sw,r=e._ne,!t||!r)return this}return n||o?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this._sw=new pl(t.lng,t.lat),this._ne=new pl(r.lng,r.lat)),this},cl.prototype.getCenter=function(){return new pl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},cl.prototype.getSouthWest=function(){return this._sw},cl.prototype.getNorthEast=function(){return this._ne},cl.prototype.getNorthWest=function(){return new pl(this.getWest(),this.getNorth())},cl.prototype.getSouthEast=function(){return new pl(this.getEast(),this.getSouth())},cl.prototype.getWest=function(){return this._sw.lng},cl.prototype.getSouth=function(){return this._sw.lat},cl.prototype.getEast=function(){return this._ne.lng},cl.prototype.getNorth=function(){return this._ne.lat},cl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},cl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},cl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},cl.convert=function(e){return!e||e instanceof cl?e:new cl(e)};var pl=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function fl(e){return 2*Math.PI*6378137*Math.cos(e*Math.PI/180)}function hl(e){return(180+e)/360}function dl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function ml(e,t){return e/fl(t)}function yl(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}pl.prototype.wrap=function(){return new pl(c(this.lng,-180,180),this.lat)},pl.prototype.toArray=function(){return[this.lng,this.lat]},pl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},pl.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new cl(new pl(this.lng-r,this.lat-t),new pl(this.lng+r,this.lat+t))},pl.convert=function(e){if(e instanceof pl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new pl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new pl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var gl=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};gl.fromLngLat=function(e,t){void 0===t&&(t=0);var r=pl.convert(e);return new gl(hl(r.lng),dl(r.lat),ml(t,r.lat))},gl.prototype.toLngLat=function(){return new pl(360*this.x-180,yl(this.y))},gl.prototype.toAltitude=function(){return this.z*fl(yl(this.y))};var vl=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=xl(0,e,t,r)};vl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},vl.prototype.url=function(e,t){var r,n,o,i,a,s=(r=this.x,n=this.y,o=this.z,i=ul(256*r,256*(n=Math.pow(2,o)-n-1),o),a=ul(256*(r+1),256*(n+1),o),i[0]+","+i[1]+","+a[0]+","+a[1]),l=function(e,t,r){for(var n,o="",i=e;i>0;i--)o+=(t&(n=1<<i-1)?1:0)+(r&n?2:0);return o}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},vl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new o((e.x*t-this.x)*Qo,(e.y*t-this.y)*Qo)};var bl=function(e,t){this.wrap=e,this.canonical=t,this.key=xl(e,t.z,t.x,t.y)},_l=function(e,t,r,n,o){this.overscaledZ=e,this.wrap=t,this.canonical=new vl(r,+n,+o),this.key=xl(t,e,n,o)};function xl(e,t,r,n){(e*=2)<0&&(e=-1*e-1);var o=1<<t;return 32*(o*o*e+o*n+r)+t}_l.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},_l.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new _l(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _l(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},_l.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},_l.prototype.children=function(e){if(this.overscaledZ>=e)return[new _l(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new _l(t,this.wrap,t,r,n),new _l(t,this.wrap,t,r+1,n),new _l(t,this.wrap,t,r,n+1),new _l(t,this.wrap,t,r+1,n+1)]},_l.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},_l.prototype.wrapped=function(){return new _l(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},_l.prototype.unwrapTo=function(e){return new _l(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},_l.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},_l.prototype.toUnwrapped=function(){return new bl(this.wrap,this.canonical)},_l.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},_l.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new gl(e.x-this.wrap,e.y))},cn("CanonicalTileID",vl),cn("OverscaledTileID",_l,{omit:["posMatrix"]});var wl=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return w('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var n=this.dim=t.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var o=t.data,i="terrarium"===r?this._unpackTerrarium:this._unpackMapbox,a=0;a<n;a++)for(var s=0;s<n;s++){var l=4*(a*n+s);this.set(s,a,i(o[l],o[l+1],o[l+2]))}for(var u=0;u<n;u++)this.set(-1,u,this.get(0,u)),this.set(n,u,this.get(n-1,u)),this.set(u,-1,this.get(u,0)),this.set(u,n,this.get(u,n-1));this.set(-1,-1,this.get(0,0)),this.set(n,-1,this.get(n-1,0)),this.set(-1,n,this.get(0,n-1)),this.set(n,n,this.get(n-1,n-1))};wl.prototype.set=function(e,t,r){this.data[this._idx(e,t)]=r+65536},wl.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},wl.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},wl.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},wl.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},wl.prototype.getPixels=function(){return new Oi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},wl.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,o=t*this.dim+this.dim,i=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=o-1;break;case 1:o=n+1}switch(r){case-1:i=a-1;break;case 1:a=i+1}for(var s=-t*this.dim,l=-r*this.dim,u=i;u<a;u++)for(var c=n;c<o;c++)this.set(c,u,e.get(c+s,u+l))},cn("DEMData",wl);var Sl=Zn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),kl=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};kl.prototype.encode=function(e){return this._stringToNumber[e]},kl.prototype.decode=function(e){return this._numberToString[e]};var Cl=function(e,t,r,n){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,null!=e.id&&(this.id=e.id)},Pl={geometry:{configurable:!0}};Pl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Pl.geometry.set=function(e){this._geometry=e},Cl.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Cl.prototype,Pl);var El=function(){this.state={},this.stateChanges={},this.deletedStates={}};El.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},p(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var o in this.deletedStates[e]={},this.state[e])o!==n&&(this.deletedStates[e][o]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var i in this.deletedStates[e][n]={},this.state[e][n])r[i]||(this.deletedStates[e][n][i]=null);else for(var a in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][a]&&delete this.deletedStates[e][n][a]},El.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}},El.prototype.getState=function(e,t){var r=String(t),n=this.state[e]||{},o=this.stateChanges[e]||{},i=p({},n[r],o[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var a=this.deletedStates[e][t];if(null===a)return{};for(var s in a)delete i[s]}return i},El.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},El.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var o={};for(var i in this.stateChanges[n])this.state[n][i]||(this.state[n][i]={}),p(this.state[n][i],this.stateChanges[n][i]),o[i]=this.state[n][i];r[n]=o}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,f=Object.keys(this.deletedStates[a][u]);c<f.length;c+=1){var h=f[c];delete this.state[a][u][h]}s[u]=this.state[a][u]}r[a]=r[a]||{},p(r[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var d in e)e[d].setFeatureState(r,t)};var Tl=function(e,t,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new on(Qo,16,0),this.grid3D=new on(Qo,16,0),this.featureIndexArray=r||new To};function Al(e){for(var t=1/0,r=1/0,n=-1/0,o=-1/0,i=0,a=e;i<a.length;i+=1){var s=a[i];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),o=Math.max(o,s.y)}return{minX:t,minY:r,maxX:n,maxY:o}}function Il(e,t){return t-e}Tl.prototype.insert=function(e,t,r,n,o,i){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,o);for(var s=i?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var f=u[p];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}c[0]<Qo&&c[1]<Qo&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},Tl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Aa.VectorTile(new Us(this.rawTileData)).layers,this.sourceLayerCoder=new kl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Tl.prototype.query=function(e,t,r){var n=this;this.loadVTLayers();for(var i=e.params||{},a=Qo/e.tileSize/e.scale,s=Or(i.filter),l=e.queryGeometry,u=e.queryPadding*a,c=Al(l),p=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),f=Al(e.cameraQueryGeometry),h=0,d=this.grid3D.query(f.minX-u,f.minY-u,f.maxX+u,f.maxY+u,function(t,r,n,i){return function(e,t,r,n,i){for(var a=0,s=e;a<s.length;a+=1){var l=s[a];if(t<=l.x&&r<=l.y&&n>=l.x&&i>=l.y)return!0}var u=[new o(t,r),new o(t,i),new o(n,i),new o(n,r)];if(e.length>2)for(var c=0,p=u;c<p.length;c+=1)if(hi(e,p[c]))return!0;for(var f=0;f<e.length-1;f++)if(di(e[f],e[f+1],u))return!0;return!1}(e.cameraQueryGeometry,t-u,r-u,n+u,i+u)});h<d.length;h+=1){var m=d[h];p.push(m)}p.sort(Il);for(var y,g={},v=function(o){var u=p[o];if(u!==y){y=u;var c=n.featureIndexArray.get(u),f=null;n.loadMatchingFeature(g,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,s,i.layers,t,function(t,o){f||(f=ti(t));var i={};return t.id&&(i=r.getState(o.sourceLayer||"_geojsonTileLayer",t.id)),o.queryIntersectsFeature(l,t,i,f,n.z,e.transform,a,e.pixelPosMatrix)})}},b=0;b<p.length;b++)v(b);return g},Tl.prototype.loadMatchingFeature=function(e,t,r,n,o,i,a,s){var l=this.bucketLayerIDs[t];if(!i||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(i,l)){var u=this.sourceLayerCoder.decode(r),c=this.vtLayers[u].feature(n);if(o(new Tn(this.tileID.overscaledZ),c))for(var p=0;p<l.length;p++){var f=l[p];if(!(i&&i.indexOf(f)<0)){var h=a[f];if(h){var d=!s||s(c,h);if(d){var m=new Cl(c,this.z,this.x,this.y);m.layer=h.serialize();var y=e[f];void 0===y&&(y=e[f]=[]),y.push({featureIndex:n,feature:m,intersectionZ:d})}}}}}},Tl.prototype.lookupSymbolFeatures=function(e,t,r,n,o,i){var a={};this.loadVTLayers();for(var s=Or(n),l=0,u=e;l<u.length;l+=1){var c=u[l];this.loadMatchingFeature(a,t,r,c,s,o,i)}return a},Tl.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,o=r[t];n<o.length;n+=1)if(e===o[n])return!0;return!1},cn("FeatureIndex",Tl,{omit:["rawTileData","sourceLayerCoder"]});var zl=function(e,t){this.tileID=e,this.uid=h(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};zl.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<O.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},zl.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},zl.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=i[o],n=e.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map(function(e){return n.filter(function(t){return t.id===e})[0]}));for(var a=0,s=n;a<s.length;a+=1){var l=s[a];r[l.id]=e}}},o=0,i=e;o<i.length;o+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var o=this.buckets[n];if(o instanceof bs){if(this.hasSymbolBuckets=!0,!r)break;o.justReloaded=!0}}for(var i in this.queryPadding=0,this.buckets){var a=this.buckets[i];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(i).queryRadius(a))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new vo},zl.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},zl.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},zl.prototype.getBucket=function(e){return this.buckets[e.id]},zl.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ds(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ds(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},zl.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},zl.prototype.queryRenderedFeatures=function(e,t,r,n,o,i,a,s,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:n,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:a,params:i,queryPadding:this.queryPadding*s},e,t):{}},zl.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),n=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[n];if(o)for(var i=Or(t&&t.filter),a=this.tileID.canonical,s=a.z,l=a.x,u=a.y,c={z:s,x:l,y:u},p=0;p<o.length;p++){var f=o.feature(p);if(i(new Tn(this.tileID.overscaledZ),f)){var h=new Cl(f,s,l,u);h.tile=c,e.push(h)}}}},zl.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},zl.prototype.setMask=function(e,t){if(!a(this.mask,e)&&(this.mask=e,this.clearMask(),!a(e,{0:!0}))){var r=new Yn,n=new po;this.segments=new Io,this.segments.prepareSegment(0,r,n);for(var i=Object.keys(e),s=0;s<i.length;s++){var l=e[i[s]],u=Qo>>l.z,c=new o(l.x*u,l.y*u),p=new o(c.x+u,c.y+u),f=this.segments.prepareSegment(4,r,n);r.emplaceBack(c.x,c.y,c.x,c.y),r.emplaceBack(p.x,c.y,p.x,c.y),r.emplaceBack(c.x,p.y,c.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var h=f.vertexLength;n.emplaceBack(h,h+1,h+2),n.emplaceBack(h+1,h+2,h+3),f.vertexLength+=4,f.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(r,Sl.members),this.maskedIndexBuffer=t.createIndexBuffer(n)}},zl.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},zl.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},zl.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(e,r,n,o){var i=n||o;return t[r]=!i||i.toLowerCase(),""}),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),o=!1;if(this.expirationTime>n)o=!1;else if(t)if(this.expirationTime<t)o=!0;else{var i=this.expirationTime-t;i?this.expirationTime=n+Math.max(i,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},zl.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},zl.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets){var o=this.buckets[n],i=o.layers[0].sourceLayer||"_geojsonTileLayer",a=r[i],s=e[i];a&&s&&0!==Object.keys(s).length&&(o.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(n).queryRadius(o))))}}},zl.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},zl.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<O.now()},zl.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},zl.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=O.now()+e};var Ol=24,Ml={horizontal:1,vertical:2,horizontalOnly:3},Ll=function(){this.text="",this.sectionIndex=[],this.sections=[]};function Fl(e,t,r,n,o,i,a,s,l,u){var c,p=Ll.fromFeature(e,r);u===Ml.vertical&&p.verticalizePunctuation();var f=En.processBidirectionalText,h=En.processStyledBidirectionalText;if(f&&1===p.sections.length){c=[];for(var d=0,m=f(p.toString(),Nl(p,s,n,t));d<m.length;d+=1){var y=m[d],g=new Ll;g.text=y,g.sections=p.sections;for(var v=0;v<y.length;v++)g.sectionIndex.push(0);c.push(g)}}else if(h){c=[];for(var b=0,_=h(p.text,p.sectionIndex,Nl(p,s,n,t));b<_.length;b+=1){var x=_[b],w=new Ll;w.text=x[0],w.sectionIndex=x[1],w.sections=p.sections,c.push(w)}}else c=function(e,t){for(var r=[],n=e.text,o=0,i=0,a=t;i<a.length;i+=1){var s=a[i];r.push(e.substring(o,s)),o=s}return o<n.length&&r.push(e.substring(o,n.length)),r}(p,Nl(p,s,n,t));var S=[],k={positionedGlyphs:S,text:p.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:u,lineCount:c.length};return function(e,t,r,n,o,i,a,s){for(var l=0,u=-17,c=0,p=e.positionedGlyphs,f="right"===i?1:"left"===i?0:.5,h=0,d=r;h<d.length;h+=1){var m=d[h];m.trim();var y=m.getMaxScale();if(m.length()){for(var g=p.length,v=0;v<m.length();v++){var b=m.getSection(v),_=m.getCharCode(v),x=24*(y-b.scale),w=t[b.fontStack],S=w&&w[_];S&&(bn(_)&&a!==Ml.horizontal?(p.push({glyph:_,x:l,y:x,vertical:!0,scale:b.scale,fontStack:b.fontStack}),l+=Ol*b.scale+s):(p.push({glyph:_,x:l,y:u+x,vertical:!1,scale:b.scale,fontStack:b.fontStack}),l+=S.metrics.advance*b.scale+s))}if(p.length!==g){var k=l-s;c=Math.max(k,c),ql(p,t,g,p.length-1,f)}l=0,u+=n*y}else u+=n}var C=Vl(o),P=C.horizontalAlign,E=C.verticalAlign;!function(e,t,r,n,o,i,a){for(var s=(t-r)*o,l=(-n*a+.5)*i,u=0;u<e.length;u++)e[u].x+=s,e[u].y+=l}(p,f,P,E,c,n,r.length);var T=u- -17;e.top+=-E*T,e.bottom=e.top+T,e.left+=-P*c,e.right=e.left+c}(k,t,c,o,i,a,u,s),!!S.length&&k}Ll.fromFeature=function(e,t){for(var r=new Ll,n=0;n<e.sections.length;n++){var o=e.sections[n];r.sections.push({scale:o.scale||1,fontStack:o.fontStack||t}),r.text+=o.text;for(var i=0;i<o.text.length;i++)r.sectionIndex.push(n)}return r},Ll.prototype.length=function(){return this.text.length},Ll.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Ll.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Ll.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,o=e.charCodeAt(r-1)||null;n&&_n(n)&&!as[e[r+1]]||o&&_n(o)&&!as[e[r-1]]||!as[e[r]]?t+=e[r]:t+=as[e[r]]}return t}(this.text)},Ll.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Rl[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&Rl[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Ll.prototype.substring=function(e,t){var r=new Ll;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Ll.prototype.toString=function(){return this.text},Ll.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,r){return Math.max(t,e.sections[r].scale)},0)};var Rl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Dl={};function Bl(e,t,r,n){var o=Math.pow(e-t,2);return n?e<t?o/2:2*o:o+Math.abs(r)*r}function jl(e,t){var r=0;return 10===e&&(r-=1e4),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Ul(e,t,r,n,o,i){for(var a=null,s=Bl(t,r,o,i),l=0,u=n;l<u.length;l+=1){var c=u[l],p=Bl(t-c.x,r,o,i)+c.badness;p<=s&&(a=c,s=p)}return{index:e,x:t,priorBreak:a,badness:s}}function Nl(e,t,r,n){if(!r)return[];if(!e)return[];for(var o,i=[],a=function(e,t,r,n){for(var o=0,i=0;i<e.length();i++){var a=e.getSection(i),s=n[a.fontStack],l=s&&s[e.getCharCode(i)];l&&(o+=l.metrics.advance*a.scale+t)}return o/Math.max(1,Math.ceil(o/r))}(e,t,r,n),s=0,l=0;l<e.length();l++){var u=e.getSection(l),c=e.getCharCode(l),p=n[u.fontStack],f=p&&p[c];f&&!Rl[c]&&(s+=f.metrics.advance*u.scale+t),l<e.length()-1&&(Dl[c]||!((o=c)<11904)&&(mn["Bopomofo Extended"](o)||mn.Bopomofo(o)||mn["CJK Compatibility Forms"](o)||mn["CJK Compatibility Ideographs"](o)||mn["CJK Compatibility"](o)||mn["CJK Radicals Supplement"](o)||mn["CJK Strokes"](o)||mn["CJK Symbols and Punctuation"](o)||mn["CJK Unified Ideographs Extension A"](o)||mn["CJK Unified Ideographs"](o)||mn["Enclosed CJK Letters and Months"](o)||mn["Halfwidth and Fullwidth Forms"](o)||mn.Hiragana(o)||mn["Ideographic Description Characters"](o)||mn["Kangxi Radicals"](o)||mn["Katakana Phonetic Extensions"](o)||mn.Katakana(o)||mn["Vertical Forms"](o)||mn["Yi Radicals"](o)||mn["Yi Syllables"](o)))&&i.push(Ul(l+1,s,a,i,jl(c,e.getCharCode(l+1)),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Ul(e.length(),s,a,i,0,!0))}function Vl(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function ql(e,t,r,n,o){if(o){var i=e[n],a=t[i.fontStack],s=a&&a[i.glyph];if(s)for(var l=s.metrics.advance*i.scale,u=(e[n].x+l)*o,c=r;c<=n;c++)e[c].x-=u}}function Gl(e,t,r){var n=Vl(r),o=n.horizontalAlign,i=n.verticalAlign,a=t[0],s=t[1],l=a-e.displaySize[0]*o,u=l+e.displaySize[0],c=s-e.displaySize[1]*i;return{image:e,top:c,bottom:c+e.displaySize[1],left:l,right:u}}function Wl(e,t,r,n,o){if(void 0===t.segment)return!0;for(var i=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<r/2;){var c=e[a-1],p=e[a],f=e[a+1];if(!f)return!1;var h=c.angleTo(p)-p.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>o)return!1;a++,s+=p.dist(f)}return!0}function Hl(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Zl(e,t,r){return e?.6*t*r:0}function Kl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Xl(e,t,r,n,o,i){for(var a=Zl(r,o,i),s=Kl(r,n)*i,l=0,u=Hl(e)/2,c=0;c<e.length-1;c++){var p=e[c],f=e[c+1],h=p.dist(f);if(l+h>u){var d=(u-l)/h,m=ft(p.x,f.x,d),y=ft(p.y,f.y,d),g=new ss(m,y,f.angleTo(p),c);return g._round(),!a||Wl(e,g,s,a,t)?g:void 0}l+=h}}function Yl(e,t,r,n,o,i,a,s,l){var u=Zl(n,i,a),c=Kl(n,o),p=c*a,f=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-p<t/4&&(t=p+t/4),function e(t,r,n,o,i,a,s,l,u){for(var c=a/2,p=Hl(t),f=0,h=r-n,d=[],m=0;m<t.length-1;m++){for(var y=t[m],g=t[m+1],v=y.dist(g),b=g.angleTo(y);h+n<f+v;){var _=((h+=n)-f)/v,x=ft(y.x,g.x,_),w=ft(y.y,g.y,_);if(x>=0&&x<u&&w>=0&&w<u&&h-c>=0&&h+c<=p){var S=new ss(x,w,b,m);S._round(),o&&!Wl(t,S,a,o,i)||d.push(S)}}f+=v}return l||d.length||s||(d=e(t,f/2,n,o,i,a,s,!0,u)),d}(e,f?t/2*s%t:(c/2+2*i)*a*s%t,t,u,r,p,f,!1,l)}Dl[10]=!0,Dl[32]=!0,Dl[38]=!0,Dl[40]=!0,Dl[41]=!0,Dl[43]=!0,Dl[45]=!0,Dl[47]=!0,Dl[173]=!0,Dl[183]=!0,Dl[8203]=!0,Dl[8208]=!0,Dl[8211]=!0,Dl[8231]=!0;var Jl=function(e,t,r,n,i,a,s,l,u,c,p,f){var h=s.top*l-u,d=s.bottom*l+u,m=s.left*l-u,y=s.right*l+u;if(this.boxStartIndex=e.length,c){var g=d-h,v=y-m;g>0&&(g=Math.max(10*l,g),this._addLineCollisionCircles(e,t,r,r.segment,v,g,n,i,a,p))}else{if(f){var b=new o(m,h),_=new o(y,h),x=new o(m,d),w=new o(y,d),S=f*Math.PI/180;b._rotate(S),_._rotate(S),x._rotate(S),w._rotate(S),m=Math.min(b.x,_.x,x.x,w.x),y=Math.max(b.x,_.x,x.x,w.x),h=Math.min(b.y,_.y,x.y,w.y),d=Math.max(b.y,_.y,x.y,w.y)}e.emplaceBack(r.x,r.y,m,h,y,d,n,i,a,0,0)}this.boxEndIndex=e.length};Jl.prototype._addLineCollisionCircles=function(e,t,r,n,o,i,a,s,l,u){var c=i/2,p=Math.floor(o/c)||1,f=1+.4*Math.log(u)/Math.LN2,h=Math.floor(p*f/2),d=-i/2,m=r,y=n+1,g=d,v=-o/2,b=v-o/4;do{if(--y<0){if(g>v)return;y=0;break}g-=t[y].dist(m),m=t[y]}while(g>b);for(var _=t[y].dist(t[y+1]),x=-h;x<p+h;x++){var w=x*c,S=v+w;if(w<0&&(S+=w),w>o&&(S+=w-o),!(S<g)){for(;g+_<S;){if(g+=_,++y+1>=t.length)return;_=t[y].dist(t[y+1])}var k=S-g,C=t[y],P=t[y+1].sub(C)._unit()._mult(k)._add(C)._round(),E=Math.abs(S-d)<c?0:.8*(S-d);e.emplaceBack(P.x,P.y,-i/2,-i/2,i/2,i/2,a,s,l,i/2,E)}}};var $l=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=Ql),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function Ql(e,t){return e<t?-1:e>t?1:0}function eu(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var n=1/0,i=1/0,a=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<n)&&(n=c.x),(!u||c.y<i)&&(i=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var p=a-n,f=s-i,h=Math.min(p,f),d=h/2,m=new $l([],tu);if(0===h)return new o(n,i);for(var y=n;y<a;y+=h)for(var g=i;g<s;g+=h)m.push(new ru(y+d,g+d,d,e));for(var v=function(e){for(var t=0,r=0,n=0,o=e[0],i=0,a=o.length,s=a-1;i<a;s=i++){var l=o[i],u=o[s],c=l.x*u.y-u.x*l.y;r+=(l.x+u.x)*c,n+=(l.y+u.y)*c,t+=3*c}return new ru(r/t,n/t,0,e)}(e),b=m.length;m.length;){var _=m.pop();(_.d>v.d||!v.d)&&(v=_,r&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,b)),_.max-v.d<=t||(d=_.h/2,m.push(new ru(_.p.x-d,_.p.y-d,d,e)),m.push(new ru(_.p.x+d,_.p.y-d,d,e)),m.push(new ru(_.p.x-d,_.p.y+d,d,e)),m.push(new ru(_.p.x+d,_.p.y+d,d,e)),b+=4)}return r&&(console.log("num probes: "+b),console.log("best distance: "+v.d)),v.p}function tu(e,t){return t.max-e.max}function ru(e,t,r,n){this.p=new o(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,o=0;o<t.length;o++)for(var i=t[o],a=0,s=i.length,l=s-1;a<s;l=a++){var u=i[a],c=i[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(r=!r),n=Math.min(n,pi(e,u,c))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}$l.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},$l.prototype.pop=function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},$l.prototype.peek=function(){return this.data[0]},$l.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n},$l.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,o=t[e];e<n;){var i=1+(e<<1),a=t[i],s=i+1;if(s<this.length&&r(t[s],a)<0&&(i=s,a=t[s]),r(a,o)>=0)break;t[e]=a,e=i}t[e]=o};var nu=t(function(e){e.exports=function(e,t){var r,n,o,i,a,s,l,u;for(r=3&e.length,n=e.length-r,o=t,a=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:o^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}}),ou=t(function(e){e.exports=function(e,t){for(var r,n=e.length,o=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}}),iu=nu,au=nu,su=ou;iu.murmur3=au,iu.murmur2=su;var lu=7;function uu(e,t){var r=0,n=0,o=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=o-lu;break;case"bottom-right":case"bottom-left":n=-o+lu;break;case"bottom":n=-t+lu;break;case"top":n=t-lu}switch(e){case"top-right":case"bottom-right":r=-o;break;case"top-left":case"bottom-left":r=o;break;case"left":r=t;break;case"right":r=-t}return[r,n]}function cu(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function pu(e,t,r,n,i,a,s){var l=a.layoutTextSize.evaluate(t,{}),u=a.layoutIconSize.evaluate(t,{}),c=a.textMaxSize.evaluate(t,{});void 0===c&&(c=l);var p=e.layers[0].layout,f=p.get("icon-offset").evaluate(t,{}),h=du(r.horizontal),d=l/24,m=e.tilePixelRatio*d,y=e.tilePixelRatio*c/24,g=e.tilePixelRatio*u,v=e.tilePixelRatio*p.get("symbol-spacing"),b=p.get("text-padding")*e.tilePixelRatio,_=p.get("icon-padding")*e.tilePixelRatio,x=p.get("text-max-angle")/180*Math.PI,S="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),k="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),C=p.get("symbol-placement"),P=v/2,E=function(l,u){u.x<0||u.x>=Qo||u.y<0||u.y>=Qo||function(e,t,r,n,i,a,s,l,u,c,p,f,h,d,m,y,g,v,b,_,x){var S,k,C=e.addToLineVertexArray(t,r),P=0,E=0,T=0,A={},I=iu(""),z=(a.layout.get("text-radial-offset").evaluate(b,{})||0)*Ol;for(var O in n.horizontal){var M=n.horizontal[O];if(!S){I=iu(M.text);var L=a.layout.get("text-rotate").evaluate(b,{});S=new Jl(s,r,t,l,u,c,M,p,f,h,e.overscaling,L)}var F=1===M.lineCount;if(E+=hu(e,t,M,a,h,b,d,C,n.vertical?Ml.horizontal:Ml.horizontalOnly,F?Object.keys(n.horizontal):[O],A,_,x),F)break}n.vertical&&(T+=hu(e,t,n.vertical,a,h,b,d,C,Ml.vertical,["vertical"],A,_,x));var R=S?S.boxStartIndex:e.collisionBoxArray.length,D=S?S.boxEndIndex:e.collisionBoxArray.length;if(i){var B=function(e,t,r,n,i,a){var s,l,u,c,p=t.image,f=r.layout,h=t.top-1/p.pixelRatio,d=t.left-1/p.pixelRatio,m=t.bottom+1/p.pixelRatio,y=t.right+1/p.pixelRatio;if("none"!==f.get("icon-text-fit")&&i){var g=y-d,v=m-h,b=f.get("text-size").evaluate(a,{})/24,_=i.left*b,x=i.right*b,w=i.top*b,S=x-_,k=i.bottom*b-w,C=f.get("icon-text-fit-padding")[0],P=f.get("icon-text-fit-padding")[1],E=f.get("icon-text-fit-padding")[2],T=f.get("icon-text-fit-padding")[3],A="width"===f.get("icon-text-fit")?.5*(k-v):0,I="height"===f.get("icon-text-fit")?.5*(S-g):0,z="width"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?S:g,O="height"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?k:v;s=new o(_+I-T,w+A-C),l=new o(_+I+P+z,w+A-C),u=new o(_+I+P+z,w+A+E+O),c=new o(_+I-T,w+A+E+O)}else s=new o(d,h),l=new o(y,h),u=new o(y,m),c=new o(d,m);var M=r.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(M){var L=Math.sin(M),F=Math.cos(M),R=[F,-L,L,F];s._matMult(R),l._matMult(R),c._matMult(R),u._matMult(R)}return[{tl:s,tr:l,bl:c,br:u,tex:p.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,a,0,du(n.horizontal),b),j=a.layout.get("icon-rotate").evaluate(b,{});k=new Jl(s,r,t,l,u,c,i,m,y,!1,e.overscaling,j),P=4*B.length;var U=e.iconSizeData,N=null;"source"===U.functionType?(N=[ls*a.layout.get("icon-size").evaluate(b,{})])[0]>fu&&w(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===U.functionType&&((N=[ls*x.compositeIconSizes[0].evaluate(b,{}),ls*x.compositeIconSizes[1].evaluate(b,{})])[0]>fu||N[1]>fu)&&w(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),e.addSymbols(e.icon,B,N,v,g,b,!1,t,C.lineStartIndex,C.lineLength)}var V=k?k.boxStartIndex:e.collisionBoxArray.length,q=k?k.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=bs.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(t.x,t.y,A.right>=0?A.right:-1,A.center>=0?A.center:-1,A.left>=0?A.left:-1,A.vertical||-1,I,R,D,V,q,l,E,T,P,0,p,z)}(e,u,l,r,n,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,m,b,S,s,g,_,k,f,t,i,a)};if("line"===C)for(var T=0,A=function(e,t,r,n,i){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],f=l[c+1];p.x<0&&f.x<0||(p.x<0?p=new o(0,p.y+(f.y-p.y)*((0-p.x)/(f.x-p.x)))._round():f.x<0&&(f=new o(0,p.y+(f.y-p.y)*((0-p.x)/(f.x-p.x)))._round()),p.y<0&&f.y<0||(p.y<0?p=new o(p.x+(f.x-p.x)*((0-p.y)/(f.y-p.y)),0)._round():f.y<0&&(f=new o(p.x+(f.x-p.x)*((0-p.y)/(f.y-p.y)),0)._round()),p.x>=n&&f.x>=n||(p.x>=n?p=new o(n,p.y+(f.y-p.y)*((n-p.x)/(f.x-p.x)))._round():f.x>=n&&(f=new o(n,p.y+(f.y-p.y)*((n-p.x)/(f.x-p.x)))._round()),p.y>=i&&f.y>=i||(p.y>=i?p=new o(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round():f.y>=i&&(f=new o(p.x+(f.x-p.x)*((i-p.y)/(f.y-p.y)),i)._round()),u&&p.equals(u[u.length-1])||(u=[p],a.push(u)),u.push(f)))))}return a}(t.geometry,0,0,Qo,Qo);T<A.length;T+=1)for(var I=A[T],z=0,O=Yl(I,v,x,r.vertical||h,n,24,y,e.overscaling,Qo);z<O.length;z+=1){var M=O[z];h&&mu(e,h.text,P,M)||E(I,M)}else if("line-center"===C)for(var L=0,F=t.geometry;L<F.length;L+=1){var R=F[L];if(R.length>1){var D=Xl(R,x,r.vertical||h,n,24,y);D&&E(R,D)}}else if("Polygon"===t.type)for(var B=0,j=ha(t.geometry,0);B<j.length;B+=1){var U=j[B],N=eu(U,16);E(U[0],new ss(N.x,N.y,0))}else if("LineString"===t.type)for(var V=0,q=t.geometry;V<q.length;V+=1){var G=q[V];E(G,new ss(G[0].x,G[0].y,0))}else if("Point"===t.type)for(var W=0,H=t.geometry;W<H.length;W+=1)for(var Z=0,K=H[W];Z<K.length;Z+=1){var X=K[Z];E([X],new ss(X.x,X.y,0))}}var fu=65535;function hu(e,t,r,n,i,a,s,l,u,c,p,f,h){var d=function(e,t,r,n,i,a,s){for(var l=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=t.positionedGlyphs,c=[],p=0;p<u.length;p++){var f=u[p],h=s[f.fontStack],d=h&&h[f.glyph];if(d){var m=d.rect;if(m){var y=sl+1,g=d.metrics.advance*f.scale/2,v=i?[f.x+g,f.y]:[0,0],b=i?[0,0]:[f.x+g+r[0],f.y+r[1]],_=(d.metrics.left-y)*f.scale-g+b[0],x=(-d.metrics.top-y)*f.scale+b[1],w=_+m.w*f.scale,S=x+m.h*f.scale,k=new o(_,x),C=new o(w,x),P=new o(_,S),E=new o(w,S);if(i&&f.vertical){var T=new o(-g,g),A=-Math.PI/2,I=new o(5,0);k._rotateAround(A,T)._add(I),C._rotateAround(A,T)._add(I),P._rotateAround(A,T)._add(I),E._rotateAround(A,T)._add(I)}if(l){var z=Math.sin(l),O=Math.cos(l),M=[O,-z,z,O];k._matMult(M),C._matMult(M),P._matMult(M),E._matMult(M)}c.push({tl:k,tr:C,bl:P,br:E,tex:m,writingMode:t.writingMode,glyphOffset:v})}}}return c}(0,r,s,n,i,a,f),m=e.textSizeData,y=null;"source"===m.functionType?(y=[ls*n.layout.get("text-size").evaluate(a,{})])[0]>fu&&w(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===m.functionType&&((y=[ls*h.compositeTextSizes[0].evaluate(a,{}),ls*h.compositeTextSizes[1].evaluate(a,{})])[0]>fu||y[1]>fu)&&w(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),e.addSymbols(e.text,d,y,s,i,a,u,t,l.lineStartIndex,l.lineLength);for(var g=0,v=c;g<v.length;g+=1)p[v[g]]=e.text.placedSymbolArray.length-1;return 4*d.length}function du(e){for(var t in e)return e[t];return null}function mu(e,t,r,n){var o=e.compareText;if(t in o){for(var i=o[t],a=i.length-1;a>=0;a--)if(n.dist(i[a])<r)return!0}else o[t]=[];return o[t].push(n),!1}e.Actor=ll,e.AlphaImage=zi,e.CanonicalTileID=vl,e.CollisionBoxArray=vo,e.Color=je,e.DEMData=wl,e.DataConstantProperty=Dn,e.DictionaryCoder=kl,e.EXTENT=Qo,e.ErrorEvent=me,e.EvaluationParameters=Tn,e.Event=de,e.Evented=ye,e.FeatureIndex=Tl,e.FillBucket=ga,e.FillExtrusionBucket=Ma,e.ImageAtlas=Os,e.ImagePosition=Is,e.LineBucket=Za,e.LngLat=pl,e.LngLatBounds=cl,e.MercatorCoordinate=gl,e.ONE_EM=Ol,e.OverscaledTileID=_l,e.Point=o,e.Point$1=o,e.ProgramConfiguration=Xo,e.Properties=Vn,e.Protobuf=Us,e.RGBAImage=Oi,e.ResourceType=re,e.SegmentVector=Io,e.SourceFeatureState=El,e.StructArrayLayout1ui2=ho,e.StructArrayLayout2i4=Xn,e.StructArrayLayout2ui4=fo,e.StructArrayLayout3ui6=po,e.StructArrayLayout4i8=Yn,e.SymbolBucket=bs,e.Texture=Ds,e.Tile=zl,e.Transitionable=zn,e.Uniform1f=Ro,e.Uniform1i=Fo,e.Uniform2f=Do,e.Uniform3f=Bo,e.Uniform4f=jo,e.UniformColor=Uo,e.UniformMatrix4f=Vo,e.UnwrappedTileID=bl,e.ValidationError=ve,e.WritingMode=Ml,e.ZoomHistory=dn,e.addDynamicAttributes=ys,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,o=new Array(e.length),i=null;e.forEach(function(e,a){t(e,function(e,t){e&&(i=e),o[a]=t,0==--n&&r(i,o)})})},e.bezier=s,e.bindAll=y,e.browser=O,e.canonicalizeTileset=function(e,t){if(!U(t))return e.tiles||[];for(var r=[],n=0,o=e.tiles;n<o.length;n+=1){var i=o[n],a=W(i);r.push(a)}return r},e.clamp=u,e.clone=function(e){var t=new bi(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=_,e.config=M,e.create=function(){var e=new bi(16);return bi!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=_i,e.create$2=function(){var e=new bi(4);return bi!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=vr,e.createLayout=Zn,e.createStyleLayer=function(e){return"custom"===e.type?new Es(e):new Ts[e.type](e)},e.deepEqual=a,e.ease=l,e.emitValidationErrors=nn,e.endsWith=g,e.evaluateRadialOffset=uu,e.evaluateSizeForFeature=cs,e.evaluateSizeForZoom=ps,e.evented=Pn,e.extend=p,e.featureFilter=Or,e.filterObject=b,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Vl,e.getAnchorJustification=cu,e.getArrayBuffer=ue,e.getImage=pe,e.getJSON=function(e,t){return le(p(e,{type:"json"}),t)},e.getReferrer=se,e.getVideo=function(e,t){var r,n,o=self.document.createElement("video");o.muted=!0,o.onloadstart=function(){t(null,o)};for(var i=0;i<e.length;i++){var a=self.document.createElement("source");r=e[i],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(o.crossOrigin="Anonymous"),a.src=e[i],o.appendChild(a)}return{cancel:function(){}}},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.invert=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],p=t[9],f=t[10],h=t[11],d=t[12],m=t[13],y=t[14],g=t[15],v=r*s-n*a,b=r*l-o*a,_=r*u-i*a,x=n*l-o*s,w=n*u-i*s,S=o*u-i*l,k=c*m-p*d,C=c*y-f*d,P=c*g-h*d,E=p*y-f*m,T=p*g-h*m,A=f*g-h*y,I=v*A-b*T+_*E+x*P-w*C+S*k;return I?(I=1/I,e[0]=(s*A-l*T+u*E)*I,e[1]=(o*T-n*A-i*E)*I,e[2]=(m*S-y*w+g*x)*I,e[3]=(f*w-p*S-h*x)*I,e[4]=(l*P-a*A-u*C)*I,e[5]=(r*A-o*P+i*C)*I,e[6]=(y*_-d*S-g*b)*I,e[7]=(c*S-f*_+h*b)*I,e[8]=(a*T-s*P+u*k)*I,e[9]=(n*P-r*T-i*k)*I,e[10]=(d*w-m*_+g*v)*I,e[11]=(p*_-c*w-h*v)*I,e[12]=(s*C-a*E-l*k)*I,e[13]=(r*E-n*C+o*k)*I,e[14]=(m*b-d*x-y*v)*I,e[15]=(c*x-p*b+f*v)*I,e):null},e.isChar=mn,e.isMapboxURL=U,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.makeRequest=le,e.mapObject=v,e.mercatorXfromLng=hl,e.mercatorYfromLat=dl,e.mercatorZfromAltitude=ml,e.multiply=function(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],m=t[12],y=t[13],g=t[14],v=t[15],b=r[0],_=r[1],x=r[2],w=r[3];return e[0]=b*n+_*s+x*p+w*m,e[1]=b*o+_*l+x*f+w*y,e[2]=b*i+_*u+x*h+w*g,e[3]=b*a+_*c+x*d+w*v,b=r[4],_=r[5],x=r[6],w=r[7],e[4]=b*n+_*s+x*p+w*m,e[5]=b*o+_*l+x*f+w*y,e[6]=b*i+_*u+x*h+w*g,e[7]=b*a+_*c+x*d+w*v,b=r[8],_=r[9],x=r[10],w=r[11],e[8]=b*n+_*s+x*p+w*m,e[9]=b*o+_*l+x*f+w*y,e[10]=b*i+_*u+x*h+w*g,e[11]=b*a+_*c+x*d+w*v,b=r[12],_=r[13],x=r[14],w=r[15],e[12]=b*n+_*s+x*p+w*m,e[13]=b*o+_*l+x*f+w*y,e[14]=b*i+_*u+x*h+w*g,e[15]=b*a+_*c+x*d+w*v,e},e.mvt=Aa,e.normalizeGlyphsURL=function(e,t){if(!U(e))return e;var r=Z(e);return r.path="/fonts/v1"+r.path,j(r,t)},e.normalizeSourceURL=function(e,t){if(!U(e))return e;var r=Z(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),j(r,t)},e.normalizeSpriteURL=function(e,t,r,n){var o=Z(e);return U(e)?(o.path="/styles/v1"+o.path+"/sprite"+t+r,j(o,n)):(o.path+=""+t+r,K(o))},e.normalizeStyleURL=function(e,t){if(!U(e))return e;var r=Z(e);return r.path="/styles/v1"+r.path,j(r,t)},e.normalizeTileURL=function(e,t,r){if(!t||!U(t))return e;var n=Z(e),o=O.devicePixelRatio>=2||512===r?"@2x":"",i=L.supported?".webp":"$1";return n.path=n.path.replace(q,""+o+i),n.path="/v4"+n.path,j(n)},e.number=ft,e.ortho=function(e,t,r,n,o,i,a){var s=1/(t-r),l=1/(n-o),u=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(o+n)*l,e[14]=(a+i)*u,e[15]=1,e},e.parseGlyphPBF=function(e){return new Us(e).readFields(ol,[])},e.pbf=Us,e.performSymbolLayout=function(e,t,r,n,o,i){e.createArrays();var a=512*e.overscaling;e.tilePixelRatio=Qo/a,e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.functionType){var c=e.textSizeData.zoomRange,p=c.min,f=c.max;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new Tn(p)),l["text-size"].possiblyEvaluate(new Tn(f))]}if("composite"===e.iconSizeData.functionType){var h=e.iconSizeData.zoomRange,d=h.min,m=h.max;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new Tn(d)),l["icon-size"].possiblyEvaluate(new Tn(m))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new Tn(e.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new Tn(e.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new Tn(18));for(var y=s.get("text-line-height")*Ol,g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),v=s.get("text-keep-upright"),b=0,_=e.features;b<_.length;b+=1){var x=_[b],S=s.get("text-font").evaluate(x,{}).join(","),k=r,C={horizontal:{},vertical:void 0},P=x.text,E=[0,0];if(P){var T=P.toString(),A=s.get("text-letter-spacing").evaluate(x,{})*Ol,I=gn(T)?A:0,z=s.get("text-anchor").evaluate(x,{}),O=s.get("text-variable-anchor"),M=s.get("text-radial-offset").evaluate(x,{});O||(E=M?uu(z,M*Ol):s.get("text-offset").evaluate(x,{}).map(function(e){return e*Ol}));var L=g?"center":s.get("text-justify").evaluate(x,{}),F="point"===s.get("symbol-placement")?s.get("text-max-width").evaluate(x,{})*Ol:0;if(!g&&O)for(var R="auto"===L?O.map(function(e){return cu(e)}):[L],D=!1,B=0;B<R.length;B++){var j=R[B];if(!C.horizontal[j])if(D)C.horizontal[j]=C.horizontal[0];else{var U=Fl(P,t,S,F,y,"center",j,I,E,Ml.horizontal);U&&(C.horizontal[j]=U,D=1===U.lineCount)}}else{"auto"===L&&(L=cu(z));var N=Fl(P,t,S,F,y,z,L,I,E,Ml.horizontal);N&&(C.horizontal[L]=N),yn(T)&&g&&v&&(C.vertical=Fl(P,t,S,F,y,z,L,I,E,Ml.vertical))}}var V=void 0;if(x.icon){var q=n[x.icon];q&&(V=Gl(o[x.icon],s.get("icon-offset").evaluate(x,{}),s.get("icon-anchor").evaluate(x,{})),void 0===e.sdfIcons?e.sdfIcons=q.sdf:e.sdfIcons!==q.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),q.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(Object.keys(C.horizontal).length||V)&&pu(e,x,C,V,k,u,E)}i&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,o){var i,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(n-o),e[10]=(o+n)*i,e[14]=2*o*n*i):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var o=t[n];o in e&&(r[o]=e[o])}return r},e.plugin=En,e.polygonIntersectsPolygon=oi,e.postMapLoadEvent=te,e.postTurnstileEvent=Q,e.potpack=As,e.properties=xs,e.rasterBoundsAttributes=Sl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=cn,e.registerForPluginAvailability=function(e){return kn?e({pluginURL:kn,completionCallback:wn}):Pn.once("pluginAvailable",e),e},e.rotate=function(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=o*l+a*s,e[2]=n*-s+i*l,e[3]=o*-s+a*l,e},e.rotateX=function(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+u*n,e[5]=a*o+c*n,e[6]=s*o+p*n,e[7]=l*o+f*n,e[8]=u*o-i*n,e[9]=c*o-a*n,e[10]=p*o-s*n,e[11]=f*o-l*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],p=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+u*n,e[1]=a*o+c*n,e[2]=s*o+p*n,e[3]=l*o+f*n,e[4]=u*o-i*n,e[5]=c*o-a*n,e[6]=p*o-s*n,e[7]=f*o-l*n,e},e.scale=function(e,t,r){var n=r[0],o=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.setRTLTextPlugin=function(e,t){if(Sn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Sn=!0,kn=O.resolveURL(e),wn=function(e){e?(Sn=!1,kn=null,t&&t(e)):Cn=!0},Pn.fire(new de("pluginAvailable",{pluginURL:kn,completionCallback:wn}))},e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.styleSpec=ge,e.symbolSize=fs,e.transformMat3=function(e,t,r){var n=t[0],o=t[1],i=t[2];return e[0]=n*r[0]+o*r[3]+i*r[6],e[1]=n*r[1]+o*r[4]+i*r[7],e[2]=n*r[2]+o*r[5]+i*r[8],e},e.transformMat4=Si,e.translate=function(e,t,r){var n,o,i,a,s,l,u,c,p,f,h,d,m=r[0],y=r[1],g=r[2];return t===e?(e[12]=t[0]*m+t[4]*y+t[8]*g+t[12],e[13]=t[1]*m+t[5]*y+t[9]*g+t[13],e[14]=t[2]*m+t[6]*y+t[10]*g+t[14],e[15]=t[3]*m+t[7]*y+t[11]*g+t[15]):(n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],e[0]=n,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=p,e[9]=f,e[10]=h,e[11]=d,e[12]=n*m+s*y+p*g+t[12],e[13]=o*m+l*y+f*g+t[13],e[14]=i*m+u*y+h*g+t[14],e[15]=a*m+c*y+d*g+t[15]),e},e.uniqueId=h,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=en,e.validateStyle=Qr,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.vectorTile=Aa,e.version="0.54.0",e.warnOnce=w,e.webpSupported=L,e.window=self,e.wrap=c}),n(0,function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",o=0,i=e;o<i.length;o+=1)n+=t(i[o])+",";return n+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function r(r){for(var n="",o=0,i=e.refProperties;o<i.length;o+=1)n+="/"+t(r[i[o]]);return n}var n=function(e){e&&this.replace(e)};n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var o=this,i=0,a=t;i<a.length;i+=1){var s=a[i];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter)}for(var u=0,c=n;u<c.length;u+=1){var p=c[u];delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var f=0,h=function(e){for(var t={},n=0;n<e.length;n++){var o=r(e[n]),i=t[o];i||(i=t[o]=[]),i.push(e[n])}var a=[];for(var s in t)a.push(t[s]);return a}(e.values(this._layerConfigs));f<h.length;f+=1){var d=h[f].map(function(e){return o._layers[e.id]}),m=d[0];if("none"!==m.visibility){var y=m.source||"",g=this.familiesBySource[y];g||(g=this.familiesBySource[y]={});var v=m.sourceLayer||"_geojsonTileLayer",b=g[v];b||(b=g[v]=[]),b.push(d)}}};var o=function(t){var r={},n=[];for(var o in t){var i=t[o],a=r[o]={};for(var s in i){var l=i[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(n),p=c.w,f=c.h,h=new e.AlphaImage({width:p||1,height:f||1});for(var d in t){var m=t[d];for(var y in m){var g=m[+y];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var v=r[d][y].rect;e.AlphaImage.copy(g.bitmap,h,{x:0,y:0},{x:v.x+1,y:v.y+1},g.bitmap)}}}this.image=h,this.positions=r};e.register("GlyphAtlas",o);var i=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function a(t,r){for(var n=new e.EvaluationParameters(r),o=0,i=t;o<i.length;o+=1)i[o].recalculate(n)}i.prototype.parse=function(t,r,n,i){var s=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID);u.bucketLayerIDs=[];var c,p,f,h,d={},m={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},y=r.familiesBySource[this.source];for(var g in y){var v=t.layers[g];if(v){1===v.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=l.encode(g),_=[],x=0;x<v.length;x++){var w=v.feature(x);_.push({feature:w,index:x,sourceLayerIndex:b})}for(var S=0,k=y[g];S<k.length;S+=1){var C=k[S],P=C[0];P.minzoom&&this.zoom<Math.floor(P.minzoom)||P.maxzoom&&this.zoom>=P.maxzoom||"none"!==P.visibility&&(a(C,this.zoom),(d[P.id]=P.createBucket({index:u.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(_,m),u.bucketLayerIDs.push(C.map(function(e){return e.id})))}}}var E=e.mapObject(m.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(E).length?n.send("getGlyphs",{uid:this.uid,stacks:E},function(e,t){c||(c=e,p=t,I.call(s))}):p={};var T=Object.keys(m.iconDependencies);T.length?n.send("getImages",{icons:T},function(e,t){c||(c=e,f=t,I.call(s))}):f={};var A=Object.keys(m.patternDependencies);function I(){if(c)return i(c);if(p&&f&&h){var t=new o(p),r=new e.ImageAtlas(f,h);for(var n in d){var s=d[n];s instanceof e.SymbolBucket?(a(s.layers,this.zoom),e.performSymbolLayout(s,p,t.positions,f,r.iconPositions,this.showCollisionBoxes)):s.hasPattern&&(s instanceof e.LineBucket||s instanceof e.FillBucket||s instanceof e.FillExtrusionBucket)&&(a(s.layers,this.zoom),s.addFeatures(m,r.patternPositions))}this.status="done",i(null,{buckets:e.values(d).filter(function(e){return!e.isEmpty()}),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null})}}A.length?n.send("getImages",{icons:A},function(e,t){c||(c=e,h=t,I.call(s))}):h={},I.call(this)};var s="undefined"!=typeof performance,l={getEntriesByName:function(e){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(s&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,r){return!!(s&&performance&&performance.measure)&&performance.measure(e,t,r)},clearMarks:function(e){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},u=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},l.mark(this._marks.start)};function c(t,r){var n=e.getArrayBuffer(t.request,function(t,n,o,i){t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:o,expires:i})});return function(){n.cancel(),r()}}u.prototype.finish=function(){l.mark(this._marks.end);var e=l.getEntriesByName(this._marks.measure);return 0===e.length&&(l.measure(this._marks.measure,this._marks.start,this._marks.end),e=l.getEntriesByName(this._marks.measure),l.clearMarks(this._marks.start),l.clearMarks(this._marks.end),l.clearMeasures(this._marks.measure)),e},l.Performance=u;var p=function(e,t,r){this.actor=e,this.layerIndex=t,this.loadVectorData=r||c,this.loading={},this.loaded={}};p.prototype.loadTile=function(t,r){var n=this,o=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new l.Performance(t.request),s=this.loading[o]=new i(t);s.abort=this.loadVectorData(t,function(t,i){if(delete n.loading[o],t||!i)return s.status="done",n.loaded[o]=s,r(t);var l=i.rawData,u={};i.expires&&(u.expires=i.expires),i.cacheControl&&(u.cacheControl=i.cacheControl);var c={};if(a){var p=a.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=i.vectorTile,s.parse(i.vectorTile,n.layerIndex,n.actor,function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:l.slice(0)},n,u,c))}),n.loaded=n.loaded||{},n.loaded[o]=s})},p.prototype.reloadTile=function(e,t){var r=this.loaded,n=e.uid,o=this;if(r&&r[n]){var i=r[n];i.showCollisionBoxes=e.showCollisionBoxes;var a=function(e,r){var n=i.reloadCallback;n&&(delete i.reloadCallback,i.parse(i.vectorTile,o.layerIndex,o.actor,n)),t(e,r)};"parsing"===i.status?i.reloadCallback=a:"done"===i.status&&(i.vectorTile?i.parse(i.vectorTile,this.layerIndex,this.actor,a):a())}},p.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},p.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var f=function(){this.loaded={}};f.prototype.loadTile=function(t,r){var n=t.uid,o=t.encoding,i=t.rawImageData,a=new e.DEMData(n,i,o);this.loaded=this.loaded||{},this.loaded[n]=a,r(null,a)},f.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var h={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function d(e){var t=0;if(e&&e.length>0){t+=Math.abs(m(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(m(e[r]))}return t}function m(e){var t,r,n,o,i,a,s=0,l=e.length;if(l>2){for(a=0;a<l;a++)a===l-2?(n=l-2,o=l-1,i=0):a===l-1?(n=l-1,o=0,i=1):(n=a,o=a+1,i=a+2),t=e[n],r=e[o],s+=(y(e[i][0])-y(t[0]))*Math.sin(y(r[1]));s=s*h.RADIUS*h.RADIUS/2}return s}function y(e){return e*Math.PI/180}var g={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return d(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=d(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:m};function v(e,t){return function(r){return e(r,t)}}function b(e,t){t=!!t,e[0]=_(e[0],t);for(var r=1;r<e.length;r++)e[r]=_(e[r],!t);return e}function _(e,t){return function(e){return g.ring(e)>=0}(e)===t?e:e.reverse()}var x=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};w.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var o=n[r];t.push([new e.Point$1(o[0],o[1])])}return t}for(var i=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new e.Point$1(p[0],p[1]))}i.push(l)}return i},w.prototype.toGeoJSON=function(e,t,r){return x.call(this,e,t,r)};var S=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};S.prototype.feature=function(e){return new w(this._features[e])};var k=e.vectorTile.VectorTileFeature,C=P;function P(e,t){this.options=t||{},this.features=e,this.length=e.length}function E(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}P.prototype.feature=function(e){return new E(this.features[e],this.options.extent)},E.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<n.length;i++)o.push(new e.Point$1(n[i][0],n[i][1]));this.geometry.push(o)}return this.geometry},E.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,o=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[t,n,r,o]},E.prototype.toGeoJSON=k.prototype.toGeoJSON;var T=z,A=z,I=C;function z(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,O,e.layers[r])}(t,r),r.finish()}function O(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,M,n);var o=n.keys;for(r=0;r<o.length;r++)t.writeStringField(3,o[r]);var i=n.values;for(r=0;r<i.length;r++)t.writeMessage(4,B,i[r])}function M(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,L,e),t.writeVarintField(3,r.type),t.writeMessage(4,D,r)}function L(e,t){var r=e.feature,n=e.keys,o=e.values,i=e.keycache,a=e.valuecache;for(var s in r.properties){var l=i[s];void 0===l&&(n.push(s),l=n.length-1,i[s]=l),t.writeVarint(l);var u=r.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,f=a[p];void 0===f&&(o.push(u),f=o.length-1,a[p]=f),t.writeVarint(f)}}function F(e,t){return(t<<3)+(7&e)}function R(e){return e<<1^e>>31}function D(e,t){for(var r=e.loadGeometry(),n=e.type,o=0,i=0,a=r.length,s=0;s<a;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(F(1,u));for(var c=3===n?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==n&&t.writeVarint(F(2,c-1));var f=l[p].x-o,h=l[p].y-i;t.writeVarint(R(f)),t.writeVarint(R(h)),o+=f,i+=h}3===n&&t.writeVarint(F(7,1))}}function B(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function j(e,t,r,n){U(e,r,n),U(t,2*r,2*n),U(t,2*r+1,2*n+1)}function U(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function N(e,t,r,n){var o=e-r,i=t-n;return o*o+i*i}T.fromVectorTileJs=A,T.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new C(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return z({layers:r})},T.GeoJSONWrapper=I;var V=function(e){return e[0]},q=function(e){return e[1]},G=function(e,t,r,n,o){void 0===t&&(t=V),void 0===r&&(r=q),void 0===n&&(n=64),void 0===o&&(o=Float64Array),this.nodeSize=n,this.points=e;for(var i=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(e.length),s=this.coords=new o(2*e.length),l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=r(e[l]);!function e(t,r,n,o,i,a){if(!(i-o<=n)){var s=o+i>>1;!function e(t,r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=n-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(o,Math.floor(n-l*c/s+p)),Math.min(i,Math.floor(n+(s-l)*c/s+p)),a)}var f=r[2*n+a],h=o,d=i;for(j(t,r,o,n),r[2*i+a]>f&&j(t,r,o,i);h<d;){for(j(t,r,h,d),h++,d--;r[2*h+a]<f;)h++;for(;r[2*d+a]>f;)d--}r[2*o+a]===f?j(t,r,o,d):j(t,r,++d,i),d<=n&&(o=d+1),n<=d&&(i=d-1)}}(t,r,s,o,i,a%2),e(t,r,n,o,s-1,a+1),e(t,r,n,s+1,i,a+1)}}(a,s,n,0,a.length-1,0)};G.prototype.range=function(e,t,r,n){return function(e,t,r,n,o,i,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var p=u.pop(),f=u.pop(),h=u.pop();if(f-h<=a)for(var d=h;d<=f;d++)s=t[2*d],l=t[2*d+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(e[d]);else{var m=Math.floor((h+f)/2);s=t[2*m],l=t[2*m+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(e[m]);var y=(p+1)%2;(0===p?r<=s:n<=l)&&(u.push(h),u.push(m-1),u.push(y)),(0===p?o>=s:i>=l)&&(u.push(m+1),u.push(f),u.push(y))}}return c}(this.ids,this.coords,e,t,r,n,this.nodeSize)},G.prototype.within=function(e,t,r){return function(e,t,r,n,o,i){for(var a=[0,e.length-1,0],s=[],l=o*o;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=i)for(var f=p;f<=c;f++)N(t[2*f],t[2*f+1],r,n)<=l&&s.push(e[f]);else{var h=Math.floor((p+c)/2),d=t[2*h],m=t[2*h+1];N(d,m,r,n)<=l&&s.push(e[h]);var y=(u+1)%2;(0===u?r-o<=d:n-o<=m)&&(a.push(p),a.push(h-1),a.push(y)),(0===u?r+o>=d:n+o>=m)&&(a.push(h+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var W={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(e){return e}},H=function(e){this.options=Q(Object.create(W),e),this.trees=new Array(this.options.maxZoom+1)};function Z(e,t,r,n,o){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function K(e,t){var r=e.geometry.coordinates,n=r[0],o=r[1];return{x:J(n),y:$(o),zoom:1/0,index:t,parentId:-1}}function X(e){return{type:"Feature",id:e.id,properties:Y(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function Y(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return Q(Q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function J(e){return e/360+.5}function $(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Q(e,t){for(var r in t)e[r]=t[r];return e}function ee(e){return e.x}function te(e){return e.y}function re(e,t,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=o,n=i):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}function ne(e,t,r,n){var o={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)oe(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)oe(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)oe(e,t[n][o])}(o),o}function oe(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function ie(e,t,r,n){if(t.geometry){var o=t.geometry.coordinates,i=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===i)ae(o,s);else if("MultiPoint"===i)for(var u=0;u<o.length;u++)ae(o[u],s);else if("LineString"===i)se(o,s,a,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(u=0;u<o.length;u++)s=[],se(o[u],s,a,!1),e.push(ne(l,"LineString",s,t.properties));return}le(o,s,a,!1)}else if("Polygon"===i)le(o,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(u=0;u<t.geometry.geometries.length;u++)ie(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<o.length;u++){var c=[];le(o[u],c,a,!0),s.push(c)}}e.push(ne(l,i,s,t.properties))}}function ae(e,t){t.push(ue(e[0])),t.push(ce(e[1])),t.push(0)}function se(e,t,r,n){for(var o,i,a=0,s=0;s<e.length;s++){var l=ue(e[s][0]),u=ce(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=n?(o*u-l*i)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(u-i,2))),o=l,i=u}var c=t.length-3;t[2]=1,function e(t,r,n,o){for(var i,a=o,s=n-r>>1,l=n-r,u=t[r],c=t[r+1],p=t[n],f=t[n+1],h=r+3;h<n;h+=3){var d=re(t[h],t[h+1],u,c,p,f);if(d>a)i=h,a=d;else if(d===a){var m=Math.abs(h-s);m<l&&(i=h,l=m)}}a>o&&(i-r>3&&e(t,r,i,o),t[i+2]=a,n-i>3&&e(t,i,n,o))}(t,0,c,r),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function le(e,t,r,n){for(var o=0;o<e.length;o++){var i=[];se(e[o],i,r,n),t.push(i)}}function ue(e){return e/360+.5}function ce(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function pe(e,t,r,n,o,i,a,s){if(n/=t,i>=(r/=t)&&a<n)return e;if(a<r||i>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],p=c.geometry,f=c.type,h=0===o?c.minX:c.minY,d=0===o?c.maxX:c.maxY;if(h>=r&&d<n)l.push(c);else if(!(d<r||h>=n)){var m=[];if("Point"===f||"MultiPoint"===f)fe(p,m,r,n,o);else if("LineString"===f)he(p,m,r,n,o,!1,s.lineMetrics);else if("MultiLineString"===f)me(p,m,r,n,o,!1);else if("Polygon"===f)me(p,m,r,n,o,!0);else if("MultiPolygon"===f)for(var y=0;y<p.length;y++){var g=[];me(p[y],g,r,n,o,!0),g.length&&m.push(g)}if(m.length){if(s.lineMetrics&&"LineString"===f){for(y=0;y<m.length;y++)l.push(ne(c.id,f,m[y],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),l.push(ne(c.id,f,m,c.tags))}}}return l.length?l:null}function fe(e,t,r,n,o){for(var i=0;i<e.length;i+=3){var a=e[i+o];a>=r&&a<=n&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function he(e,t,r,n,o,i,a){for(var s,l,u=de(e),c=0===o?ge:ve,p=e.start,f=0;f<e.length-3;f+=3){var h=e[f],d=e[f+1],m=e[f+2],y=e[f+3],g=e[f+4],v=0===o?h:d,b=0===o?y:g,_=!1;a&&(s=Math.sqrt(Math.pow(h-y,2)+Math.pow(d-g,2))),v<r?b>r&&(l=c(u,h,d,y,g,r),a&&(u.start=p+s*l)):v>n?b<n&&(l=c(u,h,d,y,g,n),a&&(u.start=p+s*l)):ye(u,h,d,m),b<r&&v>=r&&(l=c(u,h,d,y,g,r),_=!0),b>n&&v<=n&&(l=c(u,h,d,y,g,n),_=!0),!i&&_&&(a&&(u.end=p+s*l),t.push(u),u=de(e)),a&&(p+=s)}var x=e.length-3;h=e[x],d=e[x+1],m=e[x+2],(v=0===o?h:d)>=r&&v<=n&&ye(u,h,d,m),x=u.length-3,i&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&ye(u,u[0],u[1],u[2]),u.length&&t.push(u)}function de(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function me(e,t,r,n,o,i){for(var a=0;a<e.length;a++)he(e[a],t,r,n,o,i,!1)}function ye(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ge(e,t,r,n,o,i){var a=(i-t)/(n-t);return e.push(i),e.push(r+(o-r)*a),e.push(1),a}function ve(e,t,r,n,o,i){var a=(i-r)/(o-r);return e.push(t+(n-t)*a),e.push(i),e.push(1),a}function be(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=_e(i.geometry,t);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(_e(i.geometry[s],t))}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var l=[],u=0;u<i.geometry[s].length;u++)l.push(_e(i.geometry[s][u],t));o.push(l)}r.push(ne(i.id,a,o,i.tags))}return r}function _e(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function xe(e,t){if(e.transformed)return e;var r,n,o,i=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(we(u[n],u[n+1],t,i,a,s));else for(n=0;n<u.length;n++){var p=[];for(o=0;o<u[n].length;o+=2)p.push(we(u[n][o],u[n][o+1],t,i,a,s));l.geometry.push(p)}}return e.transformed=!0,e}function we(e,t,r,n,o,i){return[Math.round(r*(e*n-o)),Math.round(r*(t*n-i))]}function Se(e,t,r,n,o){for(var i=t===o.maxZoom?0:o.tolerance/((1<<t)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ke(a,e[s],i,o);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,p=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function ke(e,t,r,n){var o=t.geometry,i=t.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)Ce(a,o,e,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)Ce(a,o[s],e,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<o.length;l++){var u=o[l];for(s=0;s<u.length;s++)Ce(a,u[s],e,r,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===i&&n.lineMetrics){for(var p in c={},t.tags)c[p]=t.tags[p];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size}var f={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:c};null!==t.id&&(f.id=t.id),e.features.push(f)}}function Ce(e,t,r,n,o,i){var a=n*n;if(n>0&&t.size<(o?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;o&&function(e,t){for(var r=0,n=0,o=e.length,i=o-2;n<o;i=n,n+=2)r+=(e[n]-e[i])*(e[n+1]+e[i+1]);if(r>0===t)for(n=0,o=e.length;n<o/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[o-2-n],e[n+1]=e[o-1-n],e[o-2-n]=a,e[o-1-n]=s}}(s,i),e.push(s)}}function Pe(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)ie(r,e.features[n],t,n);else"Feature"===e.type?ie(r,e,t):ie(r,{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,o=pe(e,1,-1-r,r,0,-1,2,t),i=pe(e,1,1-r,2+r,0,-1,2,t);return(o||i)&&(n=pe(e,1,-r,1+r,0,-1,2,t)||[],o&&(n=be(o,1).concat(n)),i&&(n=n.concat(be(i,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ee(e,t,r){return 32*((1<<e)*r+t)+e}function Te(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var o=new S(n.features),i=T(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:o,rawData:i.buffer})}H.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,o=t.maxZoom,i=t.nodeSize;r&&console.time("total time");var a="prepare "+e.length+" points";r&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(K(e[l],l));this.trees[o+1]=new G(s,ee,te,i,Float32Array),r&&console.timeEnd(a);for(var u=o;u>=n;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new G(s,ee,te,i,Float32Array),r&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return r&&console.timeEnd("total time"),this},H.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),o=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){var a=this.getClusters([r,n,180,i],t),s=this.getClusters([-180,n,o,i],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,p=l.range(J(r),$(i),J(o),$(n));c<p.length;c+=1){var f=p[c],h=l.points[f];u.push(h.numPoints?X(h):this.points[h.index])}return u},H.prototype.getChildren=function(e){var t=e>>5,r=e%32,n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);var i=o.points[t];if(!i)throw new Error(n);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,u=o.within(i.x,i.y,a);l<u.length;l+=1){var c=u[l],p=o.points[c];p.parentId===e&&s.push(p.numPoints?X(p):this.points[p.index])}if(0===s.length)throw new Error(n);return s},H.prototype.getLeaves=function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n},H.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],o=Math.pow(2,e),i=this.options,a=i.extent,s=i.radius/a,l=(r-s)/o,u=(r+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((t-s)/o,l,(t+1+s)/o,u),n.points,t,r,o,c),0===t&&this._addTileFeatures(n.range(1-s/o,l,1,u),n.points,o,r,o,c),t===o-1&&this._addTileFeatures(n.range(0,l,s/o,u),n.points,-1,r,o,c),c.features.length?c:null},H.prototype.getClusterExpansionZoom=function(e){for(var t=e%32-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},H.prototype._appendLeaves=function(e,t,r,n,o){for(var i=0,a=this.getChildren(t);i<a.length;i+=1){var s=a[i],l=s.properties;if(l&&l.cluster?o+l.point_count<=n?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,r,n,o):o<n?o++:e.push(s),e.length===r)break}return o},H.prototype._addTileFeatures=function(e,t,r,n,o,i){for(var a=0,s=e;a<s.length;a+=1){var l=t[s[a]],u={type:1,geometry:[[Math.round(this.options.extent*(l.x*o-r)),Math.round(this.options.extent*(l.y*o-n))]],tags:l.numPoints?Y(l):this.points[l.index].properties},c=l.numPoints?l.id:this.points[l.index].id;void 0!==c&&(u.id=c),i.features.push(u)}},H.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},H.prototype._cluster=function(e,t){for(var r=[],n=this.options,o=n.radius,i=n.extent,a=n.reduce,s=o/(i*Math.pow(2,t)),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],p=c.within(u.x,u.y,s),f=u.numPoints||1,h=u.x*f,d=u.y*f,m=a?this._map(u,!0):null,y=(l<<5)+(t+1),g=0,v=p;g<v.length;g+=1){var b=v[g],_=c.points[b];if(!(_.zoom<=t)){_.zoom=t;var x=_.numPoints||1;h+=_.x*x,d+=_.y*x,f+=x,_.parentId=y,a&&a(m,this._map(_))}}1===f?r.push(u):(u.parentId=y,r.push(Z(h/f,d/f,y,f,m)))}}return r},H.prototype._map=function(e,t){if(e.numPoints)return t?Q({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?Q({},n):n},Pe.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Pe.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,p=Ee(t,r,n),f=this.tiles[p];if(!f&&(u>1&&console.time("creation"),f=this.tiles[p]=Se(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(f.source=e,o){if(t===l.maxZoom||t===o)continue;var d=1<<o-t;if(r!==Math.floor(i/d)||n!==Math.floor(a/d))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){u>1&&console.time("clipping");var m,y,g,v,b,_,x=.5*l.buffer/l.extent,w=.5-x,S=.5+x,k=1+x;m=y=g=v=null,b=pe(e,c,r-x,r+S,0,f.minX,f.maxX,l),_=pe(e,c,r+w,r+k,0,f.minX,f.maxX,l),e=null,b&&(m=pe(b,c,n-x,n+S,1,f.minY,f.maxY,l),y=pe(b,c,n+w,n+k,1,f.minY,f.maxY,l),b=null),_&&(g=pe(_,c,n-x,n+S,1,f.minY,f.maxY,l),v=pe(_,c,n+w,n+k,1,f.minY,f.maxY,l),_=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*r,2*n),s.push(y||[],t+1,2*r,2*n+1),s.push(g||[],t+1,2*r+1,2*n),s.push(v||[],t+1,2*r+1,2*n+1)}}},Pe.prototype.getTile=function(e,t,r){var n=this.options,o=n.extent,i=n.debug;if(e<0||e>24)return null;var a=1<<e,s=Ee(e,t=(t%a+a)%a,r);if(this.tiles[s])return xe(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,c=t,p=r;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[Ee(u,c,p)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",u,c,p),i>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?xe(this.tiles[s],o):null):null};var Ae=function(t){function r(e,r,n){t.call(this,e,r,Te),n&&(this.loadGeoJSON=n)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var o=!!(n&&n.request&&n.request.collectResourceTiming)&&new l.Performance(n.request);this.loadGeoJSON(n,function(i,a){if(i||!a)return r(i);if("object"!=typeof a)return r(new Error("Input data is not a valid GeoJSON object."));!function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(v(e,r)),t;case"GeometryCollection":return t.geometries=t.geometries.map(v(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=b(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(v(b,t))),e}(t,r);default:return t}}(a,!0);try{t._geoJSONIndex=n.cluster?new H(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var o={},i={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),u=0,c=l;u<c.length;u+=1){var p=c[u],f=n[p],h=f[0],d=f[1],m=e.createExpression(d),y=e.createExpression("string"==typeof h?[h,["accumulated"],["get",p]]:h);o[p]=m.value,i[p]=y.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=l;r<n.length;r+=1){var i=n[r];t[i]=o[i].evaluate(a,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=l;r<n.length;r+=1){var o=n[r];a.accumulated=e[o],e[o]=i[o].evaluate(a,s)}},r}(n)).load(a.features):new Pe(a,n.geojsonVtOptions)}catch(i){return r(i)}t.loaded={};var s={};if(o){var l=o.finish();l&&(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(l)))}r(null,s)})}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded,o=e.uid;return n&&n[o]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},r.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},r.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},r}(p),Ie=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:p,geojson:Ae},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isLoaded())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return Ie.prototype.setReferrer=function(e,t){this.referrer=t},Ie.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},Ie.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},Ie.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},Ie.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},Ie.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},Ie.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},Ie.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},Ie.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},Ie.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},Ie.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},Ie.prototype.loadRTLTextPlugin=function(t,r,n){try{e.plugin.isLoaded()||(this.self.importScripts(r),n(e.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+r)))}catch(e){n(e.toString())}},Ie.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},Ie.prototype.getWorkerSource=function(e,t,r){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){var o={send:function(t,r,o){n.actor.send(t,r,o,e)}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](o,this.getLayerIndex(e))}return this.workerSources[e][t][r]},Ie.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new f),this.demWorkerSources[e][t]},"undefined"!=typeof WorkerGlobalScope&&void 0!==e.window&&e.window instanceof WorkerGlobalScope&&(e.window.worker=new Ie(e.window)),Ie}),n(0,function(e){var t=e.createCommonjsModule(function(e){function t(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){return void 0===r[e]&&(r[e]=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e)),r[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),r={create:function(t,r,n){var o=e.window.document.createElement(t);return r&&(o.className=r),n&&n.appendChild(o),o},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document?e.window.document.documentElement.style:null;function o(e){if(!n)return null;for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var i,a=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&a&&(i=n[a],n[a]="none")},r.enableDrag=function(){n&&a&&(n[a]=i)};var s=o(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&l?e.addEventListener(t,r,n):e.addEventListener(t,r,n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&l?e.removeEventListener(t,r,n):e.removeEventListener(t,r,n.capture)};var c=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",c,!0)};function p(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout(function(){e.window.removeEventListener("click",c,!0)},0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect();return r=r.touches?r.touches[0]:r,new e.Point(r.clientX-n.left-t.clientLeft,r.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),o=[],i="touchend"===r.type?r.changedTouches:r.touches,a=0;a<i.length;a++)o.push(new e.Point(i[a].clientX-n.left-t.clientLeft,i[a].clientY-n.top-t.clientTop));return o},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var f=function(t){function r(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t],o=n.ids,i=n.callback;this._notify(o,i)}this.requestors=[]}},r.prototype.getImage=function(e){return this.images[e]},r.prototype.addImage=function(e,t){this.images[e]=t},r.prototype.updateImage=function(e,t){var r=this.images[e];t.version=r.version+1,this.images[e]=t,this.updatedImages[e]=!0},r.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,o=e;n<o.length;n+=1){var i=o[n];this.images[i]||(r=!1)}this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},r.prototype._notify=function(t,r){for(var n={},o=0,i=t;o<i.length;o+=1){var a=i[o];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?n[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},r.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},r.prototype.getPattern=function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(o,n);this.patterns[t]={bin:o,position:i}}return this._updatePatternAtlas(),this.patterns[t].position},r.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),o=n.w,i=n.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:i||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,f=p.width,h=p.height;e.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:f,height:h}),e.RGBAImage.copy(p,a,{x:0,y:h-1},{x:u,y:c-1},{width:f,height:1}),e.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+h},{width:f,height:1}),e.RGBAImage.copy(p,a,{x:f-1,y:0},{x:u-1,y:c},{width:1,height:h}),e.RGBAImage.copy(p,a,{x:0,y:0},{x:u+f,y:c},{width:1,height:h})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var o=this.images[n];p(o)&&this.updateImage(n,o)}}},r}(e.Evented),h=m,d=1e20;function m(e,t,r,n,o,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(e,t,r,n,o,i,a){for(var s=0;s<t;s++){for(var l=0;l<r;l++)n[l]=e[l*t+s];for(g(n,o,i,a,r),l=0;l<r;l++)e[l*t+s]=o[l]}for(l=0;l<r;l++){for(s=0;s<t;s++)n[s]=e[l*t+s];for(g(n,o,i,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(o[s])}}function g(e,t,r,n,o){r[0]=0,n[0]=-d,n[1]=+d;for(var i=1,a=0;i<o;i++){for(var s=(e[i]+i*i-(e[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);s<=n[a];)a--,s=(e[i]+i*i-(e[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);r[++a]=i,n[a]=s,n[a+1]=+d}for(i=0,a=0;i<o;i++){for(;n[a+1]<i;)a++;t[i]=(i-r[a])*(i-r[a])+e[r[a]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=t.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?d:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?d:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var i=this.gridOuter[n]-this.gridInner[n];r[n]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return r};var v=function(e,t){this.requestTransform=e,this.localIdeographFontFamily=t,this.entries={}};v.prototype.setURL=function(e){this.url=e},v.prototype.getGlyphs=function(t,r){var n=this,o=[];for(var i in t)for(var a=0,s=t[i];a<s.length;a+=1){var l=s[a];o.push({stack:i,id:l})}e.asyncAll(o,function(e,t){var r=e.stack,o=e.id,i=n.entries[r];i||(i=n.entries[r]={glyphs:{},requests:{}});var a=i.glyphs[o];if(void 0===a)if(a=n._tinySDF(i,r,o))t(null,{stack:r,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var l=i.requests[s];l||(l=i.requests[s]=[],v.loadGlyphRange(r,s,n.url,n.requestTransform,function(e,t){if(t)for(var r in t)i.glyphs[+r]=t[+r];for(var n=0,o=l;n<o.length;n+=1)(0,o[n])(e,t);delete i.requests[s]})),l.push(function(e,n){e?t(e):n&&t(null,{stack:r,id:o,glyph:n[o]||null})})}}else t(null,{stack:r,id:o,glyph:a})},function(e,t){if(e)r(e);else if(t){for(var n={},o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.stack,l=a.id,u=a.glyph;(n[s]||(n[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}r(null,n)}})},v.prototype._tinySDF=function(t,r,n){var o=this.localIdeographFontFamily;if(o&&(e.isChar["CJK Unified Ideographs"](n)||e.isChar["Hangul Syllables"](n))){var i=t.tinySDF;if(!i){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),i=t.tinySDF=new v.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(t,r,n,o,i){var a=256*r,s=a+255,l=o(e.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,function(t,r){if(t)i(t);else if(r){for(var n={},o=0,a=e.parseGlyphPBF(r);o<a.length;o+=1){var s=a[o];n[s.id]=s}i(null,n)}})},v.TinySDF=h;var b=function(){this.specification=e.styleSpec.light.position};b.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},b.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var _=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new b,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),x=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(_),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var o=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),o):this._transitionable.setValue(n,o)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),w=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};w.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.positions[r]||(this.positions[r]=this.addDash(e,t)),this.positions[r]},w.prototype.addDash=function(t,r){var n=r?7:0,o=2*n+1;if(this.nextRow+o>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var i=0,a=0;a<t.length;a++)i+=t[a];for(var s=this.width/i,l=s/2,u=t.length%2==1,c=-n;c<=n;c++)for(var p=this.nextRow+n+c,f=this.width*p,h=u?-t[t.length-1]:0,d=t[0],m=1,y=0;y<this.width;y++){for(;d<y/s;)h=d,d+=t[m],u&&m===t.length-1&&(d+=t[0]),m++;var g=Math.abs(y-h*s),v=Math.abs(y-d*s),b=Math.min(g,v),_=m%2==1,x=void 0;if(r){var w=n?c/n*(l+1):0;if(_){var S=l-Math.abs(w);x=Math.sqrt(b*b+S*S)}else x=l-Math.sqrt(b*b+w*w)}else x=(_?1:-1)*b;this.data[3+4*(f+y)]=Math.max(0,Math.min(255,x+128))}var k={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=o,this.dirty=!0,k},w.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var S=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var o=this.workerPool.acquire(this.id),i=0;i<o.length;i++){var a=o[i],s=new t.Actor(a,n,this.id);s.name="Worker "+i,this.actors.push(s)}};function k(t,r,n){var o=function(r,o){if(r)return n(r);if(o){var i=e.pick(o,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);o.vector_layers&&(i.vectorLayers=o.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(e){return e.id})),t.url&&(i.tiles=e.canonicalizeTileset(i,t.url)),n(null,i)}};return t.url?e.getJSON(r(e.normalizeSourceURL(t.url),e.ResourceType.Source),o):e.browser.frame(function(){return o(null,t)})}S.prototype.broadcast=function(t,r,n){n=n||function(){},e.asyncAll(this.actors,function(e,n){e.send(t,r,n)},n)},S.prototype.send=function(e,t,r,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(e,t,r),n},S.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},S.Actor=e.Actor;var C=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};C.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},C.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),o=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),i=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<i&&t.y>=o&&t.y<a};var P=function(t){function r(r,n,o,i){if(t.call(this),this.id=r,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,e.extend(this,e.pick(n,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._transformRequest,function(r,n){t._tileJSONRequest=null,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new C(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId()),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function i(e,n){return t.aborted?r(null):e&&404!==e.status?r(e):(n&&n.resourceTiming&&(t.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&t.setExpiryData(n),t.loadVectorData(n,this.map.painter),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",o,i.bind(this)):"loading"===t.state?t.reloadCallback=r:this.dispatcher.send("reloadTile",o,i.bind(this),t.workerID)},r.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),E=function(t){function r(r,n,o,i){t.call(this),this.id=r,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._transformRequest,function(r,n){t._tileJSONRequest=null,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new C(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId()),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,o=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(o,e.ResourceType.Tile),function(o,i){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(o)t.state="errored",r(o);else if(i){n.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var a=n.map.painter.context,s=a.gl;t.texture=n.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new e.Texture(a,i,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",r(null)}})},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),T=function(t){function r(r,n,o,i){t.call(this,r,n,o,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(n,e.ResourceType.Tile),function(n,o){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var i=e.browser.getImageData(o),a={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:i,encoding:this.encoding};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",a,function(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),o=(r.x-1+n)%n,i=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},r}(E),A=function(t){function r(r,n,o,i){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(i),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(n.clusterRadius||50)*a,log:!1},clusterProperties:n.clusterProperties},n.workerOptions)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}})},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}}),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t,this.workerID),this},r.prototype.getClusterChildren=function(e,t){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t,this.workerID),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n,this.workerID),this},r.prototype._updateWorkerData=function(t){var r=this,n=e.extend({},this.workerOptions),o=this._data;"string"==typeof o?(n.request=this.map._transformRequest(e.browser.resolveURL(o),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(e,o){r._removed||o&&o.abandoned||(r._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[r.id]&&(r._resourceTiming=o.resourceTiming[r.id].slice(0)),r.dispatcher.send(r.type+".coalesce",{source:n.source},null,r.workerID),t(e))},this.workerID)},r.prototype.loadTile=function(t,r){var n=this,o=void 0===t.workerID?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(o,i,function(e,i){return t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,n.map.painter,"reloadTile"===o),r(null))},this.workerID)},r.prototype.abortTile=function(e){e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},r.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),I=function(t){function r(e,r,n,o){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(t,r){var n=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._transformRequest(this.url,e.ResourceType.Image),function(o,i){o?n.fire(new e.ErrorEvent(o)):i&&(n.image=i,t&&(n.coordinates=t),r&&r(),n._finishLoading())})},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,function(){t.texture=null}),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,o=-1/0,i=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a];r=Math.min(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.x),i=Math.max(i,l.y)}var u=o-r,c=i-n,p=Math.max(u,c),f=Math.max(0,Math.floor(-Math.log(p)/Math.LN2)),h=Math.pow(2,f);return new e.CanonicalTileID(f,Math.floor((r+o)/2*h),Math.floor((n+i)/2*h))}(n),this.minzoom=this.maxzoom=this.tileID.z;var o=n.map(function(e){return r.tileID.getTilePoint(e)._round()});return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(o[0].x,o[0].y,0,0),this._boundsArray.emplaceBack(o[1].x,o[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(o[3].x,o[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(o[2].x,o[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),z=function(t){function r(e,r,n,o){t.call(this,e,r,n,o),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this,r=this.options;this.urls=[];for(var n=0,o=r.urls;n<o.length;n+=1){var i=o[n];this.urls.push(this.map._transformRequest(i,e.ResourceType.Source).url)}e.getVideo(this.urls,function(r,n){r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map.triggerRepaint()}),t.map&&t.video.play(),t._finishLoading())})},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(I),O=function(t){function r(r,n,o,i){t.call(this,r,n,o,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(function(e){return!Array.isArray(e)||2!==e.length||e.some(function(e){return"number"!=typeof e})})||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var i=this.tiles[o];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(I),M={vector:P,raster:E,"raster-dem":T,geojson:A,video:z,image:I,canvas:O},L=function(t,r,n,o){var i=new M[r.type](t,r,n,o);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return e.bindAll(["load","abort","unload","serialize","prepare"],i),i};function F(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function R(e,t,r,n,o){var i=function(e,t,r){if(e)for(var n=0,o=e;n<o.length;n+=1){var i=t[o[n]];if(i&&i.source===r&&"fill-extrusion"===i.type)return!0}else for(var a in t){var s=t[a];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(n&&n.layers,t,e.id),a=o.maxPitchScaleFactor(),s=e.tilesIn(r,a,i);s.sort(D);for(var l=[],u=0,c=s;u<c.length;u+=1){var p=c[u];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,n,o,a,F(e.transform,p.tileID))})}var f=function(e){for(var t={},r={},n=0,o=e;n<o.length;n+=1){var i=o[n],a=i.queryResults,s=i.wrappedTileID,l=r[s]=r[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},f=t[u]=t[u]||[],h=0,d=c;h<d.length;h+=1){var m=d[h];p[m.featureIndex]||(p[m.featureIndex]=!0,f.push(m))}}return t}(l);for(var h in f)f[h].forEach(function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n});return f}function D(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var B=function(e,t){this.max=e,this.onRemove=t,this.reset()};B.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},B.prototype.add=function(e,t,r){var n=this,o=e.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout(function(){n.remove(e,i)},r)),this.data[o].push(i),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},B.prototype.has=function(e){return e.wrapped().key in this.data},B.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},B.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},B.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},B.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),o=this.data[r][n];return this.data[r].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(o.value),this.order.splice(this.order.indexOf(r),1),this},B.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this};var j=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},j.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},N=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var o=e.gl;this.buffer=o.createBuffer(),e.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};N.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},N.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},N.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],o=t.attributes[n.name];void 0!==o&&e.enableVertexAttribArray(o)}},N.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],i=t.attributes[o.name];void 0!==i&&e.vertexAttribPointer(i,o.components,e[U[o.type]],!1,this.itemSize,o.offset+this.itemSize*(r||0))}},N.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var V=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(e){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var q=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(V),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(V),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(V),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(V),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(V),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(V),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(V),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(V),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(V),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(V),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(V),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),ne=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(V),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(V),ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(V),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(V),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(V),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(V),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(V),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(V),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(V),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(V),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(V),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(V),ye=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(V),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(V),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),_e=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(V),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(_e),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(_e),Se=function(e,t,r){this.context=e,this.width=t,this.height=r;var n=e.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new xe(e,o),this.depthAttachment=new we(e,o)};Se.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r),e.deleteFramebuffer(this.framebuffer)};var ke=function(e,t,r){this.func=e,this.mask=t,this.range=r};ke.ReadOnly=!1,ke.ReadWrite=!0,ke.disabled=new ke(519,ke.ReadOnly,[0,1]);var Ce=function(e,t,r,n,o,i){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=o,this.pass=i};Ce.disabled=new Ce({func:519,mask:0},0,0,7680,7680,7680);var Pe=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Pe.disabled=new Pe(Pe.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Pe.unblended=new Pe(Pe.Replace,e.Color.transparent,[!0,!0,!0,!0]),Pe.alphaBlended=new Pe([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ee=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};Ee.disabled=new Ee(!1,1029,2305),Ee.backCCW=new Ee(!0,1029,2305);var Te=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new q(this),this.clearDepth=new G(this),this.clearStencil=new W(this),this.colorMask=new H(this),this.depthMask=new Z(this),this.stencilMask=new K(this),this.stencilFunc=new X(this),this.stencilOp=new Y(this),this.stencilTest=new J(this),this.depthRange=new $(this),this.depthTest=new Q(this),this.depthFunc=new ee(this),this.blend=new te(this),this.blendFunc=new re(this),this.blendColor=new ne(this),this.blendEquation=new oe(this),this.cullFace=new ie(this),this.cullFaceSide=new ae(this),this.frontFace=new se(this),this.program=new le(this),this.activeTexture=new ue(this),this.viewport=new ce(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new he(this),this.bindVertexBuffer=new de(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new ve(this),this.pixelStoreUnpackFlipY=new be(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};Te.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Te.prototype.createIndexBuffer=function(e,t){return new j(this,e,t)},Te.prototype.createVertexBuffer=function(e,t,r){return new N(this,e,t,r)},Te.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),o},Te.prototype.createFramebuffer=function(e,t){return new Se(this,e,t)},Te.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,o=0;t&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(o|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(o)},Te.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Te.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Te.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Te.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Pe.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Te.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ae=function(t){function r(r,n,o){var i=this;t.call(this),this.id=r,this.dispatcher=o,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=L(r,n,o,this),this._tiles={},this._cache=new B(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}},r.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Ie)},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var o in this._tiles)this._isIdRenderable(+o,t)&&n.push(+o);return t?n.sort(function(t,n){var o=r._tiles[t].tileID,i=r._tiles[n].tileID,a=new e.Point(o.canonical.x,o.canonical.y)._rotate(r.transform.angle),s=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle);return o.overscaledZ-i.overscaledZ||s.y-a.y||s.x-a.x}):n.sort(Ie)},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,o){if(o)return t.state="errored",void(404!==o.status?this._source.fire(new e.ErrorEvent(o,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var o=this.getTileByID(n);i(e,o),i(o,e)}}function i(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,o=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+o)?r+=o:1===Math.abs(r-o)&&(r-=o)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var o in this._tiles){var i=this._tiles[o];if(!(n[o]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>r)){for(var a=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}},r.prototype.findLoadedParent=function(e,t){for(var r=e.overscaledZ-1;r>=t;r--){var n=e.scaledTo(r);if(!n)return;var o=String(n.key),i=this._tiles[o];if(i&&i.hasData())return i;if(this._cache.has(n))return this._cache.get(n)}},r.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),r=Math.floor(5*t),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},r.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,r=Math.round(t);if(this._prevLng=e,r){var n={};for(var o in this._tiles){var i=this._tiles[o];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?o=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(o=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(e){return n._source.hasTile(e)}))):o=[];var i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(i-r.maxOverzooming,this._source.minzoom),s=Math.max(i+r.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(o,i);if(ze(this._source.type)){for(var u={},c={},p=0,f=Object.keys(l);p<f.length;p+=1){var h=f[p],d=l[h],m=this._tiles[h];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var y=this.findLoadedParent(d,a);y&&(this._addTile(y.tileID),u[y.tileID.key]=y.tileID),c[h]=d}}for(var g in this._retainLoadedChildren(c,i,s,l),u)l[g]||(this._coveredTiles[g]=!0,l[g]=u[g])}for(var v in l)this._tiles[v].clearFadeHold();for(var b=0,_=e.keysDifference(this._tiles,l);b<_.length;b+=1){var x=_[b],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},o={},i=Math.max(t-r.maxOverzooming,this._source.minzoom),a=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],p=this._addTile(c);n[c.key]=c,p.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,n);for(var f=0,h=e;f<h.length;f+=1){var d=h[f],m=this._tiles[d.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var y=d.children(this._source.maxzoom)[0],g=this.getTile(y);if(g&&g.hasData()){n[y.key]=y;continue}}else{var v=d.children(this._source.maxzoom);if(n[v[0].key]&&n[v[1].key]&&n[v[2].key]&&n[v[3].key])continue}for(var b=m.wasRequested(),_=d.overscaledZ-1;_>=i;--_){var x=d.scaledTo(_);if(o[x.key])break;if(o[x.key]=!0,!(m=this.getTile(x))&&b&&(m=this._addTile(x)),m&&(n[x.key]=x,b=m.wasRequested(),m.hasData()))break}}}return n},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout(function(){r._reloadTile(e,"expired"),delete r._timers[e]},n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var o=this,i=[],a=this.transform;if(!a)return i;for(var s=n?a.getCameraQueryGeometry(t):t,l=t.map(function(e){return a.pointCoordinate(e)}),u=s.map(function(e){return a.pointCoordinate(e)}),c=this.getIds(),p=1/0,f=1/0,h=-1/0,d=-1/0,m=0,y=u;m<y.length;m+=1){var g=y[m];p=Math.min(p,g.x),f=Math.min(f,g.y),h=Math.max(h,g.x),d=Math.max(d,g.y)}for(var v=function(t){var n=o._tiles[c[t]];if(!n.holdingForFade()){var s=n.tileID,m=Math.pow(2,a.zoom-n.tileID.overscaledZ),y=r*n.queryPadding*e.EXTENT/n.tileSize/m,g=[s.getTilePoint(new e.MercatorCoordinate(p,f)),s.getTilePoint(new e.MercatorCoordinate(h,d))];if(g[0].x-y<e.EXTENT&&g[0].y-y<e.EXTENT&&g[1].x+y>=0&&g[1].y+y>=0){var v=l.map(function(e){return s.getTilePoint(e)}),b=u.map(function(e){return s.getTilePoint(e)});i.push({tile:n,tileID:s,queryGeometry:v,cameraQueryGeometry:b,scale:m})}}},b=0;b<c.length;b++)v(b);return i},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map(function(e){return t._tiles[e].tileID}),n=0,o=r;n<o.length;n+=1){var i=o[n];i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(ze(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.updateState(e,t,r)},r.prototype.removeFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.removeFeatureState(e,t,r)},r.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},r}(e.Evented);function Ie(e,t){return e%32-t%32||t-e}function ze(e){return"raster"===e||"image"===e||"video"===e}function Oe(){return new e.window.Worker(Qn.workerUrl)}Ae.maxOverzooming=10,Ae.maxUnderzooming=3;var Me=function(){this.active={}};Me.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Me.workerCount;)this.workers.push(new Oe);return this.active[e]=!0,this.workers.slice()},Me.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)};var Le,Fe=Math.floor(e.browser.hardwareConcurrency/2);function Re(t,r){var n={};for(var o in t)"ref"!==o&&(n[o]=t[o]);return e.refProperties.forEach(function(e){e in r&&(n[e]=r[e])}),n}function De(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Re(e[n],t[e[n].ref]));return e}Me.workerCount=Math.max(Math.min(Fe,6),1);var Be={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function je(e,t,r){r.push({command:Be.addSource,args:[e,t[e]]})}function Ue(e,t,r){t.push({command:Be.removeSource,args:[e]}),r[e]=!0}function Ne(e,t,r,n){Ue(e,r,n),je(e,t,r)}function Ve(t,r,n){var o;for(o in t[n])if(t[n].hasOwnProperty(o)&&"data"!==o&&!e.deepEqual(t[n][o],r[n][o]))return!1;for(o in r[n])if(r[n].hasOwnProperty(o)&&"data"!==o&&!e.deepEqual(t[n][o],r[n][o]))return!1;return!0}function qe(t,r,n,o,i,a){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}))}function Ge(e){return e.id}function We(e,t){return e[t.id]=t,e}var He=function(e,t,r){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};He.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},He.prototype.insert=function(e,t,r,n,o){this._forEachCell(t,r,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},He.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},He.prototype._insertBoxCell=function(e,t,r,n,o,i){this.boxCells[o].push(i)},He.prototype._insertCircleCell=function(e,t,r,n,o,i){this.circleCells[o].push(i)},He.prototype._query=function(e,t,r,n,o,i){if(r<0||e>this.width||n<0||t>this.height)return!o&&[];var a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return i?a.filter(i):a}var f={hitTest:o,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,r,n,this._queryCell,a,f,i),o?a.length>0:a},He.prototype._queryCircle=function(e,t,r,n,o){var i=e-r,a=e+r,s=t-r,l=t+r;if(a<0||i>this.width||l<0||s>this.height)return!n&&[];var u=[],c={hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(i,s,a,l,this._queryCellCircle,u,c,o),n?u.length>0:u},He.prototype.query=function(e,t,r,n,o){return this._query(e,t,r,n,!1,o)},He.prototype.hitTest=function(e,t,r,n,o){return this._query(e,t,r,n,!0,o)},He.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},He.prototype._queryCell=function(e,t,r,n,o,i,a,s){var l=a.seenUids,u=this.boxCells[o];if(null!==u)for(var c=this.bboxes,p=0,f=u;p<f.length;p+=1){var h=f[p];if(!l.box[h]){l.box[h]=!0;var d=4*h;if(e<=c[d+2]&&t<=c[d+3]&&r>=c[d+0]&&n>=c[d+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[h],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var m=this.circleCells[o];if(null!==m)for(var y=this.circles,g=0,v=m;g<v.length;g+=1){var b=v[g];if(!l.circle[b]){l.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(y[_],y[_+1],y[_+2],e,t,r,n)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return i.push(!0),!0;var x=y[_],w=y[_+1],S=y[_+2];i.push({key:this.circleKeys[b],x1:x-S,y1:w-S,x2:x+S,y2:w+S})}}}},He.prototype._queryCellCircle=function(e,t,r,n,o,i,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[o];if(null!==c)for(var p=this.bboxes,f=0,h=c;f<h.length;f+=1){var d=h[f];if(!u.box[d]){u.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[d])))return i.push(!0),!0}}var y=this.circleCells[o];if(null!==y)for(var g=this.circles,v=0,b=y;v<b.length;v+=1){var _=b[v];if(!u.circle[_]){u.circle[_]=!0;var x=3*_;if(this._circlesCollide(g[x],g[x+1],g[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[_])))return i.push(!0),!0}}},He.prototype._forEachCell=function(e,t,r,n,o,i,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),p=this._convertToYCellCoord(n),f=l;f<=c;f++)for(var h=u;h<=p;h++){var d=this.xCellCount*h+f;if(o.call(this,e,t,r,n,d,i,a,s))return}},He.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},He.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},He.prototype._circlesCollide=function(e,t,r,n,o,i){var a=n-e,s=o-t,l=r+i;return l*l>a*a+s*s},He.prototype._circleAndRectCollide=function(e,t,r,n,o,i,a){var s=(i-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;var u=(a-o)/2,c=Math.abs(t-(o+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;var p=l-s,f=c-u;return p*p+f*f<=r*r};var Ze=e.properties.layout;function Ke(t,r,n,o,i){var a=e.create();return r?(e.scale(a,a,[1/i,1/i,1]),n||e.rotateZ(a,a,o.angle)):e.multiply(a,o.labelPlaneMatrix,t),a}function Xe(t,r,n,o,i){if(r){var a=e.clone(t);return e.scale(a,a,[i,i,1]),n||e.rotateZ(a,a,-o.angle),a}return o.glCoordMatrix}function Ye(t,r){var n=[t.x,t.y,0,1];at(n,n,r);var o=n[3];return{point:new e.Point(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function Je(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function $e(t,r,n,o,i,a,s,l){var u=o?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,n.transform.zoom,Ze.properties[o?"text-size":"icon-size"]),p=[256/n.width*2+1,256/n.height*2+1],f=o?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();for(var h=t.lineVertexArray,d=o?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=n.transform.width/n.transform.height,y=!1,g=0;g<d.length;g++){var v=d.get(g);if(v.hidden||v.writingMode===e.WritingMode.vertical&&!y)it(v.numGlyphs,f);else{y=!1;var b=[v.anchorX,v.anchorY,0,1];if(e.transformMat4(b,b,r),Je(b,p)){var _=.5+b[3]/n.transform.cameraToCenterDistance*.5,x=e.evaluateSizeForFeature(u,c,v),w=s?x*_:x/_,S=new e.Point(v.anchorX,v.anchorY),k=Ye(S,i).point,C={},P=tt(v,w,!1,l,r,i,a,t.glyphOffsetArray,h,f,k,S,C,m);y=P.useVertical,(P.notEnoughRoom||y||P.needsFlipping&&tt(v,w,!0,l,r,i,a,t.glyphOffsetArray,h,f,k,S,C,m).notEnoughRoom)&&it(v.numGlyphs,f)}else it(v.numGlyphs,f)}}o?t.text.dynamicLayoutVertexBuffer.updateData(f):t.icon.dynamicLayoutVertexBuffer.updateData(f)}function Qe(e,t,r,n,o,i,a,s,l,u,c,p){var f=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),y=t.getoffsetX(f-1),g=nt(e*m,r,n,o,i,a,s.segment,h,d,l,u,c,p);if(!g)return null;var v=nt(e*y,r,n,o,i,a,s.segment,h,d,l,u,c,p);return v?{first:g,last:v}:null}function et(t,r,n,o){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*o?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function tt(t,r,n,o,i,a,s,l,u,c,p,f,h,d){var m,y=r/24,g=t.lineOffsetX*y,v=t.lineOffsetY*y;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=Qe(y,l,g,v,n,p,f,t,u,a,h,!1);if(!w)return{notEnoughRoom:!0};var S=Ye(w.first.point,s).point,k=Ye(w.last.point,s).point;if(o&&!n){var C=et(t.writingMode,S,k,d);if(C)return C}m=[w.first];for(var P=t.glyphStartIndex+1;P<b-1;P++)m.push(nt(y*l.getoffsetX(P),g,v,n,p,f,t.segment,_,x,u,a,h,!1));m.push(w.last)}else{if(o&&!n){var E=Ye(f,i).point,T=t.lineStartIndex+t.segment+1,A=new e.Point(u.getx(T),u.gety(T)),I=Ye(A,i),z=I.signedDistanceFromCamera>0?I.point:rt(f,A,E,1,i),O=et(t.writingMode,E,z,d);if(O)return O}var M=nt(y*l.getoffsetX(t.glyphStartIndex),g,v,n,p,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,h,!1);if(!M)return{notEnoughRoom:!0};m=[M]}for(var L=0,F=m;L<F.length;L+=1){var R=F[L];e.addDynamicAttributes(c,R.point,R.angle)}return{}}function rt(e,t,r,n,o){var i=Ye(e.add(e.sub(t)._unit()),o).point,a=r.sub(i);return r.add(a._mult(n/a.mag()))}function nt(t,r,n,o,i,a,s,l,u,c,p,f,h){var d=o?t-r:t+r,m=d>0?1:-1,y=0;o&&(m*=-1,y=Math.PI),m<0&&(y+=Math.PI);for(var g=m>0?l+s:l+s+1,v=g,b=i,_=i,x=0,w=0,S=Math.abs(d);x+w<=S;){if((g+=m)<l||g>=u)return null;if(_=b,void 0===(b=f[g])){var k=new e.Point(c.getx(g),c.gety(g)),C=Ye(k,p);if(C.signedDistanceFromCamera>0)b=f[g]=C.point;else{var P=g-m;b=rt(0===x?a:new e.Point(c.getx(P),c.gety(P)),k,_,S-x+1,p)}}x+=w,w=_.dist(b)}var E=(S-x)/w,T=b.sub(_),A=T.mult(E)._add(_);return A._add(T._unit()._perp()._mult(n*m)),{point:A,angle:y+Math.atan2(b.y-_.y,b.x-_.x),tileDistance:h?{prevTileDistance:g-m===v?0:c.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:S-x}:null}}var ot=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function it(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(ot,3*n)}}function at(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[4]*o+r[12],e[1]=r[1]*n+r[5]*o+r[13],e[3]=r[3]*n+r[7]*o+r[15],e}var st=function(e,t,r){void 0===t&&(t=new He(e.width+200,e.height+200,25)),void 0===r&&(r=new He(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function lt(e,t,r){e[t+4]=r?1:0}function ut(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}st.prototype.placeCollisionBox=function(e,t,r,n,o){var i=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),a=r*i.perspectiveRatio,s=e.x1*a+i.point.x,l=e.y1*a+i.point.y,u=e.x2*a+i.point.x,c=e.y2*a+i.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,o)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},st.prototype.approximateTileDistance=function(e,t,r,n,o){var i=o?1:n/this.pitchfactor,a=e.lastSegmentViewportDistance*r;return e.prevTileDistance+a+(i-1)*a*Math.abs(Math.sin(t))},st.prototype.placeCollisionCircles=function(t,r,n,o,i,a,s,l,u,c,p,f,h){var d=[],m=this.projectAnchor(u,i.anchorX,i.anchorY),y=l/24,g=i.lineOffsetX*l,v=i.lineOffsetY*l,b=new e.Point(i.anchorX,i.anchorY),_=Qe(y,s,g,v,!1,Ye(b,c).point,b,i,a,c,{},!0),x=!1,w=!1,S=!0,k=m.perspectiveRatio*o,C=1/(o*n),P=0,E=0;_&&(P=this.approximateTileDistance(_.first.tileDistance,_.first.angle,C,m.cameraDistance,f),E=this.approximateTileDistance(_.last.tileDistance,_.last.angle,C,m.cameraDistance,f));for(var T=0;T<t.length;T+=5){var A=t[T],I=t[T+1],z=t[T+2],O=t[T+3];if(!_||O<-P||O>E)lt(t,T,!1);else{var M=this.projectPoint(u,A,I),L=z*k;if(d.length>0){var F=M.x-d[d.length-4],R=M.y-d[d.length-3];if(L*L*2>F*F+R*R&&T+8<t.length){var D=t[T+8];if(D>-P&&D<E){lt(t,T,!1);continue}}}var B=T/5;d.push(M.x,M.y,L,B),lt(t,T,!0);var j=M.x-L,U=M.y-L,N=M.x+L,V=M.y+L;if(S=S&&this.isOffscreen(j,U,N,V),w=w||this.isInsideGrid(j,U,N,V),!r&&this.grid.hitTestCircle(M.x,M.y,L,h)){if(!p)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:d,offscreen:S}},st.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,o=1/0,i=-1/0,a=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);n=Math.min(n,c.x),o=Math.min(o,c.y),i=Math.max(i,c.x),a=Math.max(a,c.y),r.push(c)}for(var p={},f={},h=0,d=this.grid.query(n,o,i,a).concat(this.ignoredGrid.query(n,o,i,a));h<d.length;h+=1){var m=d[h],y=m.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var g=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(r,g)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===f[y.bucketInstanceId]&&(f[y.bucketInstanceId]=[]),f[y.bucketInstanceId].push(y.featureIndex))}}return f},st.prototype.insertCollisionBox=function(e,t,r,n,o){var i={bucketInstanceId:r,featureIndex:n,collisionGroupID:o};(t?this.ignoredGrid:this.grid).insert(i,e[0],e[1],e[2],e[3])},st.prototype.insertCollisionCircles=function(e,t,r,n,o){for(var i=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:o},s=0;s<e.length;s+=4)i.insertCircle(a,e[s],e[s+1],e[s+2])},st.prototype.projectAnchor=function(e,t,r){var n=[t,r,0,1];return at(n,n,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},st.prototype.projectPoint=function(t,r,n){var o=[r,n,0,1];return at(o,o,t),new e.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},st.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var o=[r,n,0,1];return at(o,o,t),{point:new e.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},st.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},st.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary};var ct=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};ct.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pt=function(e,t,r,n,o){this.text=new ct(e?e.text:null,t,r,o),this.icon=new ct(e?e.icon:null,t,n,o)};pt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ft=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},ht=function(e,t,r,n,o){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=o},dt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function mt(t,r,n,o,i){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*r,l=-(a.verticalAlign-.5)*n,u=e.evaluateRadialOffset(t,o);return new e.Point(s+u[0]*i,l+u[1]*i)}dt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var yt=function(e,t,r,n){this.transform=e.clone(),this.collisionIndex=new st(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new dt(r),this.prevPlacement=n,n&&(n.prevPlacement=void 0)};function gt(e,t,r,n,o){e.emplaceBack(t?1:0,r?1:0,n||0,o||0),e.emplaceBack(t?1:0,r?1:0,n||0,o||0),e.emplaceBack(t?1:0,r?1:0,n||0,o||0),e.emplaceBack(t?1:0,r?1:0,n||0,o||0)}yt.prototype.placeLayerTile=function(t,r,n,o){var i=r.getBucket(t),a=r.latestFeatureIndex;if(i&&a&&t.id===i.layerIds[0]){var s=r.collisionBoxArray,l=i.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f=Ke(p,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,ut(r,1,this.transform.zoom)),h=Ke(p,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,ut(r,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new ht(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,r.tileID),this.placeLayerBucket(i,p,f,h,u,c,n,r.holdingForFade(),o,s)}},yt.prototype.attemptAnchorPlacement=function(t,r,n,o,i,a,s,l,u,c,p,f,h,d){var m,y=mt(t,n,o,i,a),g=this.collisionIndex.placeCollisionBox(function(t,r,n,o,i,a){var s=t.x1,l=t.x2,u=t.y1,c=t.y2,p=t.anchorPointX,f=t.anchorPointY,h=new e.Point(r,n);return o&&h._rotate(i?a:-a),{x1:s+h.x,y1:u+h.y,x2:l+h.x,y2:c+h.y,anchorPointX:p,anchorPointY:f}}(r,y.x,y.y,s,l,this.transform.angle),f,u,c,p.predicate);if(g.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={radialOffset:i,width:n,height:o,anchor:t,textBoxScale:a,prevAnchor:m},this.markUsedJustification(d,t,h),g},yt.prototype.placeLayerBucket=function(t,r,n,o,i,a,s,l,u,c){var p=t.layers[0].layout,f=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,e.properties.layout.properties["text-size"]),h=p.get("text-optional"),d=p.get("icon-optional"),m=p.get("text-allow-overlap"),y=p.get("icon-allow-overlap"),g=m&&(y||!t.hasIconData()||d),v=y&&(m||!t.hasTextData()||h),b=this.collisionGroups.get(t.sourceID),_="map"===p.get("text-rotation-alignment"),x="map"===p.get("text-pitch-alignment");!t.collisionArrays&&c&&t.deserializeCollisionBoxes(c);for(var w=0;w<t.symbolInstances.length;w++){var S=t.symbolInstances.get(w);if(!u[S.crossTileID]){if(l){this.placements[S.crossTileID]=new ft(!1,!1,!1);continue}var k=!1,C=!1,P=!0,E=null,T=null,A=null,I=0,z=0,O=t.collisionArrays[w];O.textFeatureIndex&&(I=O.textFeatureIndex);var M=O.textBox;if(M)if(p.get("text-variable-anchor")){var L=M.x2-M.x1,F=M.y2-M.y1,R=S.textBoxScale,D=p.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[S.crossTileID]){var B=this.prevPlacement.variableOffsets[S.crossTileID];D[0]!==B.anchor&&(D=D.filter(function(e){return e!==B.anchor})).unshift(B.anchor)}for(var j=0,U=D;j<U.length;j+=1){var N=U[j];if(E=this.attemptAnchorPlacement(N,M,L,F,S.radialTextOffset,R,_,x,a,r,b,m,S,t)){k=!0;break}}if(!this.variableOffsets[S.crossTileID]&&this.prevPlacement){var V=this.prevPlacement.variableOffsets[S.crossTileID];V&&(this.variableOffsets[S.crossTileID]=V,this.markUsedJustification(t,V.anchor,S))}}else k=(E=this.collisionIndex.placeCollisionBox(M,p.get("text-allow-overlap"),a,r,b.predicate)).box.length>0;P=E&&E.offscreen;var q=O.textCircles;if(q){var G=t.text.placedSymbolArray.get(S.centerJustifiedTextSymbolIndex),W=e.evaluateSizeForFeature(t.textSizeData,f,G);T=this.collisionIndex.placeCollisionCircles(q,p.get("text-allow-overlap"),i,a,G,t.lineVertexArray,t.glyphOffsetArray,W,r,n,s,x,b.predicate),k=p.get("text-allow-overlap")||T.circles.length>0,P=P&&T.offscreen}O.iconFeatureIndex&&(z=O.iconFeatureIndex),O.iconBox&&(C=(A=this.collisionIndex.placeCollisionBox(O.iconBox,p.get("icon-allow-overlap"),a,r,b.predicate)).box.length>0,P=P&&A.offscreen);var H=h||0===S.numHorizontalGlyphVertices&&0===S.numVerticalGlyphVertices,Z=d||0===S.numIconVertices;H||Z?Z?H||(C=C&&k):k=C&&k:C=k=C&&k,k&&E&&this.collisionIndex.insertCollisionBox(E.box,p.get("text-ignore-placement"),t.bucketInstanceId,I,b.ID),C&&A&&this.collisionIndex.insertCollisionBox(A.box,p.get("icon-ignore-placement"),t.bucketInstanceId,z,b.ID),k&&T&&this.collisionIndex.insertCollisionCircles(T.circles,p.get("text-ignore-placement"),t.bucketInstanceId,I,b.ID),this.placements[S.crossTileID]=new ft(k||g,C||v,P||t.justReloaded),u[S.crossTileID]=!0}}t.justReloaded=!1},yt.prototype.markUsedJustification=function(t,r,n){var o={left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex},i=o[e.getAnchorJustification(r)];for(var a in o){var s=o[a];s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=i>=0&&s!==i?0:n.crossTileID)}},yt.prototype.commit=function(e){this.commitTime=e;var t=this.prevPlacement,r=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{},i=t?t.variableOffsets:{};for(var a in this.placements){var s=this.placements[a],l=o[a];l?(this.opacities[a]=new pt(l,n,s.text,s.icon),r=r||s.text!==l.text.placed||s.icon!==l.icon.placed):(this.opacities[a]=new pt(null,n,s.text,s.icon,s.skipFade),r=r||s.text||s.icon)}for(var u in o){var c=o[u];if(!this.opacities[u]){var p=new pt(c,n,!1,!1);p.isHidden()||(this.opacities[u]=p,r=r||c.text.placed||c.icon.placed)}}for(var f in i)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=i[f]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},yt.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,o=t;n<o.length;n+=1){var i=o[n],a=i.getBucket(e);a&&i.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,i.collisionBoxArray)}},yt.prototype.updateBucketOpacities=function(t,r,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var o=t.layers[0].layout,i=new pt(null,0,!1,!1,!0),a=o.get("text-allow-overlap"),s=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),u="map"===o.get("text-rotation-alignment"),c="map"===o.get("text-pitch-alignment"),p=new pt(null,0,a&&(s||!t.hasIconData()||o.get("icon-optional")),s&&(a||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(n);for(var f=0;f<t.symbolInstances.length;f++){var h=t.symbolInstances.get(f),d=h.numHorizontalGlyphVertices,m=h.numVerticalGlyphVertices,y=h.crossTileID,g=r[y],v=this.opacities[y];g?v=i:v||(v=p,this.opacities[y]=v),r[y]=!0;var b=d>0||m>0,_=h.numIconVertices>0;if(b){for(var x=Ct(v.text),w=(d+m)/4,S=0;S<w;S++)t.text.opacityVertexArray.emplaceBack(x);var k=v.text.isHidden()?1:0;[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex].forEach(function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=k)});var C=this.variableOffsets[h.crossTileID];C&&this.markUsedJustification(t,C.anchor,h)}if(_){for(var P=Ct(v.icon),E=0;E<h.numIconVertices/4;E++)t.icon.opacityVertexArray.emplaceBack(P);t.icon.placedSymbolArray.get(f).hidden=v.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var T=t.collisionArrays[f];if(T){if(T.textBox){var A=new e.Point(0,0),I=!0;if(l){var z=this.variableOffsets[y];z?(A=mt(z.anchor,z.width,z.height,z.radialOffset,z.textBoxScale),u&&A._rotate(c?this.transform.angle:-this.transform.angle)):I=!1}gt(t.collisionBox.collisionVertexArray,v.text.placed,!I,A.x,A.y)}T.iconBox&&gt(t.collisionBox.collisionVertexArray,v.icon.placed,!1);var O=T.textCircles;if(O&&t.hasCollisionCircleData())for(var M=0;M<O.length;M+=5){var L=g||0===O[M+4];gt(t.collisionCircle.collisionVertexArray,v.text.placed,L)}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},yt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},yt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},yt.prototype.stillRecent=function(e){return this.commitTime+this.fadeDuration>e},yt.prototype.setStale=function(){this.stale=!0};var vt=Math.pow(2,25),bt=Math.pow(2,24),_t=Math.pow(2,17),xt=Math.pow(2,16),wt=Math.pow(2,9),St=Math.pow(2,8),kt=Math.pow(2,1);function Ct(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*vt+t*bt+r*_t+t*xt+r*wt+t*St+r*kt+t}var Pt=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Pt.prototype.continuePlacement=function(e,t,r,n,o){for(;this._currentTileIndex<e.length;){var i=e[this._currentTileIndex];if(t.placeLayerTile(n,i,r,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var Et=function(e,t,r,n,o,i,a){this.placement=new yt(e,o,i,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Et.prototype.isDone=function(){return this._done},Et.prototype.continuePlacement=function(t,r,n){for(var o=this,i=e.browser.now(),a=function(){var t=e.browser.now()-i;return!o._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Pt),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Et.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Tt=512/e.EXTENT/2,At=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var o=t.get(n),i=o.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)})}};At.prototype.getScaledCoordinates=function(t,r){var n=r.canonical.z-this.tileID.canonical.z,o=Tt/Math.pow(2,n);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*o),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*o)}},At.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),o=0;o<e.length;o++){var i=e.get(o);if(!i.crossTileID){var a=this.indexedSymbolInstances[i.key];if(a)for(var s=this.getScaledCoordinates(i,t),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=n&&Math.abs(c.coord.y-s.y)<=n&&!r[c.crossTileID]){r[c.crossTileID]=!0,i.crossTileID=c.crossTileID;break}}}}};var It=function(){this.maxCrossTileID=0};It.prototype.generate=function(){return++this.maxCrossTileID};var zt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};zt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],o={};for(var i in n){var a=n[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),o[a.tileID.key]=a}this.indexes[r]=o}this.lng=e},zt.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var o=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var a=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,o)}else{var u=a[e.scaledTo(Number(i)).key];u&&u.findMatches(t.symbolInstances,e,o)}}for(var c=0;c<t.symbolInstances.length;c++){var p=t.symbolInstances.get(c);p.crossTileID||(p.crossTileID=r.generate(),o[p.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new At(e,t.symbolInstances,t.bucketInstanceId),!0},zt.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,o=t.indexedSymbolInstances[r];n<o.length;n+=1){var i=o[n];delete this.usedCrossTileIDs[e][i.crossTileID]}},zt.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var o in n)e[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[o]),delete n[o],t=!0)}return t};var Ot=function(){this.layerIndexes={},this.crossTileIDs=new It,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ot.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new zt);var o=!1,i={};n.handleWrapJump(r);for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,u,this.crossTileIDs)&&(o=!0),i[u.bucketInstanceId]=!0)}return n.removeStaleBuckets(i)&&(o=!0),o},Ot.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var Mt=function(t,r){return e.emitValidationErrors(t,r&&r.filter(function(e){return"source.canvas"!==e.identifier}))},Lt=e.pick(Be,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ft=e.pick(Be,["setCenter","setZoom","setBearing","setPitch"]),Rt=function(t){function r(n,o){var i=this;void 0===o&&(o={}),t.call(this),this.map=n,this.dispatcher=new S((Le||(Le=new Me),Le),this),this.imageManager=new f,this.imageManager.setEventedParent(this),this.glyphManager=new v(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new w(256,512),this.crossTileSymbolIndex=new Ot,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=r.registerForPluginAvailability(function(e){for(var t in a.dispatcher.broadcast("loadRTLTextPlugin",e.pluginURL,e.completionCallback),a.sourceCaches)a.sourceCaches[t].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in i._layers){var o=i._layers[n];o.source===r.id&&i._validateLayer(o)}}}})}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=e.normalizeStyleURL(t,r.accessToken);var i=this.map._transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,o)})},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame(function(){n._request=null,n._load(t,!1!==r.validate)})},r.prototype._load=function(t,r){var n=this;if(!r||!Mt(this,e.validateStyle(t))){for(var o in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(o,t.sources[o],{validate:!1});t.sprite?this._spriteRequest=function(t,r,n){var o,i,a,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(r(e.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),function(e,t){l=null,a||(a=e,o=t,c())}),u=e.getImage(r(e.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),function(e,t){u=null,a||(a=e,i=t,c())});function c(){if(a)n(a);else if(o&&i){var t=e.browser.getImageData(i),r={};for(var s in o){var l=o[s],u=l.width,c=l.height,p=l.x,f=l.y,h=l.sdf,d=l.pixelRatio,m=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,m,{x:p,y:f},{x:0,y:0},{width:u,height:c}),r[s]={data:m,pixelRatio:d,sdf:h}}n(null,r)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t.sprite,this.map._transformRequest,function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var o in r)n.imageManager.addImage(o,r[o]);n.imageManager.setLoaded(!0),n.fire(new e.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=De(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={};for(var a=0,s=i;a<s.length;a+=1){var l=s[a];(l=e.createStyleLayer(l)).setEventedParent(this,{layer:{id:l.id}}),this._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var o=r.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var o=n[r],i=this._layers[o];"custom"!==i.type&&t.push(i.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);for(var i in(n.length||o.length)&&this._updateWorkerLayers(n,o),this._updatedSources){var a=this._updatedSources[i];"reload"===a?this._reloadSource(i):"clear"===a&&this._clearSource(i)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var u=0,c=this._order;u<c.length;u+=1){var p=c[u],f=this._layers[p];f.recalculate(t),!f.isHidden(t.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),Mt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=De(t.layers);var n=function(t,r){if(!t)return[{command:Be.setStyle,args:[r]}];var n=[];try{if(!e.deepEqual(t.version,r.version))return[{command:Be.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||n.push({command:Be.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||n.push({command:Be.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||n.push({command:Be.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||n.push({command:Be.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||n.push({command:Be.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||n.push({command:Be.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||n.push({command:Be.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||n.push({command:Be.setLight,args:[r.light]});var o={},i=[];!function(t,r,n,o){var i;for(i in r=r||{},t=t||{})t.hasOwnProperty(i)&&(r.hasOwnProperty(i)||Ue(i,n,o));for(i in r)r.hasOwnProperty(i)&&(t.hasOwnProperty(i)?e.deepEqual(t[i],r[i])||("geojson"===t[i].type&&"geojson"===r[i].type&&Ve(t,r,i)?n.push({command:Be.setGeoJSONSourceData,args:[i,r[i].data]}):Ne(i,r,n,o)):je(i,r,n))}(t.sources,r.sources,i,o);var a=[];t.layers&&t.layers.forEach(function(e){o[e.source]?n.push({command:Be.removeLayer,args:[e.id]}):a.push(e)}),n=n.concat(i),function(t,r,n){r=r||[];var o,i,a,s,l,u,c,p=(t=t||[]).map(Ge),f=r.map(Ge),h=t.reduce(We,{}),d=r.reduce(We,{}),m=p.slice(),y=Object.create(null);for(o=0,i=0;o<p.length;o++)a=p[o],d.hasOwnProperty(a)?i++:(n.push({command:Be.removeLayer,args:[a]}),m.splice(m.indexOf(a,i),1));for(o=0,i=0;o<f.length;o++)a=f[f.length-1-o],m[m.length-1-o]!==a&&(h.hasOwnProperty(a)?(n.push({command:Be.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-i),1)):i++,u=m[m.length-o],n.push({command:Be.addLayer,args:[d[a],u]}),m.splice(m.length-o,0,a),y[a]=!0);for(o=0;o<f.length;o++)if(s=h[a=f[o]],l=d[a],!y[a]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(c in qe(s.layout,l.layout,n,a,null,Be.setLayoutProperty),qe(s.paint,l.paint,n,a,null,Be.setPaintProperty),e.deepEqual(s.filter,l.filter)||n.push({command:Be.setFilter,args:[a,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:Be.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?qe(s[c],l[c],n,a,c.slice(6),Be.setPaintProperty):e.deepEqual(s[c],l[c])||n.push({command:Be.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?qe(s[c],l[c],n,a,c.slice(6),Be.setPaintProperty):e.deepEqual(s[c],l[c])||n.push({command:Be.setLayerProperty,args:[a,c,l[c]]}))}else n.push({command:Be.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],n.push({command:Be.addLayer,args:[l,u]})}(a,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Be.setStyle,args:[r]}]}return n}(this.serialize(),t).filter(function(e){return!(e.command in Ft)});if(0===n.length)return!1;var o=n.filter(function(e){return!(e.command in Lt)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(e){return e.command}).join(", ")+".");return n.forEach(function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)}),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var o=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,r,null,n))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[t]=new Ae(t,r,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var o=t.id;if(this.getLayer(o))this.fire(new e.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else{var i;if("custom"===t.type){if(Mt(this,e.validateCustomStyleLayer(t)))return;i=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(o,t.source),t=e.clone$1(t),t=e.extend(t,{source:o})),this._validate(e.validateStyle.layer,"layers."+o,t,{arrayIndex:-1},n))return;i=e.createStyleLayer(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}})}var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source&&"custom"!==i.type){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var o=r?this._order.indexOf(r):this._order.length;r&&-1===o?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(o,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var o=this.getLayer(t);o?o.minzoom===r&&o.maxzoom===n||(null!=r&&(o.minzoom=r),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var o=this.getLayer(t);if(o){if(!e.deepEqual(o.filter,r))return null==r?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateStyle.filter,"layers."+o.id+".filter",r,null,n)||(o.filter=e.clone$1(r),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,o){void 0===o&&(o={}),this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.getLayoutProperty(r),n)||(i.setLayoutProperty(r,n,o),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,o){void 0===o&&(o={}),this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.getPaintProperty(r),n)||(i.setPaintProperty(r,n,o)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,o=t.sourceLayer,i=this.sourceCaches[n],a=parseInt(t.id,10);if(void 0!==i){var s=i.getSource().type;"geojson"===s&&o?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||o?isNaN(a)||a<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(o,a,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,o=this.sourceCaches[n];if(void 0!==o){var i=o.getSource().type,a="vector"===i?t.sourceLayer:void 0,s=parseInt(t.id,10);"vector"!==i||a?void 0!==t.id&&isNaN(s)||s<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be non-negative."))):r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):o.removeFeatureState(a,s,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,o=this.sourceCaches[r],i=parseInt(t.id,10);if(void 0!==o)if("vector"!==o.getSource().type||n){if(!(isNaN(i)||i<0))return o.getFeatureState(n,i);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._serializeLayers(this._order)},function(e){return void 0!==e})},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},o=[],i=this._order.length-1;i>=0;i--){var a=this._order[i];if(r(a)){n[a]=i;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,p=u;c<p.length;c+=1){var f=p[c];o.push(f)}}}}o.sort(function(e,t){return t.intersectionZ-e.intersectionZ});for(var h=[],d=this._order.length-1;d>=0;d--){var m=this._order[d];if(r(m))for(var y=o.length-1;y>=0;y--){var g=o[y].feature;if(n[g.layer.id]<d)break;h.push(g),o.pop()}else for(var v=0,b=e;v<b.length;v+=1){var _=b[v][m];if(_)for(var x=0,w=_;x<w.length;x+=1){var S=w[x];h.push(S.feature)}}}return h},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter);var o={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,a=r.layers;i<a.length;i+=1){var s=a[i],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[l.source]=!0}}var u=[];for(var c in this.sourceCaches)r.layers&&!o[c]||u.push(R(this.sourceCaches[c],this._layers,t,r,n));return this.placement&&u.push(function(e,t,r,n,o,i){for(var a={},s=o.queryRenderedSymbols(r),l=[],u=0,c=Object.keys(s).map(Number);u<c.length;u+=1){var p=c[u];l.push(i[p])}l.sort(D);for(var f=function(){var t=d[h],r=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,n.filter,n.layers,e);for(var o in r){var i=a[o]=a[o]||[],l=r[o];l.sort(function(e,r){var n=t.featureSortOrder;if(n){var o=n.indexOf(e.featureIndex);return n.indexOf(r.featureIndex)-o}return r.featureIndex-e.featureIndex});for(var u=0,c=l;u<c.length;u+=1){var p=c[u];i.push(p)}}},h=0,d=l;h<d.length;h+=1)f();var m=function(r){a[r].forEach(function(n){var o=n.feature,i=e[r],a=t[i.source].getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=a})};for(var y in a)m(y);return a}(this._layers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),n=[],o={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),o=!1;for(var i in t)if(!e.deepEqual(t[i],n[i])){o=!0;break}if(o){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(a)}},r.prototype._validate=function(t,r,n,o,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Mt(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},o)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,o){for(var i=!1,a=!1,s={},l=0,u=this._order;l<u.length;l+=1){var c=u[l],p=this._layers[c];if("symbol"===p.type){if(!s[p.source]){var f=this.sourceCaches[p.source];s[p.source]=f.getRenderableIds(!0).map(function(e){return f.getTileByID(e)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}var h=this.crossTileSymbolIndex.addLayer(p,s[p.source],t.center.lng);i=i||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged||0===n;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now()))&&(this.pauseablePlacement=new Et(t,this._order,d,r,n,o,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),a=!0),i&&this.pauseablePlacement.placement.setStale()),a||i)for(var m=0,y=this._order;m<y.length;m+=1){var g=y[m],v=this._layers[g];"symbol"===v.type&&this.placement.updateLayerOpacities(v,s[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);Rt.getSourceType=function(e){return M[e]},Rt.setSourceType=function(e,t){M[e]=t},Rt.registerForPluginAvailability=e.registerForPluginAvailability;var Dt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Bt=ur("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),jt=ur("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ut=ur("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Nt=ur("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Vt=ur("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qt=ur("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Gt=ur("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Wt=ur("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ht=ur("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Zt=ur("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=ur("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Xt=ur("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Yt=ur("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Jt=ur("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),$t=ur("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Qt=ur("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),er=ur("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),tr=ur("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),rr=ur("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),nr=ur("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),or=ur("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),ir=ur("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),ar=ur("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),sr=ur("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),lr=ur("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function ur(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n={};return{fragmentSource:e=e.replace(r,function(e,t,r,o,i){return n[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"}),vertexSource:t=t.replace(r,function(e,t,r,o,i){var a="float"===o?"vec2":"vec4",s=i.match(/color/)?"color":a;return n[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = a_"+i+";\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"})}}var cr=Object.freeze({prelude:Bt,background:jt,backgroundPattern:Ut,circle:Nt,clippingMask:Vt,heatmap:qt,heatmapTexture:Gt,collisionBox:Wt,collisionCircle:Ht,debug:Zt,fill:Kt,fillOutline:Xt,fillOutlinePattern:Yt,fillPattern:Jt,fillExtrusion:$t,fillExtrusionPattern:Qt,hillshadePrepare:er,hillshade:tr,line:rr,lineGradient:nr,linePattern:or,lineSDF:ir,raster:ar,symbolIcon:sr,symbolSDF:lr}),pr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};pr.prototype.bind=function(e,t,r,n,o,i,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,u=0;!l&&u<n.length;u++)this.boundPaintVertexBuffers[u]!==n[u]&&(l=!0);var c=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||c?this.freshBind(t,r,n,o,i,a,s):(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},pr.prototype.freshBind=function(e,t,r,n,o,i,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}t.enableAttributes(c,e);for(var f=0,h=r;f<h.length;f+=1)h[f].enableAttributes(c,e);i&&i.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,o);for(var d=0,m=r;d<m.length;d+=1){var y=m[d];y.bind(),y.setVertexAttribPointers(c,e,o)}i&&(i.bind(),i.setVertexAttribPointers(c,e,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,o)),u.currentNumAttributes=l},pr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var fr=function(t,r,n,o,i){var a=t.gl;this.program=a.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+e.browser.devicePixelRatio.toFixed(1));i&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(Bt.fragmentSource,r.fragmentSource).join("\n"),u=s.concat(Bt.vertexSource,r.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,l),a.compileShader(c),a.attachShader(this.program,c);var p=a.createShader(a.VERTEX_SHADER);a.shaderSource(p,u),a.compileShader(p),a.attachShader(this.program,p);for(var f=n.layoutAttributes||[],h=0;h<f.length;h++)a.bindAttribLocation(this.program,h,f[h].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},m=0;m<this.numAttributes;m++){var y=a.getActiveAttrib(this.program,m);y&&(this.attributes[y.name]=a.getAttribLocation(this.program,y.name))}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),v=0;v<g;v++){var b=a.getActiveUniform(this.program,v);b&&(d[b.name]=a.getUniformLocation(this.program,b.name))}this.fixedUniforms=o(t,d),this.binderUniforms=n.getUniforms(t,d)};function hr(t,r,n){var o=1/ut(n,1,r.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,r.transform.tileZoom)/i,s=a*(n.tileID.canonical.x+n.tileID.wrap*i),l=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,o,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}fr.prototype.draw=function(e,t,r,n,o,i,a,s,l,u,c,p,f,h,d,m){var y,g=e.gl;for(var v in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(o),e.setCullFace(i),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);h&&h.setUniforms(e,this.binderUniforms,p,{zoom:f});for(var b=(y={},y[g.LINES]=2,y[g.TRIANGLES]=3,y[g.LINE_STRIP]=1,y)[t],_=0,x=c.get();_<x.length;_+=1){var w=x[_],S=w.vaos||(w.vaos={});(S[s]||(S[s]=new pr)).bind(e,this,l,h?h.getPaintVertexBuffers():[],u,w.vertexOffset,d,m),g.drawElements(t,w.primitiveLength*b,g.UNSIGNED_SHORT,w.primitiveOffset*b*2)}};var dr=function(t,r,n,o){var i=r.style.light,a=i.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$1();"viewport"===i.properties.get("anchor")&&e.fromRotation(l,-r.transform.angle),e.transformMat3(s,s,l);var u=i.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+n,u_opacity:o}},mr=function(t,r,n,o,i,a,s){return e.extend(dr(t,r,n,o),hr(a,r,s),{u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8})},yr=function(e){return{u_matrix:e}},gr=function(t,r,n,o){return e.extend(yr(t),hr(n,r,o))},vr=function(e,t){return{u_matrix:e,u_world:t}},br=function(t,r,n,o,i){return e.extend(gr(t,r,n,o),{u_world:i})},_r=function(e,t,r,n){var o,i,a=e.transform;if("map"===n.paint.get("circle-pitch-alignment")){var s=ut(r,1,a.zoom);o=!0,i=[s,s]}else o=!1,i=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,r,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_extrude_scale:i}},xr=function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},wr=function(e,t,r){var n=ut(r,1,t.zoom),o=Math.pow(2,t.zoom-r.tileID.overscaledZ),i=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*o),t.pixelsToGLUnits[1]/(n*o)],u_overscale_factor:i}},Sr=function(e,t){return{u_matrix:e,u_color:t}},kr=function(e){return{u_matrix:e}},Cr=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:ut(t,1,r),u_intensity:n}},Pr=function(e,t,r){var n=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),i=r.paint.get("hillshade-accent-color"),a=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(a-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:Tr(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),a],u_shadow:n,u_highlight:o,u_accent:i}},Er=function(t,r){var n=t.dem.stride,o=e.create();return e.ortho(o,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(o,o,[0,-e.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[n,n],u_zoom:t.tileID.overscaledZ,u_maxzoom:r}};function Tr(t,r){var n=Math.pow(2,r.canonical.z),o=r.canonical.y;return[new e.MercatorCoordinate(0,o/n).toLngLat().lat,new e.MercatorCoordinate(0,(o+1)/n).toLngLat().lat]}var Ar=function(e,t,r){var n=e.transform;return{u_matrix:Lr(e,t,r),u_ratio:1/ut(t,1,n.zoom),u_gl_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]]}},Ir=function(t,r,n){return e.extend(Ar(t,r,n),{u_image:0})},zr=function(t,r,n,o){var i=t.transform,a=Mr(r,i);return{u_matrix:Lr(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/ut(r,1,i.zoom),u_image:0,u_scale:[e.browser.devicePixelRatio,a,o.fromScale,o.toScale],u_fade:o.t,u_gl_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Or=function(t,r,n,o,i){var a=t.transform,s=t.lineAtlas,l=Mr(r,a),u="round"===n.layout.get("line-cap"),c=s.getDash(o.from,u),p=s.getDash(o.to,u),f=c.width*i.fromScale,h=p.width*i.toScale;return e.extend(Ar(t,r,n),{u_patternscale_a:[l/f,-c.height/2],u_patternscale_b:[l/h,-p.height/2],u_sdfgamma:s.width/(256*Math.min(f,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:p.y,u_mix:i.t})};function Mr(e,t){return 1/ut(e,1,t.tileZoom)}function Lr(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var Fr=function(e,t,r,n,o){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(i=o.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:Rr(o.paint.get("raster-hue-rotate"))};var i,a};function Rr(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var Dr=function(e,t,r,n,o,i,a,s,l,u){var c=o.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:c.width/c.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:u,u_texture:0}},Br=function(t,r,n,o,i,a,s,l,u,c,p){var f=i.transform;return e.extend(Dr(t,r,n,o,i,a,s,l,u,c),{u_gamma_scale:o?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_is_halo:+p})},jr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Ur=function(t,r,n,o,i,a){return e.extend(function(e,t,r,n){var o=r.imageManager.getPattern(e.from),i=r.imageManager.getPattern(e.to),a=r.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/u,p=c*(n.tileID.canonical.x+n.tileID.wrap*u),f=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ut(n,1,r.transform.tileZoom),u_pixel_coord_upper:[p>>16,f>>16],u_pixel_coord_lower:[65535&p,65535&f]}}(o,a,n,i),{u_matrix:t,u_opacity:r})},Nr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:xr,collisionCircle:xr,debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_maxzoom:new e.Uniform1f(t,r.u_maxzoom)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_image:new e.Uniform1i(t,r.u_image),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,r.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,r.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function Vr(t,r){for(var n=t.sort(function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0}),o=0;o<n.length;o++){var i={},a=n[o],s=n.slice(o+1);qr(a.tileID.wrapped(),a.tileID,s,new e.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),i),a.setMask(i,r)}}function qr(t,r,n,o,i){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var l=r.children(1/0),u=0;u<l.length;u++)qr(t,l[u],n.slice(a),o,i);return}}var c=r.overscaledZ-t.overscaledZ,p=new e.CanonicalTileID(c,r.canonical.x-(t.canonical.x<<c),r.canonical.y-(t.canonical.y<<c));i[p.key]=i[p.key]||p}function Gr(e,t,r,n,o){for(var i=e.context,a=i.gl,s=o?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),l=0;l<n.length;l++){var u=n[l],c=t.getTile(u),p=c.getBucket(r);if(p){var f=o?p.collisionCircle:p.collisionBox;f&&s.draw(i,o?a.TRIANGLES:a.LINES,ke.disabled,Ce.disabled,e.colorModeForRenderPass(),Ee.disabled,wr(u.posMatrix,e.transform,c),r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,null,e.transform.zoom,null,null,f.collisionVertexBuffer)}}}var Wr=e.identity(new Float32Array(16)),Hr=e.properties.layout;function Zr(t,r,n,o,i,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*r,u=-(s.verticalAlign-.5)*n,c=e.evaluateRadialOffset(t,o);return new e.Point((l/i+c[0])*a,(u/i+c[1])*a)}function Kr(t,r,n,o,i,a,s,l,u,c){var p=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray;f.clear();for(var h=0;h<p.length;h++){var d=p.get(h),m=!d.hidden&&d.crossTileID?o[d.crossTileID]:null;if(m){var y=new e.Point(d.anchorX,d.anchorY),g=Ye(y,n?l:s),v=.5+a.cameraToCenterDistance/g.signedDistanceFromCamera*.5,b=i.evaluateSizeForFeature(t.textSizeData,c,d)*v/e.ONE_EM;n&&(b*=t.tilePixelRatio/u);for(var _=m.width,x=m.height,w=m.radialOffset,S=m.textBoxScale,k=Zr(m.anchor,_,x,w,S,b),C=n?Ye(y.add(k),s).point:g.point.add(r?k.rotate(-a.angle):k),P=0;P<d.numGlyphs;P++)e.addDynamicAttributes(f,C,0)}else it(d.numGlyphs,f)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function Xr(t,r,n,o,i,a,s,l,u,c,p,f,h){for(var d,m,y=t.context,g=y.gl,v=t.transform,b="map"===l,_="map"===u,x=b&&"point"!==n.layout.get("symbol-placement"),w=b&&!_&&!x,S=void 0!==n.layout.get("symbol-sort-key").constantOr(1),k=t.depthModeForSublayer(0,ke.ReadOnly),C=n.layout.get("text-variable-anchor"),P=[],E=0,T=o;E<T.length;E+=1){var A=T[E],I=r.getTile(A),z=I.getBucket(n);if(z){var O=i?z.text:z.icon;if(O&&O.segments.get().length){var M=O.programConfigurations.get(n.id),L=i||z.sdfIcons,F=i?z.textSizeData:z.iconSizeData;d||(d=t.useProgram(L?"symbolSDF":"symbolIcon",M),m=e.evaluateSizeForZoom(F,v.zoom,Hr.properties[i?"text-size":"icon-size"])),y.activeTexture.set(g.TEXTURE0);var R=void 0,D=void 0,B=void 0;if(i)D=I.glyphAtlasTexture,B=g.LINEAR,R=I.glyphAtlasTexture.size;else{var j=1!==n.layout.get("icon-size").constantOr(0)||z.iconsNeedLinear,U=_||0!==v.pitch;D=I.imageAtlasTexture,B=L||t.options.rotating||t.options.zooming||j||U?g.LINEAR:g.NEAREST,R=I.imageAtlasTexture.size}var N=ut(I,1,t.transform.zoom),V=Ke(A.posMatrix,_,b,t.transform,N),q=Xe(A.posMatrix,_,b,t.transform,N);if(x)$e(z,A.posMatrix,t,i,V,q,_,c);else if(i&&m&&C){var G=Math.pow(2,v.zoom-I.tileID.overscaledZ);Kr(z,b,_,h,e.symbolSize,v,V,A.posMatrix,G,m)}var W=t.translatePosMatrix(A.posMatrix,I,a,s),H=x||i&&C?Wr:V,Z=t.translatePosMatrix(q,I,a,s,!0),K=L&&0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),X={program:d,buffers:O,uniformValues:L?Br(F.functionType,m,w,_,t,W,H,Z,i,R,!0):Dr(F.functionType,m,w,_,t,W,H,Z,i,R),atlasTexture:D,atlasInterpolation:B,isSDF:L,hasHalo:K};if(S)for(var Y=0,J=O.segments.get();Y<J.length;Y+=1){var $=J[Y];P.push({segments:new e.SegmentVector([$]),sortKey:$.sortKey,state:X})}else P.push({segments:O.segments,sortKey:0,state:X})}}}S&&P.sort(function(e,t){return e.sortKey-t.sortKey});for(var Q=0,ee=P;Q<ee.length;Q+=1){var te=ee[Q],re=te.state;if(re.atlasTexture.bind(re.atlasInterpolation,g.CLAMP_TO_EDGE),re.isSDF){var ne=re.uniformValues;re.hasHalo&&(ne.u_is_halo=1,Yr(re.buffers,te.segments,n,t,re.program,k,p,f,ne)),ne.u_is_halo=0}Yr(re.buffers,te.segments,n,t,re.program,k,p,f,re.uniformValues)}}function Yr(e,t,r,n,o,i,a,s,l){var u=n.context,c=u.gl;o.draw(u,c.TRIANGLES,i,a,s,Ee.disabled,l,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Jr(e,t,r,n,o,i,a){var s,l,u,c,p,f=e.context.gl,h=r.paint.get("fill-pattern"),d=h&&h.constantOr(1),m=r.getCrossfadeParameters();a?(l=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=f.LINES):(l=d?"fillPattern":"fill",s=f.TRIANGLES);for(var y=0,g=n;y<g.length;y+=1){var v=g[y],b=t.getTile(v);if(!d||b.patternsLoaded()){var _=b.getBucket(r);if(_){var x=_.programConfigurations.get(r.id),w=e.useProgram(l,x);d&&(e.context.activeTexture.set(f.TEXTURE0),b.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(m));var S=h.constantOr(null);if(S&&b.imageAtlas){var k=b.imageAtlas.patternPositions[S.to],C=b.imageAtlas.patternPositions[S.from];k&&C&&x.setConstantPatternPositions(k,C)}var P=e.translatePosMatrix(v.posMatrix,b,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(a){c=_.indexBuffer2,p=_.segments2;var E=[f.drawingBufferWidth,f.drawingBufferHeight];u="fillOutlinePattern"===l&&d?br(P,e,m,b,E):vr(P,E)}else c=_.indexBuffer,p=_.segments,u=d?gr(P,e,m,b):yr(P);w.draw(e.context,s,o,e.stencilModeForClipping(v),i,Ee.disabled,u,r.id,_.layoutVertexBuffer,c,p,r.paint,e.transform.zoom,x)}}}}function $r(e,t,r,n,o,i,a){for(var s=e.context,l=s.gl,u=r.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=r.getCrossfadeParameters(),f=r.paint.get("fill-extrusion-opacity"),h=0,d=n;h<d.length;h+=1){var m=d[h],y=t.getTile(m),g=y.getBucket(r);if(g){var v=g.programConfigurations.get(r.id),b=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(e.context.activeTexture.set(l.TEXTURE0),y.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePatternPaintBuffers(p));var _=u.constantOr(null);if(_&&y.imageAtlas){var x=y.imageAtlas.patternPositions[_.to],w=y.imageAtlas.patternPositions[_.from];x&&w&&v.setConstantPatternPositions(x,w)}var S=e.translatePosMatrix(m.posMatrix,y,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),k=r.paint.get("fill-extrusion-vertical-gradient"),C=c?mr(S,e,k,f,m,p,y):dr(S,e,k,f);b.draw(s,s.gl.TRIANGLES,o,i,a,Ee.backCCW,C,r.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,r.paint,e.transform.zoom,v)}}}function Qr(e,t,r,n,o,i){var a=e.context,s=a.gl,l=t.fbo;if(l){var u=e.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=Pr(e,t,r);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?u.draw(a,s.TRIANGLES,n,o,i,Ee.disabled,c,r.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):u.draw(a,s.TRIANGLES,n,o,i,Ee.disabled,c,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function en(t,r,n,o,i,a,s){var l=t.context,u=l.gl;if(r.dem&&r.dem.data){var c=r.dem.dim,p=r.dem.stride,f=r.dem.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(p),r.demTexture){var h=r.demTexture;h.update(f,{premultiply:!1}),h.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(l,f,u.RGBA,{premultiply:!1}),r.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);var d=r.fbo;if(!d){var m=new e.Texture(l,{width:c,height:c,data:null},u.RGBA);m.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=r.fbo=l.createFramebuffer(c,c)).colorAttachment.set(m.texture)}l.bindFramebuffer.set(d.framebuffer),l.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,i,a,s,Ee.disabled,Er(r,o),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function tn(t,r,n,o,i){var a=o.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),l=(s-t.timeAdded)/a,u=r?(s-r.timeAdded)/a:-1,c=n.getSource(),p=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),f=!r||Math.abs(r.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),h=f&&t.refreshedUponExpiration?1:e.clamp(f?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function rn(t,r,n){var o=t.context,i=o.gl,a=n.posMatrix,s=t.useProgram("debug"),l=ke.disabled,u=Ce.disabled,c=t.colorModeForRenderPass(),p="$debug";s.draw(o,i.LINE_STRIP,l,u,c,Ee.disabled,Sr(a,e.Color.red),p,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);for(var f=r.getTileByID(n.key).latestRawTileData,h=f&&f.byteLength||0,d=Math.floor(h/1024),m=function(e,t,r,n){n=n||1;var o,i,a,s,l,u,c,p,f=[];for(o=0,i=e.length;o<i;o++)if(l=nn[e[o]]){for(p=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?p=null:(u=t+l[1][a]*n,c=200-l[1][a+1]*n,p&&f.push(p.x,p.y,u,c),p={x:u,y:c});t+=l[0]*n}return f}(n.toString()+" "+d+"kb",50,0,5),y=new e.StructArrayLayout2i4,g=new e.StructArrayLayout2ui4,v=0;v<m.length;v+=2)y.emplaceBack(m[v],m[v+1]),g.emplaceBack(v,v+1);for(var b=o.createVertexBuffer(y,Dt.members),_=o.createIndexBuffer(g),x=e.SegmentVector.simpleSegment(0,0,y.length/2,y.length/2),w=r.getTile(n).tileSize,S=e.EXTENT/(Math.pow(2,t.transform.zoom-n.overscaledZ)*w),k=[[-1,-1],[-1,1],[1,-1],[1,1]],C=0;C<k.length;C++){var P=k[C];s.draw(o,i.LINES,l,u,c,Ee.disabled,Sr(e.translate([],a,[S*P[0],S*P[1],0]),e.Color.white),p,b,_,x)}s.draw(o,i.LINES,l,u,c,Ee.disabled,Sr(a,e.Color.black),p,b,_,x)}var nn={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},on={symbol:function(e,t,r,n,o){if("translucent"===e.renderPass){var i=Ce.disabled,a=e.colorModeForRenderPass();0!==r.paint.get("icon-opacity").constantOr(1)&&Xr(e,t,r,n,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),i,a,o),0!==r.paint.get("text-opacity").constantOr(1)&&Xr(e,t,r,n,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),i,a,o),t.map.showCollisionBoxes&&function(e,t,r,n){Gr(e,t,r,n,!1),Gr(e,t,r,n,!0)}(e,t,r,n)}},circle:function(e,t,r,n){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),i=r.paint.get("circle-stroke-width"),a=r.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==i.constantOr(1)&&0!==a.constantOr(1))for(var s=e.context,l=s.gl,u=e.depthModeForSublayer(0,ke.ReadOnly),c=Ce.disabled,p=e.colorModeForRenderPass(),f=0;f<n.length;f++){var h=n[f],d=t.getTile(h),m=d.getBucket(r);if(m){var y=m.programConfigurations.get(r.id);e.useProgram("circle",y).draw(s,l.TRIANGLES,u,c,p,Ee.disabled,_r(e,h,d,r),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,r.paint,e.transform.zoom,y)}}}},heatmap:function(t,r,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,a=i.gl,s=t.depthModeForSublayer(0,ke.ReadOnly),l=Ce.disabled,u=new Pe([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var o=r.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),e.bindFramebuffer.set(o.framebuffer);else{var i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,r,n,o){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width/4,r.height/4,0,i.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),o.colorAttachment.set(n),t.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,o.colorAttachment.setDirty(),e(t,r,n,o))}(e,t,i,o)}}(i,t,n),i.clear({color:e.Color.transparent});for(var c=0;c<o.length;c++){var p=o[c];if(!r.hasRenderableParent(p)){var f=r.getTile(p),h=f.getBucket(n);if(h){var d=h.programConfigurations.get(n.id),m=t.useProgram("heatmap",d),y=t.transform.zoom;m.draw(i,a.TRIANGLES,s,l,u,Ee.disabled,Cr(p.posMatrix,f,y,n.paint.get("heatmap-intensity")),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,n.paint,t.transform.zoom,d)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,o=n.gl,i=r.heatmapFbo;if(i){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,o.TRIANGLES,ke.disabled,Ce.disabled,t.colorModeForRenderPass(),Ee.disabled,function(t,r,n,o){var i=e.create();e.ortho(i,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:i,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:n,u_color_ramp:o,u_opacity:r.paint.get("heatmap-opacity")}}(t,r,0,1),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,o){if("translucent"===t.renderPass){var i=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==a.constantOr(1)){var s=t.depthModeForSublayer(0,ke.ReadOnly),l=t.colorModeForRenderPass(),u=n.paint.get("line-dasharray"),c=n.paint.get("line-pattern"),p=c.constantOr(1),f=n.paint.get("line-gradient"),h=n.getCrossfadeParameters(),d=u?"lineSDF":p?"linePattern":f?"lineGradient":"line",m=t.context,y=m.gl,g=!0;if(f){m.activeTexture.set(y.TEXTURE0);var v=n.gradientTexture;if(!n.gradient)return;v||(v=n.gradientTexture=new e.Texture(m,n.gradient,y.RGBA)),v.bind(y.LINEAR,y.CLAMP_TO_EDGE)}for(var b=0,_=o;b<_.length;b+=1){var x=_[b],w=r.getTile(x);if(!p||w.patternsLoaded()){var S=w.getBucket(n);if(S){var k=S.programConfigurations.get(n.id),C=t.context.program.get(),P=t.useProgram(d,k),E=g||P.program!==C,T=c.constantOr(null);if(T&&w.imageAtlas){var A=w.imageAtlas.patternPositions[T.to],I=w.imageAtlas.patternPositions[T.from];A&&I&&k.setConstantPatternPositions(A,I)}var z=u?Or(t,w,n,u,h):p?zr(t,w,n,h):f?Ir(t,w,n):Ar(t,w,n);u&&(E||t.lineAtlas.dirty)?(m.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(m)):p&&(m.activeTexture.set(y.TEXTURE0),w.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),k.updatePatternPaintBuffers(h)),P.draw(m,y.TRIANGLES,s,t.stencilModeForClipping(x),l,Ee.disabled,z,n.id,S.layoutVertexBuffer,S.indexBuffer,S.segments,n.paint,t.transform.zoom,k),g=!1}}}}}},fill:function(t,r,n,o){var i=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===i.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?ke.ReadWrite:ke.ReadOnly);Jr(t,r,n,o,c,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var p=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,ke.ReadOnly);Jr(t,r,n,o,p,s,!0)}}},"fill-extrusion":function(e,t,r,n){var o=r.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===e.renderPass){var i=new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D);if(1!==o||r.paint.get("fill-extrusion-pattern").constantOr(1))$r(e,t,r,n,i,Ce.disabled,Pe.disabled),$r(e,t,r,n,i,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();$r(e,t,r,n,i,Ce.disabled,a)}}},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var o=e.context,i=t.getSource().maxzoom,a=e.depthModeForSublayer(0,ke.ReadOnly),s=Ce.disabled,l=e.colorModeForRenderPass(),u=0,c=n;u<c.length;u+=1){var p=c[u],f=t.getTile(p);f.needsHillshadePrepare&&"offscreen"===e.renderPass?en(e,f,r,i,a,s,l):"translucent"===e.renderPass&&Qr(e,f,r,a,s,l)}o.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity"))for(var o=e.context,i=o.gl,a=t.getSource(),s=e.useProgram("raster"),l=Ce.disabled,u=e.colorModeForRenderPass(),c=n.length&&n[0].overscaledZ,p=!e.options.moving,f=0,h=n;f<h.length;f+=1){var d=h[f],m=e.depthModeForSublayer(d.overscaledZ-c,1===r.paint.get("raster-opacity")?ke.ReadWrite:ke.ReadOnly,i.LESS),y=t.getTile(d),g=e.transform.calculatePosMatrix(d.toUnwrapped(),p);y.registerFadeDuration(r.paint.get("raster-fade-duration"));var v=t.findLoadedParent(d,0),b=tn(y,v,t,r,e.transform),_=void 0,x=void 0,w="nearest"===r.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;o.activeTexture.set(i.TEXTURE0),y.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(i.TEXTURE1),v?(v.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),_=Math.pow(2,v.tileID.overscaledZ-y.tileID.overscaledZ),x=[y.tileID.canonical.x*_%1,y.tileID.canonical.y*_%1]):y.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);var S=Fr(g,x||[0,0],_||1,b,r);a instanceof I?s.draw(o,i.TRIANGLES,m,l,u,Ee.disabled,S,r.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):y.maskedBoundsBuffer&&y.maskedIndexBuffer&&y.segments?s.draw(o,i.TRIANGLES,m,l,u,Ee.disabled,S,r.id,y.maskedBoundsBuffer,y.maskedIndexBuffer,y.segments,r.paint,e.transform.zoom):s.draw(o,i.TRIANGLES,m,l,u,Ee.disabled,S,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var i=e.context,a=i.gl,s=e.transform,l=s.tileSize,u=r.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=u||1!==n.a||1!==o?"translucent":"opaque";if(e.renderPass===c){var p=Ce.disabled,f=e.depthModeForSublayer(0,"opaque"===c?ke.ReadWrite:ke.ReadOnly),h=e.colorModeForRenderPass(),d=e.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(i.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var y=r.getCrossfadeParameters(),g=0,v=m;g<v.length;g+=1){var b=v[g],_=e.transform.calculatePosMatrix(b.toUnwrapped()),x=u?Ur(_,o,e,u,{tileID:b,tileSize:l},y):jr(_,o,n);d.draw(i,a.TRIANGLES,f,p,h,Ee.disabled,x,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)rn(e,t,r[n])},custom:function(e,t,r){var n=e.context,o=r.implementation;if("offscreen"===e.renderPass){var i=o.prerender;i&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),i.call(o,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Ce.disabled);var a="3d"===o.renderingMode?new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ke.ReadOnly);n.setDepthMode(a),o.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},an=function(t,r){this.context=new Te(t),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=Ae.maxUnderzooming+Ae.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new Ot};function sn(e,t){if(e.y>t.y){var r=e;e=t,t=r}return{x0:e.x,y0:e.y,x1:t.x,y1:t.y,dx:t.x-e.x,dy:t.y-e.y}}function ln(e,t,r,n,o){var i=Math.max(r,Math.floor(t.y0)),a=Math.min(n,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var l=e.dx/e.dy,u=t.dx/t.dy,c=e.dx>0,p=t.dx<0,f=i;f<a;f++){var h=l*Math.max(0,Math.min(e.dy,f+c-e.y0))+e.x0,d=u*Math.max(0,Math.min(t.dy,f+p-t.y0))+t.x0;o(Math.floor(d),Math.ceil(h),f)}}function un(e,t,r,n,o,i){var a,s=sn(e,t),l=sn(t,r),u=sn(r,e);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&ln(u,s,n,o,i),l.dy&&ln(u,l,n,o,i)}an.prototype.resize=function(t,r){var n=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,i=this.style._order;o<i.length;o+=1){var a=i[o];this.style._layers[a].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},an.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Dt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Dt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(o,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,Dt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new Ce({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},an.prototype.clearStencil=function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,ke.disabled,this.stencilClearMode,Pe.disabled,Ee.disabled,kr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},an.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(Pe.disabled),r.setDepthMode(ke.disabled);var o=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var i=0,a=t;i<a.length;i+=1){var s=a[i],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;o.draw(r,n.TRIANGLES,ke.disabled,new Ce({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Pe.disabled,Ee.disabled,kr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},an.prototype.stencilModeFor3D=function(){this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Ce({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},an.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Ce({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},an.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Pe([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Pe.unblended:Pe.alphaBlended},an.prototype.depthModeForSublayer=function(e,t,r){if(!this.opaquePassEnabledForLayer())return ke.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ke(r||this.context.gl.LEQUAL,t,[n,n])},an.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},an.prototype.render=function(t,r){this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var n=this.style._order,o=this.style.sourceCaches;for(var i in o){var a=o[i];a.used&&a.prepare(this.context)}var s={},l={},u={};for(var c in o){var p=o[c];s[c]=p.getVisibleCoordinates(),l[c]=s[c].slice().reverse(),u[c]=p.getVisibleCoordinates(!0).reverse()}for(var f in o){var h=o[f],d=h.getSource();if("raster"===d.type||"raster-dem"===d.type){for(var m=[],y=0,g=s[f];y<g.length;y+=1){var v=g[y];m.push(h.getTile(v))}Vr(m,this.context)}}this.opaquePassCutoff=1/0;for(var b=0;b<n.length;b++){var _=n[b];if(this.style._layers[_].is3D()){this.opaquePassCutoff=b;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var x=0,w=n;x<w.length;x+=1){var S=w[x],k=this.style._layers[S];if(k.hasOffscreenPass()&&!k.isHidden(this.transform.zoom)){var C=l[k.source];("custom"===k.type||C.length)&&this.renderLayer(this,o[k.source],k,C)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){var P=this.style._layers[n[this.currentLayer]],E=o[P.source],T=s[P.source];this._renderTileClippingMasks(P,T),this.renderLayer(this,E,P,T)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){var A=this.style._layers[n[this.currentLayer]],I=o[A.source],z=("symbol"===A.type?u:l)[A.source];this._renderTileClippingMasks(A,s[A.source]),this.renderLayer(this,I,A,z)}if(this.options.showTileBoundaries)for(var O in o){on.debug(this,o[O],s[O]);break}this.setCustomLayerDefaults()},an.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},an.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,on[r.type](e,t,r,n,this.style.placement.variableOffsets))},an.prototype.translatePosMatrix=function(t,r,n,o,i){if(!n[0]&&!n[1])return t;var a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[i?n[0]:ut(r,n[0],this.transform.zoom),i?n[1]:ut(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},an.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},an.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},an.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from),r=this.imageManager.getPattern(e.to);return!t||!r},an.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var r=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new fr(this.context,cr[e],t,Nr[e],this._showOverdrawInspector)),this.cache[r]},an.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},an.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)};var cn=function(t,r,n){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=r||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},pn={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};cn.prototype.clone=function(){var e=new cn(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},pn.minZoom.get=function(){return this._minZoom},pn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},pn.maxZoom.get=function(){return this._maxZoom},pn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},pn.renderWorldCopies.get=function(){return this._renderWorldCopies},pn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},pn.worldSize.get=function(){return this.tileSize*this.scale},pn.centerPoint.get=function(){return this.size._div(2)},pn.size.get=function(){return new e.Point(this.width,this.height)},pn.bearing.get=function(){return-this.angle/Math.PI*180},pn.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},pn.pitch.get=function(){return this._pitch/Math.PI*180},pn.pitch.set=function(t){var r=e.clamp(t,0,60)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},pn.fov.get=function(){return this._fov/Math.PI*180},pn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},pn.zoom.get=function(){return this._zoom},pn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},pn.center.get=function(){return this._center},pn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},cn.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},cn.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),o=this.pointCoordinate(new e.Point(this.width,0)),i=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,o.x,i.x,a.x)),l=Math.floor(Math.max(n.x,o.x,i.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&r.push(new e.UnwrappedTileID(u,t));return r},cn.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var o=e.MercatorCoordinate.fromLngLat(this.center),i=Math.pow(2,r),a=new e.Point(i*o.x-.5,i*o.y-.5);return function(t,r,n,o){void 0===o&&(o=!0);var i=1<<t,a={};function s(r,s,l){var u,c,p,f;if(l>=0&&l<=i)for(u=r;u<s;u++)c=Math.floor(u/i),p=(u%i+i)%i,0!==c&&!0!==o||(f=new e.OverscaledTileID(n,c,t,p,l),a[f.key]=f)}var l=r.map(function(t){return new e.Point(t.x,t.y)._mult(i)});return un(l[0],l[1],l[2],0,i,s),un(l[2],l[3],l[0],0,i,s),Object.keys(a).map(function(e){return a[e]})}(r,[this.pointCoordinate(new e.Point(0,0)),this.pointCoordinate(new e.Point(this.width,0)),this.pointCoordinate(new e.Point(this.width,this.height)),this.pointCoordinate(new e.Point(0,this.height))],t.reparseOverscaled?n:r,this._renderWorldCopies).sort(function(e,t){return a.dist(e.canonical)-a.dist(t.canonical)})},cn.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},pn.unmodified.get=function(){return this._unmodified},cn.prototype.zoomScale=function(e){return Math.pow(2,e)},cn.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},cn.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},cn.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},pn.point.get=function(){return this.project(this.center)},cn.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),o=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),a=new e.MercatorCoordinate(i.x-(n.x-o.x),i.y-(n.y-o.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},cn.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},cn.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},cn.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},cn.prototype.coordinateLocation=function(e){return e.toLngLat()},cn.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var o=r[3],i=n[3],a=r[0]/o,s=n[0]/i,l=r[1]/o,u=n[1]/i,c=r[2]/o,p=n[2]/i,f=c===p?0:(0-c)/(p-c);return new e.MercatorCoordinate(e.number(a,s,f)/this.worldSize,e.number(l,u,f)/this.worldSize)},cn.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},cn.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},cn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},cn.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},cn.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,o=r?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var i=t.canonical,a=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,i.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,r?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},cn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},cn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,o,i=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;i=e.mercatorYfromLat(p[1])*this.worldSize,t=(a=e.mercatorYfromLat(p[0])*this.worldSize)-i<u.y?u.y/(a-i):0}if(this.lngRange){var f=this.lngRange;s=e.mercatorXfromLng(f[0])*this.worldSize,r=(l=e.mercatorXfromLng(f[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var h=this.point,d=Math.max(r||0,t||0);if(d)return this.center=this.unproject(new e.Point(r?(l+s)/2:h.x,t?(a+i)/2:h.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=h.y,y=u.y/2;m-y<i&&(o=i+y),m+y>a&&(o=a-y)}if(this.lngRange){var g=h.x,v=u.x/2;g-v<s&&(n=s+v),g+v>l&&(n=l-v)}void 0===n&&void 0===o||(this.center=this.unproject(new e.Point(void 0!==n?n:h.x,void 0!==o?o:h.y))),this._unmodified=c,this._constraining=!1}},cn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,r=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-r-t),o=this.point,i=o.x,a=o.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),l=new Float64Array(16);e.perspective(l,this._fov,this.width/this.height,1,s),e.scale(l,l,[1,-1,1]),e.translate(l,l,[0,0,-this.cameraToCenterDistance]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle),e.translate(l,l,[-i,-a,0]),this.mercatorMatrix=e.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),e.scale(l,l,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var u=this.width%2/2,c=this.height%2/2,p=Math.cos(this.angle),f=Math.sin(this.angle),h=i-Math.round(i)+p*u+f*c,d=a-Math.round(a)+p*c+f*u,m=new Float64Array(l);if(e.translate(m,m,[h>.5?h-1:h,d>.5?d-1:d,0]),this.alignedProjMatrix=m,l=e.create(),e.scale(l,l,[this.width/2,-this.height/2,1]),e.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=e.create(),e.scale(l,l,[1,-1,1]),e.translate(l,l,[-1,-1,0]),e.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},cn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},cn.prototype.getCameraPoint=function(){var t=this._pitch,r=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,r))},cn.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,o=r.y,i=r.x,a=r.y,s=0,l=t;s<l.length;s+=1){var u=l[s];n=Math.min(n,u.x),o=Math.min(o,u.y),i=Math.max(i,u.x),a=Math.max(a,u.y)}return[new e.Point(n,o),new e.Point(i,o),new e.Point(i,a),new e.Point(n,a),new e.Point(n,o)]},Object.defineProperties(cn.prototype,pn);var fn=function(){var t,r,n,o;e.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),r=!1,n=0,o=function(){n=0,r&&(t(),n=setTimeout(o,300),r=!1)},function(){return r=!0,n||o(),n})};fn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},fn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},fn.prototype.getHashString=function(e){var t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),i=Math.round(t.lng*o)/o,a=Math.round(t.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=e?"#/"+i+"/"+a+"/"+r:"#"+r+"/"+a+"/"+i,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},fn.prototype._onHashChange=function(){var t=e.window.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},fn.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var hn=function(t){function n(n,o,i,a){void 0===a&&(a={});var s=r.mousePos(o.getCanvasContainer(),i),l=o.unproject(s);t.call(this,n,e.extend({point:s,lngLat:l,originalEvent:i},a)),this._defaultPrevented=!1,this.target=o}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(e.Event),dn=function(t){function n(n,o,i){var a=r.touchPos(o.getCanvasContainer(),i),s=a.map(function(e){return o.unproject(e)}),l=a.reduce(function(e,t,r,n){return e.add(t.div(n.length))},new e.Point(0,0)),u=o.unproject(l);t.call(this,n,{points:a,point:l,lngLats:s,lngLat:u,originalEvent:i}),this._defaultPrevented=!1}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(e.Event),mn=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),yn=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};yn.prototype.isEnabled=function(){return!!this._enabled},yn.prototype.isActive=function(){return!!this._active},yn.prototype.isZooming=function(){return!!this._zooming},yn.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},yn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},yn.prototype.onWheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(o*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this.isActive()||this._start(t)),t.preventDefault()}},yn.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},yn.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},yn.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var i="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(i*o))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:r.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){var c=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=l(c);r.zoom=e.number(s,a,p),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else r.zoom=a,u=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._zooming=!1,t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom},200))}},yn.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,o=(e.browser.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r};var gn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};gn.prototype.isEnabled=function(){return!!this._enabled},gn.prototype.isActive=function(){return!!this._active},gn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},gn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gn.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=this._lastPos=r.mousePos(this._el,t),this._active=!0)},gn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=t,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(n.x,t.x),i=Math.max(n.x,t.x),a=Math.min(n.y,t.y),s=Math.max(n.y,t.y);r.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=i-o+"px",this._box.style.height=s-a+"px"}},gn.prototype._onMouseUp=function(t){if(0===t.button){var n=this._startPos,o=r.mousePos(this._el,t);this._finish(),r.suppressClick(),n.x===o.x&&n.y===o.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(n,o,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},gn.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},gn.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},gn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var vn=e.bezier(0,0,.25,1),bn=function(t,r){this._map=t,this._el=r.element||t.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};bn.prototype.isEnabled=function(){return"disabled"!==this._state},bn.prototype.isActive=function(){return"active"===this._state},bn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},bn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},bn.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=r.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==r.mouseButton(t))return;this._eventButton=0}r.disableDrag(),e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},bn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},bn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var r=this._map.transform,n=this._startPos,o=this._lastPos,i=.8*(n.x-o.x),a=-.5*(n.y-o.y),s=r.bearing-i,l=r.pitch-a,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([e.browser.now(),this._map._normalizeBearing(s,c[1])]),r.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),r.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},bn.prototype._onMouseUp=function(e){if(r.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},bn.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},bn.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),r.enableDrag()},bn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},bn.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var r=this._map,n=r.getBearing(),o=this._inertia,i=function(){Math.abs(n)<t._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(o.length<2)i();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],u=r._normalizeBearing(n,l[1]),c=s[1]-a[1],p=c<0?-1:1,f=(s[0]-a[0])/1e3;if(0!==c&&0!==f){var h=Math.abs(c*(.25/f));h>180&&(h=180);var d=h/180;u+=p*h*(d/2),Math.abs(r._normalizeBearing(u,0))<this._bearingSnap&&(u=r._normalizeBearing(0,u)),r.rotateTo(u,{duration:1e3*d,easing:vn,noMoveStart:!0},{originalEvent:e})}else i()}},bn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},bn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var _n=e.bezier(0,0,.3,1),xn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};xn.prototype.isEnabled=function(){return"disabled"!==this._state},xn.prototype.isActive=function(){return"active"===this._state},xn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},xn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},xn.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==r.mouseButton(t)||(r.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},xn.prototype.onTouchStart=function(t){"enabled"===this._state&&(t.touches.length>1||(r.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},xn.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=r.mousePos(this._el,t),this._inertia=[[e.browser.now(),this._startPos]]},xn.prototype._onMove=function(t){t.preventDefault();var n=r.mousePos(this._el,t);this._lastPos.equals(n)||"pending"===this._state&&n.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=n,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},xn.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._startPos=this._lastPos,delete this._lastMoveEvent}},xn.prototype._onMouseUp=function(e){if(0===r.mouseButton(e))switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},xn.prototype._onTouchEnd=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},xn.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},xn.prototype._unbind=function(){r.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onTouchEnd),r.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.removeEventListener(e.window.document,"mouseup",this._onMouseUp),r.removeEventListener(e.window,"blur",this._onBlur)},xn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},xn.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var r=t[t.length-1],n=t[0],o=r[1].sub(n[1]),i=(r[0]-n[0])/1e3;if(0===i||r[1].equals(n[1]))this._fireEvent("moveend",e);else{var a=o.mult(.3/i),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:_n,noMoveStart:!0},{originalEvent:e})}}},xn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},xn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var wn=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};function Sn(e){return e*(2-e)}wn.prototype.isEnabled=function(){return!!this._enabled},wn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},wn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},wn.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,r=0,n=0,o=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?n=-1:(i=1,e.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:Sn,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+15*r,pitch:a.getPitch()+10*n,offset:[100*-o,100*-i],center:a.getCenter()};a.easeTo(l,{originalEvent:e})}};var kn=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};kn.prototype.isEnabled=function(){return!!this._enabled},kn.prototype.isActive=function(){return!!this._active},kn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},kn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},kn.prototype.onTouchStart=function(e){var t=this;this.isEnabled()&&(e.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(e)):this._tapped=setTimeout(function(){t._tapped=null},300)))},kn.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},kn.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},kn.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Cn=e.bezier(0,0,.15,1),Pn=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Pn.prototype.isEnabled=function(){return!!this._enabled},Pn.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},Pn.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Pn.prototype.disableRotation=function(){this._rotationDisabled=!0},Pn.prototype.enableRotation=function(){this._rotationDisabled=!1},Pn.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var n=r.mousePos(this._el,t.touches[0]),o=r.mousePos(this._el,t.touches[1]),i=n.add(o).div(2);this._startVec=n.sub(o),this._startAround=this._map.transform.pointLocation(i),this._gestureIntent=void 0,this._inertia=[],r.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.addEventListener(e.window.document,"touchend",this._onEnd)}},Pn.prototype._getTouchEventData=function(e){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),o=t.sub(n);return{vec:o,center:t.add(n).div(2),scale:o.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI}},Pn.prototype._onMove=function(t){if(2===t.touches.length){var r=this._getTouchEventData(t),n=r.vec,o=r.scale,i=r.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==o||Math.abs(1-o)>.15;Math.abs(i)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=n)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},Pn.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,i=n.bearing,a=n.scale,s=r.pointLocation(o),l=r.locationPoint(s);"rotate"===t&&(r.bearing=this._startBearing+i),r.zoom=r.scaleZoom(this._startScale*a),r.setLocationAtPoint(this._startAround,l),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),a,o])}},Pn.prototype._onEnd=function(t){r.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onEnd);var n=this._gestureIntent,o=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new e.Event(n+"end",{originalEvent:t})),this._drainInertiaBuffer();var i=this._inertia,a=this._map;if(i.length<2)a.snapToNorth({},{originalEvent:t});else{var s=i[i.length-1],l=i[0],u=a.transform.scaleZoom(o*s[1]),c=a.transform.scaleZoom(o*l[1]),p=u-c,f=(s[0]-l[0])/1e3,h=s[2];if(0!==f&&u!==c){var d=.15*p/f;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var m=1e3*Math.abs(d/(12*.15)),y=u+d*m/2e3;y<0&&(y=0),a.easeTo({zoom:y,duration:m,easing:Cn,around:this._aroundCenter?a.getCenter():a.unproject(h),noMoveStart:!0},{originalEvent:t})}else a.snapToNorth({},{originalEvent:t})}}},Pn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>2&&r-t[0][0]>160;)t.shift()};var En={scrollZoom:yn,boxZoom:gn,dragRotate:bn,dragPan:xn,keyboard:wn,doubleClickZoom:kn,touchZoomRotate:Pn},Tn=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,o){if("number"==typeof(o=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){var i=o.padding;o.padding={top:i,bottom:i,right:i,left:i}}if(e.deepEqual(Object.keys(o.padding).sort(function(e,t){return e<t?-1:e>t?1:0}),["bottom","left","right","top"])){var a=this.transform,s=a.project(e.LngLat.convert(t)),l=a.project(e.LngLat.convert(r)),u=s.rotate(-n*Math.PI/180),c=l.rotate(-n*Math.PI/180),p=new e.Point(Math.max(u.x,c.x),Math.max(u.y,c.y)),f=new e.Point(Math.min(u.x,c.x),Math.min(u.y,c.y)),h=p.sub(f),d=(a.width-o.padding.left-o.padding.right)/h.x,m=(a.height-o.padding.top-o.padding.bottom)/h.y;if(!(m<0||d<0)){var y=Math.min(a.scaleZoom(a.scale*Math.min(d,m)),o.maxZoom),g=e.Point.convert(o.offset),v=(o.padding.left-o.padding.right)/2,b=(o.padding.top-o.padding.bottom)/2,_=new e.Point(g.x+v,g.y+b).mult(a.scale/a.zoomScale(y));return{center:a.unproject(s.add(l).div(2).sub(_)),zoom:y,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,o,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,o),o,i)},r.prototype._fitInternal=function(t,r,n){return t?(r=e.extend(t,r)).linear?this.easeTo(r,n):this.flyTo(r,n):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,o=!1,i=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(o=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),o&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),i&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this.stop(),!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate&&(t.duration=0);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in t?+t.zoom:i,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,p=o.centerPoint.add(e.Point.convert(t.offset)),f=o.pointLocation(p),h=e.LngLat.convert(t.center||f);this._normalizeCenter(h);var d,m,y=o.project(f),g=o.project(h).sub(y),v=o.zoomScale(l-i);return t.around&&(d=e.LngLat.convert(t.around),m=o.locationPoint(d)),this._zooming=l!==i,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(r,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(n._zooming&&(o.zoom=e.number(i,l,t)),n._rotating&&(o.bearing=e.number(a,u,t)),n._pitching&&(o.pitch=e.number(s,c,t)),d)o.setLocationAtPoint(d,m);else{var f=o.zoomScale(o.zoom-i),h=l>i?Math.min(2,v):Math.max(.5,v),b=Math.pow(h,1-t),_=o.unproject(y.add(g.mult(t*b)).mult(f));o.setLocationAtPoint(o.renderWorldCopies?_.wrap():_,p)}n._fireMoveEvents(r)},function(){t.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(r)},t.delayEndEvents):n._afterEase(r)},t),this},r.prototype._prepareEase=function(t,r){this._moving=!0,r||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t){var r=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new e.Event("zoomend",t)),n&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},r.prototype.flyTo=function(t,r){var n=this;this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):i,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,p=o.zoomScale(l-i),f=o.centerPoint.add(e.Point.convert(t.offset)),h=o.pointLocation(f),d=e.LngLat.convert(t.center||h);this._normalizeCenter(d);var m=o.project(h),y=o.project(d).sub(m),g=t.curve,v=Math.max(o.width,o.height),b=v/p,_=y.mag();if("minZoom"in t){var x=e.clamp(Math.min(t.minZoom,i,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(x-i);g=Math.sqrt(w/_*2)}var S=g*g;function k(e){var t=(b*b-v*v+(e?-1:1)*S*S*_*_)/(2*(e?b:v)*S*_);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function P(e){return(Math.exp(e)+Math.exp(-e))/2}var E=k(0),T=function(e){return P(E)/P(E+g*e)},A=function(e){return v*((P(E)*(C(t=E+g*e)/P(t))-C(E))/S)/_;var t},I=(k(1)-E)/g;if(Math.abs(_)<1e-6||!isFinite(I)){if(Math.abs(v-b)<1e-6)return this.easeTo(t,r);var z=b<v?-1:1;I=Math.abs(Math.log(b/v))/g,A=function(){return 0},T=function(e){return Math.exp(z*g*e)}}if("duration"in t)t.duration=+t.duration;else{var O="screenSpeed"in t?+t.screenSpeed/g:+t.speed;t.duration=1e3*I/O}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(r,!1),this._ease(function(t){var p=t*I,h=1/T(p);o.zoom=1===t?l:i+o.scaleZoom(h),n._rotating&&(o.bearing=e.number(a,u,t)),n._pitching&&(o.pitch=e.number(s,c,t));var g=1===t?d:o.unproject(m.add(y.mult(A(p))).mult(h));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,f),n._fireMoveEvents(r)},function(){return n._afterEase(r)},t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),An=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};An.prototype.getDefaultPosition=function(){return"bottom-right"},An.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},An.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},An.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:e.config.ACCESS_TOKEN}];if(t){var n=r.reduce(function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e},"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener"}},An.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},An.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(function(e){return"string"!=typeof e?"":e})):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var o=r[n];if(o.used){var i=o.getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}}e.sort(function(e,t){return e.length-t.length}),(e=e.filter(function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0})).length?(this._innerContainer.innerHTML=e.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},An.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var In=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};In.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),t.setAttribute("rel","noopener"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},In.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},In.prototype.getDefaultPosition=function(){return"bottom-left"},In.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},In.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},In.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var zn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};zn.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},zn.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var o=n[r];if(o.id===e)return void(o.cancelled=!0)}},zn.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},zn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var On=e.window.HTMLImageElement,Mn=e.window.HTMLElement,Ln={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Fn=function(n){function o(t){var o=this;if(null!=(t=e.extend({},Ln,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new cn(t.minZoom,t.maxZoom,t.renderWorldCopies);n.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new zn,this._controls=[],this._mapId=e.uniqueId();var a=t.transformRequest;if(this._transformRequest=a?function(e,t){return a(e,t)||{url:e}}:function(e){return{url:e}},"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Mn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return o._update(!1)}),this.on("moveend",function(){return o._update(!1)}),this.on("zoom",function(){return o._update(!0)}),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var n=e.getCanvasContainer(),o=null,i=!1,a=null;for(var s in En)e[s]=new En[s](e,t),t.interactive&&t[s]&&e[s].enable(t[s]);r.addEventListener(n,"mouseout",function(t){e.fire(new hn("mouseout",e,t))}),r.addEventListener(n,"mousedown",function(o){i=!0,a=r.mousePos(n,o);var s=new hn("mousedown",e,o);e.fire(s),s.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(o),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(o),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(o))}),r.addEventListener(n,"mouseup",function(t){var r=e.dragRotate.isActive();o&&!r&&e.fire(new hn("contextmenu",e,o)),o=null,i=!1,e.fire(new hn("mouseup",e,t))}),r.addEventListener(n,"mousemove",function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new hn("mousemove",e,t))}}),r.addEventListener(n,"mouseover",function(t){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new hn("mouseover",e,t))}),r.addEventListener(n,"touchstart",function(r){var n=new dn("touchstart",e,r);e.fire(n),n.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(r),e.touchZoomRotate.onStart(r),e.doubleClickZoom.onTouchStart(n))},{passive:!1}),r.addEventListener(n,"touchmove",function(t){e.fire(new dn("touchmove",e,t))},{passive:!1}),r.addEventListener(n,"touchend",function(t){e.fire(new dn("touchend",e,t))}),r.addEventListener(n,"touchcancel",function(t){e.fire(new dn("touchcancel",e,t))}),r.addEventListener(n,"click",function(o){var i=r.mousePos(n,o);(i.equals(a)||i.dist(a)<t.clickTolerance)&&e.fire(new hn("click",e,o))}),r.addEventListener(n,"dblclick",function(t){var r=new hn("dblclick",e,t);e.fire(r),r.defaultPrevented||e.doubleClickZoom.onDblClick(r)}),r.addEventListener(n,"contextmenu",function(t){var r=e.dragRotate.isActive();i||r?i&&(o=t):e.fire(new hn("contextmenu",e,t)),(e.dragRotate.isEnabled()||e.listens("contextmenu"))&&t.preventDefault()}),r.addEventListener(n,"wheel",function(r){t.interactive&&e.stop();var n=new mn("wheel",e,r);e.fire(n),n.defaultPrevented||e.scrollZoom.onWheel(r)},{passive:!1})}(this,t),this._hash=t.hash&&(new fn).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new An({customAttribution:t.customAttribution})),this.addControl(new In,t.logoPosition),this.on("style.load",function(){o.transform.unmodified&&o.jumpTo(o.style.stylesheet)}),this.on("data",function(t){o._update("style"===t.dataType),o.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",function(t){o.fire(new e.Event(t.dataType+"dataloading",t))})}n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o;var i={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return o.prototype._getMapId=function(){return this._mapId},o.prototype.addControl=function(t,r){if(void 0===r&&t.getDefaultPosition&&(r=t.getDefaultPosition()),void 0===r&&(r="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var o=this._controlPositions[r];return-1!==r.indexOf("bottom")?o.insertBefore(n,o.firstChild):o.appendChild(n),this},o.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},o.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],o=r[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},o.prototype.getBounds=function(){return this.transform.getBounds()},o.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},o.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},o.prototype.setMinZoom=function(e){if((e=null==e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},o.prototype.getMinZoom=function(){return this.transform.minZoom},o.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},o.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},o.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},o.prototype.getMaxZoom=function(){return this.transform.maxZoom},o.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},o.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},o.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},o.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},o.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},o.prototype.on=function(e,t,r){var o=this;if(void 0===r)return n.prototype.on.call(this,e,t);var i=function(){var n;if("mouseenter"===e||"mouseover"===e){var i=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var a=o.getLayer(t)?o.queryRenderedFeatures(n.point,{layers:[t]}):[];a.length?i||(i=!0,r.call(o,new hn(e,o,n.originalEvent,{features:a}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(o.getLayer(t)?o.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,r.call(o,new hn(e,o,n.originalEvent)))},mouseout:function(t){a&&(a=!1,r.call(o,new hn(e,o,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=o.getLayer(t)?o.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(o,e),delete e.features)},n)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(a,i.delegates[a]);return this},o.prototype.off=function(e,t,r){if(void 0===r)return n.prototype.off.call(this,e,t);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],i=0;i<o.length;i++){var a=o[i];if(a.layer===t&&a.listener===r){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(i,1),this}}return this},o.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var o=e.Point.convert(t[0]),i=e.Point.convert(t[1]);n=[o,new e.Point(i.x,o.y),i,new e.Point(o.x,i.y),o]}return this.style.queryRenderedFeatures(n,r,this.transform)},o.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},o.prototype.setStyle=function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:Ln.localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))},o.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Rt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},o.prototype._diffStyle=function(t,r){var n=this;if("string"==typeof t){var o=e.normalizeStyleURL(t),i=this._transformRequest(o,e.ResourceType.Style);e.getJSON(i,function(t,o){t?n.fire(new e.ErrorEvent(t)):o&&n._updateDiff(o,r)})}else"object"==typeof t&&this._updateDiff(t,r)},o.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},o.prototype.getStyle=function(){if(this.style)return this.style.serialize()},o.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},o.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},o.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},o.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var o=r[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},o.prototype.addSourceType=function(e,t,r){return this.style.addSourceType(e,t,r)},o.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},o.prototype.getSource=function(e){return this.style.getSource(e)},o.prototype.addImage=function(t,r,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var i=n.sdf;if(void 0===i&&(i=!1),r instanceof On){var a=e.browser.getImageData(r),s=a.width,l=a.height,u=a.data;this.style.addImage(t,{data:new e.RGBAImage({width:s,height:l},u),pixelRatio:o,sdf:i,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=r.width,p=r.height,f=r.data,h=r;this.style.addImage(t,{data:new e.RGBAImage({width:c,height:p},new Uint8Array(f)),pixelRatio:o,sdf:i,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t)}},o.prototype.updateImage=function(t,r){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var o=r instanceof On?e.browser.getImageData(r):r,i=o.width,a=o.height,s=o.data;if(void 0===i||void 0===a)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==n.data.width||a!==n.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var l=!(r instanceof On);n.data.replace(s,l),this.style.updateImage(t,n)},o.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},o.prototype.removeImage=function(e){this.style.removeImage(e)},o.prototype.loadImage=function(t,r){e.getImage(this._transformRequest(t,e.ResourceType.Image),r)},o.prototype.listImages=function(){return this.style.listImages()},o.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},o.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},o.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},o.prototype.getLayer=function(e){return this.style.getLayer(e)},o.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},o.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},o.prototype.getFilter=function(e){return this.style.getFilter(e)},o.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},o.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},o.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},o.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},o.prototype.setLight=function(e,t){return void 0===t&&(t={}),this.style.setLight(e,t),this._update(!0)},o.prototype.getLight=function(){return this.style.getLight()},o.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},o.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},o.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},o.prototype.getContainer=function(){return this._container},o.prototype.getCanvasContainer=function(){return this._canvasContainer},o.prototype.getCanvas=function(){return this._canvas},o.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},o.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},o.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var o=this._controlContainer=r.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i[e]=r.create("div","mapboxgl-ctrl-"+e,o)})},o.prototype._resizeCanvas=function(t,r){var n=e.window.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},o.prototype._setupPainter=function(){var r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new an(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},o.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},o.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},o.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},o.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},o.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},o.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},o.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var r=this.transform.zoom,n=e.browser.now();this.style.zoomHistory.update(r,n);var o=new e.EvaluationParameters(r,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=o.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),this},o.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Rn(this._canvasContainer),Rn(this._controlContainer),Rn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},o.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame(function(){t._frame=null,t._render()}))},o.prototype._onWindowOnline=function(){this._update()},o.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(e){this._vertices=e,this._update()},Object.defineProperties(o.prototype,i),o}(Tn);function Rn(e){e.parentNode&&e.parentNode.removeChild(e)}var Dn={showCompass:!0,showZoom:!0},Bn=function(t){var n=this;this.options=e.extend({},Dn,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.options.showZoom&&(e.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return n._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return n._map.zoomOut()})),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return n._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function jn(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var o=new e.LngLat(t.lng-360,t.lat),i=new e.LngLat(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(r);n.locationPoint(o).distSqr(r)<a?t=o:n.locationPoint(i).distSqr(r)<a&&(t=i)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Bn.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.classList.toggle("mapboxgl-ctrl-icon-disabled",e===this._map.getMaxZoom()),this._zoomOutButton.classList.toggle("mapboxgl-ctrl-icon-disabled",e===this._map.getMinZoom())},Bn.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},Bn.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new bn(e,{button:"left",element:this._compass}),r.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Bn.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),r.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Bn.prototype._createButton=function(e,t,n){var o=r.create("button",e,this._container);return o.type="button",o.title=t,o.setAttribute("aria-label",t),o.addEventListener("click",n),o};var Un={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Nn(e,t,r){var n=e.classList;for(var o in Un)n.remove("mapboxgl-"+r+"-anchor-"+o);n.add("mapboxgl-"+r+"-anchor-"+t)}var Vn,qn=function(t){function n(n,o){if(t.call(this),(n instanceof e.window.HTMLElement||o)&&(n=e.extend({element:n},o)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div");var i=r.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=r.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var p=c[u],f=r.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",p.rx),f.setAttributeNS(null,"ry",p.ry),l.appendChild(f)}var h=r.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(d);var m=r.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var y=r.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(y);var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),v.appendChild(b),v.appendChild(_),s.appendChild(l),s.appendChild(h),s.appendChild(m),s.appendChild(g),s.appendChild(v),i.appendChild(s),this._element.appendChild(i),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(e){e.preventDefault()}),Nn(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=jn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,Un[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n}(e.Evented),Gn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Wn=function(t){function n(r){t.call(this),this.options=e.extend({},Gn,r),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Vn?n(Vn):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(function(e){Vn="denied"!==e.state,n(Vn)}):(Vn=!!e.window.navigator.geolocation,n(Vn)),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),r.remove(this._container),this._map=void 0},n.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,o=this._map.getBearing(),i=e.extend({bearing:o},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),i,{geolocateSource:!0})},n.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},n.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;!1!==t?(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=r.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new qn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))})):e.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),Hn={maxWidth:100,unit:"metric"},Zn=function(t){this.options=e.extend({},Hn,t),e.bindAll(["_onMove","setUnit"],this)};function Kn(e,t,r){var n,o,i,a,s,l,u=r&&r.maxWidth||100,c=e._container.clientHeight/2,p=(n=e.unproject([0,c]),o=e.unproject([u,c]),i=Math.PI/180,a=n.lat*i,s=o.lat*i,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*i),6371e3*Math.acos(Math.min(l,1)));if(r&&"imperial"===r.unit){var f=3.2808*p;f>5280?Xn(t,u,f/5280,"mi"):Xn(t,u,f,"ft")}else r&&"nautical"===r.unit?Xn(t,u,p/1852,"nm"):Xn(t,u,p,"m")}function Xn(e,t,r,n){var o,i,a,s=(o=r,(i=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/i)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a))),l=s/r;"m"===n&&s>=1e3&&(s/=1e3,n="km"),e.style.width=t*l+"px",e.innerHTML=s+n}Zn.prototype.getDefaultPosition=function(){return"bottom-left"},Zn.prototype._onMove=function(){Kn(this._map,this._container,this.options)},Zn.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Zn.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Zn.prototype.setUnit=function(e){this.options.unit=e,Kn(this._map,this._container,this.options)};var Yn=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Yn.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Yn.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Yn.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Yn.prototype._setupUI=function(){(this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Yn.prototype._updateTitle=function(){var e=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Yn.prototype._isFullscreen=function(){return this._fullscreen},Yn.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Yn.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Jn={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},$n=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(Jn),r),e.bindAll(["_update","_onClickClose","remove"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._update(),this},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),o=e.window.document.createElement("body");for(o.innerHTML=t;r=o.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},n.prototype._createContent=function(){this._content&&r.remove(this._content),this._content=r.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},n.prototype._update=function(){var t=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(e){return t._container.classList.add(e)})),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&(this._lngLat=jn(this._lngLat,this._pos,this._map.transform));var n=this._pos=this._map.project(this._lngLat),o=this.options.anchor,i=function t(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var o=e.Point.convert(r);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=n.y+i.bottom.y<l?["top"]:n.y>this._map.transform.height-l?["bottom"]:[],n.x<s/2?a.push("left"):n.x>this._map.transform.width-s/2&&a.push("right"),o=0===a.length?"bottom":a.join("-")}var u=n.add(i[o]).round();r.setTransform(this._container,Un[o]+" translate("+u.x+"px,"+u.y+"px)"),Nn(this._container,o,"popup")}},n.prototype._onClickClose=function(){this.remove()},n}(e.Evented),Qn={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,Map:Fn,NavigationControl:Bn,GeolocateControl:Wn,AttributionControl:An,ScaleControl:Zn,FullscreenControl:Yn,Popup:$n,Marker:qn,Style:Rt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Me.workerCount},set workerCount(e){Me.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},workerUrl:""};return Qn}),r}()},function(e,t,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);e.exports=function e(t,r,p){if("string"!=typeof r){if(c){var f=u(r);f&&f!==c&&e(t,f,p)}var h=a(r);s&&(h=h.concat(s(r)));for(var d=0;d<h.length;++d){var m=h[d];if(!(n[m]||o[m]||p&&p[m])){var y=l(r,m);try{i(t,m,y)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",function(){return n})},function(e,t,r){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,o,i,a,s,l,u,c,p){switch(r){case 1:if(0===c&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===u)return n+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(o[0]+n),"";default:return n+(0===p?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}}()},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){"use strict";t.__esModule=!0,t.FormPrevious=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.FormPrevious=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"FormPrevious"},e),o.default.createElement("polyline",{fill:"none",stroke:"#000",strokeWidth:"2",points:"9 6 15 12 9 18",transform:"matrix(-1 0 0 1 24 0)"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.FormNext=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.FormNext=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"FormNext"},e),o.default.createElement("polyline",{fill:"none",stroke:"#000",strokeWidth:"2",points:"9 6 15 12 9 18"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Subtract=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Subtract=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Subtract"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M2,12 L22,12"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.ClosedCaption=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.ClosedCaption=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"ClosedCaption"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M1,12 C1,5 2.5,4 12,4 C21.5,4 23,5 23,12 C23,19 21.5,20 12,20 C2.5,20 1,19 1,12 Z M5.25,14 C5.25,15.5 6,16 7.75,16 C9.5,16 10.25,15.5 10.25,14 L9.97861679,14 C9.97861671,15.25 8.97905547,16 7.75,16 C6.52094453,16 5.52138329,15.25 5.52138321,14 L5.52138321,10 C5.5,8.75 6.5,8 7.75,8 C9,8 10,8.75 9.97861679,10 L10.25,10 C10.25,8.75 9.2286998,8 7.75,8 C6.2713002,8 5.25,8.75 5.25,10 L5.25,14 Z M13.25,14 C13.25,15.5 14,16 15.75,16 C17.5,16 18.25,15.5 18.25,14 L17.9786168,14 C17.9786167,15.25 16.9790555,16 15.75,16 C14.5209445,16 13.5213833,15.25 13.5213832,14 L13.5213832,10 C13.5,8.75 14.5,8 15.75,8 C17,8 18,8.75 17.9786168,10 L18.25,10 C18.25,8.75 17.2286998,8 15.75,8 C14.2713002,8 13.25,8.75 13.25,10 L13.25,14 Z"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Actions=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Actions=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Actions"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M12,17.5 C15.0375661,17.5 17.5,15.0375661 17.5,12 C17.5,8.96243388 15.0375661,6.5 12,6.5 C8.96243388,6.5 6.5,8.96243388 6.5,12 C6.5,15.0375661 8.96243388,17.5 12,17.5 Z M12,6.5 L12,1 M12,23 L12,17.5 M1,12 L6.5,12 M17.5,12 L23,12 M4.4375,4.4375 L8.5625,8.5625 M15.4375,15.4375 L19.5625,19.5625 M19.5625,4.4375 L15.4375,8.5625 M8.5625,15.4375 L4.4375,19.5625"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Expand=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Expand=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Expand"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M10,14 L2,22 M1,15 L1,23 L9,23 M22,2 L14,10 M15,1 L23,1 L23,9"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Pause=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Pause=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Pause"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M3,21 L9,21 L9,3 L3,3 L3,21 Z M15,21 L21,21 L21,3 L15,3 L15,21 Z"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Play=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Play=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Play"},e),o.default.createElement("polygon",{fill:"none",stroke:"#000",strokeWidth:"2",points:"3 22 21 12 3 2"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.VolumeLow=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.VolumeLow=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"VolumeLow"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M1,8 L1,16 L6.09901951,16 L12,21 L12,3 L6,8 L1,8 Z M15,16 L15,16 C17.209139,16 19,14.209139 19,12 C19,9.790861 17.209139,8 15,8"}))}},function(e,t,r){"use strict";t.__esModule=!0,t.Volume=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(3);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Volume=function(e){return o.default.createElement(i.StyledIcon,a({viewBox:"0 0 24 24",a11yTitle:"Volume"},e),o.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M15,16 C17.209,16 19,14.209 19,12 C19,9.791 17.209,8 15,8 M15,20 C20,20 23,16.411 23,12 C23,7.589 19.411,4 15,4 M1,12 L1,8 L6,8 L12,3 L12,21 L6,16 L1,16 L1,12"}))}},function(e,t,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}(function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=o},function(e,t,r){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(24),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,i,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function x(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||b}function w(){}function S(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||b}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var k=S.prototype=new w;k.constructor=S,n(k,x.prototype),k.isPureReactComponent=!0;var C={current:null},P={current:null},E=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var n=void 0,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,n)&&!T.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:P.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var z=/\/+/g,O=[];function M(e,t,r,n){if(O.length){var o=O.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function F(e,t,r){return null==e?0:function e(t,r,n,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return n(o,t,""===r?"."+R(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+R(s=t[u],u);l+=e(s,c,n,o)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=r+R(s,u++),n,o);else"object"===s&&v("31","[object Object]"==(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return l}(e,"",t,r)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,n,r,function(e){return e}):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(z,"$&/")+"/")+r)),n.push(e))}function j(e,t,r,n,o){var i="";null!=r&&(i=(""+r).replace(z,"$&/")+"/"),F(e,B,t=M(t,i,n,o)),L(t)}function U(){var e=C.current;return null===e&&v("321"),e}var N={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return j(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;F(e,D,t=M(null,null,t,r)),L(t)},count:function(e){return F(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){return I(e)||v("143"),e}},createRef:function(){return{current:null}},Component:x,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,r){return U().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,r){return U().useReducer(e,t,r)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:s,StrictMode:l,Suspense:d,createElement:A,cloneElement:function(e,t,r){null==e&&v("267",e);var o=void 0,a=n({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=P.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)E.call(t,o)&&!T.hasOwnProperty(o)&&(a[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))a.children=r;else if(1<o){c=Array(o);for(var p=0;p<o;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:i,type:e.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(e){var t=A.bind(null,e);return t.type=e,t},isValidElement:I,version:"16.8.6",unstable_ConcurrentMode:f,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:P,assign:n}},V={default:N},q=V&&N||V;e.exports=q.default||q},function(e,t,r){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(0),o=r(24),i=r(48);function a(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,i,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}n||a("227");var s=!1,l=null,u=!1,c=null,p={onError:function(e){s=!0,l=e}};function f(e,t,r,n,o,i,a,u,c){s=!1,l=null,function(e,t,r,n,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}.apply(p,arguments)}var h=null,d={};function m(){if(h)for(var e in d){var t=d[e],r=h.indexOf(e);if(-1<r||a("96",e),!g[r])for(var n in t.extractEvents||a("97",e),g[r]=t,r=t.eventTypes){var o=void 0,i=r[n],s=t,l=n;v.hasOwnProperty(l)&&a("99",l),v[l]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&y(u[o],s,l);o=!0}else i.registrationName?(y(i.registrationName,s,l),o=!0):o=!1;o||a("98",n,e)}}}function y(e,t,r){b[e]&&a("100",e),b[e]=t,_[e]=t.eventTypes[r].dependencies}var g=[],v={},b={},_={},x=null,w=null,S=null;function k(e,t,r){var n=e.type||"unknown-event";e.currentTarget=S(r),function(e,t,r,n,o,i,p,h,d){if(f.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else a("198"),m=void 0;u||(u=!0,c=m)}}(n,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function P(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var E=null;function T(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)k(e,t[n],r[n]);else t&&k(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var A={injectEventPluginOrder:function(e){h&&a("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];d.hasOwnProperty(t)&&d[t]===n||(d[t]&&a("102",t),d[t]=n,r=!0)}r&&m()}};function I(e,t){var r=e.stateNode;if(!r)return null;var n=x(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}return e?null:(r&&"function"!=typeof r&&a("231",t,typeof r),r)}function z(e){if(null!==e&&(E=C(E,e)),e=E,E=null,e&&(P(e,T),E&&a("95"),u))throw e=c,u=!1,c=null,e}var O=Math.random().toString(36).slice(2),M="__reactInternalInstance$"+O,L="__reactEventHandlers$"+O;function F(e){if(e[M])return e[M];for(;!e[M];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[M]).tag||6===e.tag?e:null}function R(e){return!(e=e[M])||5!==e.tag&&6!==e.tag?null:e}function D(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function B(e){return e[L]||null}function j(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function U(e,t,r){(t=I(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function N(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=j(t);for(t=r.length;0<t--;)U(r[t],"captured",e);for(t=0;t<r.length;t++)U(r[t],"bubbled",e)}}function V(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=I(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.registrationName&&V(e._targetInst,null,e)}function G(e){P(e,N)}var W=!("undefined"==typeof window||!window.document||!window.document.createElement);function H(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Z={animationend:H("Animation","AnimationEnd"),animationiteration:H("Animation","AnimationIteration"),animationstart:H("Animation","AnimationStart"),transitionend:H("Transition","TransitionEnd")},K={},X={};function Y(e){if(K[e])return K[e];if(!Z[e])return e;var t,r=Z[e];for(t in r)if(r.hasOwnProperty(t)&&t in X)return K[e]=r[t];return e}W&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Z.animationend.animation,delete Z.animationiteration.animation,delete Z.animationstart.animation),"TransitionEvent"in window||delete Z.transitionend.transition);var J=Y("animationend"),$=Y("animationiteration"),Q=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=null,ne=null,oe=null;function ie(){if(oe)return oe;var e,t,r=ne,n=r.length,o="value"in re?re.value:re.textContent,i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);return oe=o.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function le(e,t,r,n){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(r):"target"===o?this.target=n:this[o]=r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ae:se,this.isPropagationStopped=se,this}function ue(e,t,r,n){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,r,n),o}return new this(e,t,r,n)}function ce(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pe(e){e.eventPool=[],e.getPooled=ue,e.release=ce}o(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var i=new t;return o(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=o({},n.Interface,e),r.extend=n.extend,pe(r),r},pe(le);var fe=le.extend({data:null}),he=le.extend({data:null}),de=[9,13,27,32],me=W&&"CompositionEvent"in window,ye=null;W&&"documentMode"in document&&(ye=document.documentMode);var ge=W&&"TextEvent"in window&&!ye,ve=W&&(!me||ye&&8<ye&&11>=ye),be=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function we(e,t){switch(e){case"keyup":return-1!==de.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ke=!1;var Ce={eventTypes:_e,extractEvents:function(e,t,r,n){var o=void 0,i=void 0;if(me)e:{switch(e){case"compositionstart":o=_e.compositionStart;break e;case"compositionend":o=_e.compositionEnd;break e;case"compositionupdate":o=_e.compositionUpdate;break e}o=void 0}else ke?we(e,r)&&(o=_e.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=_e.compositionStart);return o?(ve&&"ko"!==r.locale&&(ke||o!==_e.compositionStart?o===_e.compositionEnd&&ke&&(i=ie()):(ne="value"in(re=n)?re.value:re.textContent,ke=!0)),o=fe.getPooled(o,t,r,n),i?o.data=i:null!==(i=Se(r))&&(o.data=i),G(o),i=o):i=null,(e=ge?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(xe=!0,be);case"textInput":return(e=t.data)===be&&xe?null:e;default:return null}}(e,r):function(e,t){if(ke)return"compositionend"===e||!me&&we(e,t)?(e=ie(),oe=ne=re=null,ke=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ve&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=he.getPooled(_e.beforeInput,t,r,n)).data=e,G(t)):t=null,null===i?t:null===t?i:[i,t]}},Pe=null,Ee=null,Te=null;function Ae(e){if(e=w(e)){"function"!=typeof Pe&&a("280");var t=x(e.stateNode);Pe(e.stateNode,e.type,t)}}function Ie(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function ze(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Me(e,t,r){return e(t,r)}function Le(){}var Fe=!1;function Re(e,t){if(Fe)return e(t);Fe=!0;try{return Oe(e,t)}finally{Fe=!1,(null!==Ee||null!==Te)&&(Le(),ze())}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!De[e.type]:"textarea"===t}function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ue(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ne(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Ne(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function qe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ne(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}var Ge=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ge.hasOwnProperty("ReactCurrentDispatcher")||(Ge.ReactCurrentDispatcher={current:null});var We=/^(.*)[\\\/]/,He="function"==typeof Symbol&&Symbol.for,Ze=He?Symbol.for("react.element"):60103,Ke=He?Symbol.for("react.portal"):60106,Xe=He?Symbol.for("react.fragment"):60107,Ye=He?Symbol.for("react.strict_mode"):60108,Je=He?Symbol.for("react.profiler"):60114,$e=He?Symbol.for("react.provider"):60109,Qe=He?Symbol.for("react.context"):60110,et=He?Symbol.for("react.concurrent_mode"):60111,tt=He?Symbol.for("react.forward_ref"):60112,rt=He?Symbol.for("react.suspense"):60113,nt=He?Symbol.for("react.memo"):60115,ot=He?Symbol.for("react.lazy"):60116,it="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Xe:return"Fragment";case Ke:return"Portal";case Je:return"Profiler";case Ye:return"StrictMode";case rt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Qe:return"Context.Consumer";case $e:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case nt:return st(e.type);case ot:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,o=e._debugSource,i=st(e.type);r=null,n&&(r=st(n.type)),n=i,i="",o?i=" (at "+o.fileName.replace(We,"")+":"+o.lineNumber+")":r&&(i=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+i}t+=r,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,pt={},ft={};function ht(e,t,r,n,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){dt[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){dt[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){dt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function yt(e){return e[1].toUpperCase()}function gt(e,t,r,n){var o=dt.hasOwnProperty(t)?dt[t]:null;(null!==o?0===o.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!ct.call(ft,e)||!ct.call(pt,e)&&(ut.test(e)?ft[e]=!0:(pt[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function vt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var r=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function _t(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=vt(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function wt(e,t){xt(e,t);var r=vt(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?kt(e,t.type,r):t.hasOwnProperty("defaultValue")&&kt(e,t.type,vt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function kt(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,yt);dt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,yt);dt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,yt);dt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new ht(e,1,!1,e.toLowerCase(),null)});var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Pt(e,t,r){return(e=le.getPooled(Ct.change,e,t,r)).type="change",Ie(r),G(e),e}var Et=null,Tt=null;function At(e){z(e)}function It(e){if(qe(D(e)))return e}function zt(e,t){if("change"===e)return t}var Ot=!1;function Mt(){Et&&(Et.detachEvent("onpropertychange",Lt),Tt=Et=null)}function Lt(e){"value"===e.propertyName&&It(Tt)&&Re(At,e=Pt(Tt,e,je(e)))}function Ft(e,t,r){"focus"===e?(Mt(),Tt=r,(Et=t).attachEvent("onpropertychange",Lt)):"blur"===e&&Mt()}function Rt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Tt)}function Dt(e,t){if("click"===e)return It(t)}function Bt(e,t){if("input"===e||"change"===e)return It(t)}W&&(Ot=Ue("input")&&(!document.documentMode||9<document.documentMode));var jt={eventTypes:Ct,_isInputEventSupported:Ot,extractEvents:function(e,t,r,n){var o=t?D(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=zt:Be(o)?Ot?i=Bt:(i=Rt,a=Ft):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Dt),i&&(i=i(e,t)))return Pt(i,r,n);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&kt(o,"number",o.value)}},Ut=le.extend({view:null,detail:null}),Nt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nt[e])&&!!t[e]}function qt(){return Vt}var Gt=0,Wt=0,Ht=!1,Zt=!1,Kt=Ut.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Ht?"mousemove"===e.type?e.screenX-t:0:(Ht=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),Xt=Kt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jt={eventTypes:Yt,extractEvents:function(e,t,r,n){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&(r.relatedTarget||r.fromElement)||!i&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,t=(t=r.relatedTarget||r.toElement)?F(t):null):i=null,i===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Kt,s=Yt.mouseLeave,l=Yt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Xt,s=Yt.pointerLeave,l=Yt.pointerEnter,u="pointer");var c=null==i?o:D(i);if(o=null==t?o:D(t),(e=a.getPooled(s,i,r,n)).type=u+"leave",e.target=c,e.relatedTarget=o,(r=a.getPooled(l,t,r,n)).type=u+"enter",r.target=o,r.relatedTarget=c,n=t,i&&n)e:{for(o=n,u=0,a=t=i;a;a=j(a))u++;for(a=0,l=o;l;l=j(l))a++;for(;0<u-a;)t=j(t),u--;for(;0<a-u;)o=j(o),a--;for(;u--;){if(t===o||t===o.alternate)break e;t=j(t),o=j(o)}t=null}else t=null;for(o=t,t=[];i&&i!==o&&(null===(u=i.alternate)||u!==o);)t.push(i),i=j(i);for(i=[];n&&n!==o&&(null===(u=n.alternate)||u!==o);)i.push(n),n=j(n);for(n=0;n<t.length;n++)V(t[n],"bubbled",e);for(n=i.length;0<n--;)V(i[n],"captured",r);return[e,r]}};function $t(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Qt=Object.prototype.hasOwnProperty;function er(e,t){if($t(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Qt.call(t,r[n])||!$t(e[r[n]],t[r[n]]))return!1;return!0}function tr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function rr(e){2!==tr(e)&&a("188")}function nr(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tr(e))&&a("188"),1===t?null:e;for(var r=e,n=t;;){var o=r.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===r)return rr(o),e;if(s===n)return rr(o),t;s=s.sibling}a("188")}if(r.return!==n.return)r=o,n=i;else{s=!1;for(var l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}s||a("189")}}r.alternate!==n&&a("190")}return 3!==r.tag&&a("188"),r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var or=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ir=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ar=Ut.extend({relatedTarget:null});function sr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr=Ut.extend({key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qt,charCode:function(e){return"keypress"===e.type?sr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pr=Kt.extend({dataTransfer:null}),fr=Ut.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qt}),hr=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),dr=Kt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),mr=[["abort","abort"],[J,"animationEnd"],[$,"animationIteration"],[Q,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],yr={},gr={};function vr(e,t){var r=e[0],n="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:t},yr[e]=t,gr[r]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){vr(e,!0)}),mr.forEach(function(e){vr(e,!1)});var br={eventTypes:yr,isInteractiveTopLevelEventType:function(e){return void 0!==(e=gr[e])&&!0===e.isInteractive},extractEvents:function(e,t,r,n){var o=gr[e];if(!o)return null;switch(e){case"keypress":if(0===sr(r))return null;case"keydown":case"keyup":e=cr;break;case"blur":case"focus":e=ar;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fr;break;case J:case $:case Q:e=or;break;case ee:e=hr;break;case"scroll":e=Ut;break;case"wheel":e=dr;break;case"copy":case"cut":case"paste":e=ir;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=le}return G(t=e.getPooled(o,t,r,n)),t}},_r=br.isInteractiveTopLevelEventType,xr=[];function wr(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n;for(n=r;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(r),r=F(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var o=je(e.nativeEvent);n=e.topLevelType;for(var i=e.nativeEvent,a=null,s=0;s<g.length;s++){var l=g[s];l&&(l=l.extractEvents(n,t,i,o))&&(a=C(a,l))}z(a)}}var Sr=!0;function kr(e,t){if(!t)return null;var r=(_r(e)?Pr:Er).bind(null,e);t.addEventListener(e,r,!1)}function Cr(e,t){if(!t)return null;var r=(_r(e)?Pr:Er).bind(null,e);t.addEventListener(e,r,!0)}function Pr(e,t){Me(Er,e,t)}function Er(e,t){if(Sr){var r=je(t);if(null===(r=F(r))||"number"!=typeof r.tag||2===tr(r)||(r=null),xr.length){var n=xr.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=r,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{Re(wr,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>xr.length&&xr.push(e)}}}var Tr={},Ar=0,Ir="_reactListenersID"+(""+Math.random()).slice(2);function zr(e){return Object.prototype.hasOwnProperty.call(e,Ir)||(e[Ir]=Ar++,Tr[e[Ir]]={}),Tr[e[Ir]]}function Or(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lr(e,t){var r,n=Mr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mr(n)}}function Fr(){for(var e=window,t=Or();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Or((e=t.contentWindow).document)}return t}function Rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Dr(e){var t=Fr(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(r.ownerDocument.documentElement,r)){if(null!==n&&Rr(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=void 0===n.end?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=Lr(r,i);var a=Lr(r,n);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Br=W&&"documentMode"in document&&11>=document.documentMode,jr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,Nr=null,Vr=null,qr=!1;function Gr(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qr||null==Ur||Ur!==Or(r)?null:("selectionStart"in(r=Ur)&&Rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Vr&&er(Vr,r)?null:(Vr=r,(e=le.getPooled(jr.select,Nr,e,t)).type="select",e.target=Ur,G(e),e))}var Wr={eventTypes:jr,extractEvents:function(e,t,r,n){var o,i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(o=!i)){e:{i=zr(i),o=_.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?D(t):window,e){case"focus":(Be(i)||"true"===i.contentEditable)&&(Ur=i,Nr=t,Vr=null);break;case"blur":Vr=Nr=Ur=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return qr=!1,Gr(r,n);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Gr(r,n)}return null}};function Hr(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Zr(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vt(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Kr(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xr(e,t){var r=t.value;null==r&&(r=t.defaultValue,null!=(t=t.children)&&(null!=r&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),r=t),null==r&&(r="")),e._wrapperState={initialValue:vt(r)}}function Yr(e,t){var r=vt(t.value),n=vt(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Jr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}A.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=B,w=R,S=D,A.injectEventPluginsByName({SimpleEventPlugin:br,EnterLeaveEventPlugin:Jt,ChangeEventPlugin:jt,SelectEventPlugin:Wr,BeforeInputEventPlugin:Ce});var $r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Qr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Qr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tn,rn=void 0,nn=(tn=function(e,t){if(e.namespaceURI!==$r.svg||"innerHTML"in e)e.innerHTML=t;else{for((rn=rn||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return tn(e,t)})}:tn);function on(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var an={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];function ln(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||an.hasOwnProperty(e)&&an[e]?(""+t).trim():t+"px"}function un(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=ln(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(an).forEach(function(e){sn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),an[t]=an[e]})});var cn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pn(e,t){t&&(cn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function fn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hn(e,t){var r=zr(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var n=0;n<t.length;n++){var o=t[n];if(!r.hasOwnProperty(o)||!r[o]){switch(o){case"scroll":Cr("scroll",e);break;case"focus":case"blur":Cr("focus",e),Cr("blur",e),r.blur=!0,r.focus=!0;break;case"cancel":case"close":Ue(o)&&Cr(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(o)&&kr(o,e)}r[o]=!0}}}function dn(){}var mn=null,yn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,_n="function"==typeof clearTimeout?clearTimeout:void 0,xn=i.unstable_scheduleCallback,wn=i.unstable_cancelCallback;function Sn(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kn(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Cn=[],Pn=-1;function En(e){0>Pn||(e.current=Cn[Pn],Cn[Pn]=null,Pn--)}function Tn(e,t){Cn[++Pn]=e.current,e.current=t}var An={},In={current:An},zn={current:!1},On=An;function Mn(e,t){var r=e.type.contextTypes;if(!r)return An;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(e){return null!=(e=e.childContextTypes)}function Fn(e){En(zn),En(In)}function Rn(e){En(zn),En(In)}function Dn(e,t,r){In.current!==An&&a("168"),Tn(In,t),Tn(zn,r)}function Bn(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())i in e||a("108",st(t)||"Unknown",i);return o({},r,n)}function jn(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||An,On=In.current,Tn(In,t),Tn(zn,zn.current),!0}function Un(e,t,r){var n=e.stateNode;n||a("169"),r?(t=Bn(e,t,On),n.__reactInternalMemoizedMergedChildContext=t,En(zn),En(In),Tn(In,t)):En(zn),Tn(zn,r)}var Nn=null,Vn=null;function qn(e){return function(t){try{return e(t)}catch(e){}}}function Gn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wn(e,t,r,n){return new Gn(e,t,r,n)}function Hn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zn(e,t){var r=e.alternate;return null===r?((r=Wn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.contextDependencies=e.contextDependencies,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kn(e,t,r,n,o,i){var s=2;if(n=e,"function"==typeof e)Hn(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Xe:return Xn(r.children,o,i,t);case et:return Yn(r,3|o,i,t);case Ye:return Yn(r,2|o,i,t);case Je:return(e=Wn(12,r,t,4|o)).elementType=Je,e.type=Je,e.expirationTime=i,e;case rt:return(e=Wn(13,r,t,o)).elementType=rt,e.type=rt,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case $e:s=10;break e;case Qe:s=9;break e;case tt:s=11;break e;case nt:s=14;break e;case ot:s=16,n=null;break e}a("130",null==e?e:typeof e,"")}return(t=Wn(s,r,t,o)).elementType=e,t.type=n,t.expirationTime=i,t}function Xn(e,t,r,n){return(e=Wn(7,e,n,t)).expirationTime=r,e}function Yn(e,t,r,n){return e=Wn(8,e,n,t),t=0==(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=r,e}function Jn(e,t,r){return(e=Wn(6,e,null,t)).expirationTime=r,e}function $n(e,t,r){return(t=Wn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qn(e,t){e.didError=!1;var r=e.earliestPendingTime;0===r?e.earliestPendingTime=e.latestPendingTime=t:r<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ro(t,e)}function eo(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var r=e.earliestPendingTime,n=e.latestPendingTime;r===t?e.earliestPendingTime=n===t?e.latestPendingTime=0:n:n===t&&(e.latestPendingTime=r),r=e.earliestSuspendedTime,n=e.latestSuspendedTime,0===r?e.earliestSuspendedTime=e.latestSuspendedTime=t:r<t?e.earliestSuspendedTime=t:n>t&&(e.latestSuspendedTime=t),ro(t,e)}function to(e,t){var r=e.earliestPendingTime;return r>t&&(t=r),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ro(e,t){var r=t.earliestSuspendedTime,n=t.latestSuspendedTime,o=t.earliestPendingTime,i=t.latestPingedTime;0===(o=0!==o?o:i)&&(0===e||n<e)&&(o=n),0!==(e=o)&&r>e&&(e=r),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}function no(e,t){if(e&&e.defaultProps)for(var r in t=o({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var oo=(new n.Component).refs;function io(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:o({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var ao={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tr(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=ws(),o=Yi(n=Xa(n,e));o.payload=t,null!=r&&(o.callback=r),qa(),$i(e,o),$a(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=ws(),o=Yi(n=Xa(n,e));o.tag=Gi,o.payload=t,null!=r&&(o.callback=r),qa(),$i(e,o),$a(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=ws(),n=Yi(r=Xa(r,e));n.tag=Wi,null!=t&&(n.callback=t),qa(),$i(e,n),$a(e,r)}};function so(e,t,r,n,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!er(r,n)||!er(o,i))}function lo(e,t,r){var n=!1,o=An,i=t.contextType;return"object"==typeof i&&null!==i?i=Vi(i):(o=Ln(t)?On:In.current,i=(n=null!=(n=t.contextTypes))?Mn(e,o):An),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function uo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function co(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=oo;var i=t.contextType;"object"==typeof i&&null!==i?o.context=Vi(i):(i=Ln(t)?On:In.current,o.context=Mn(e,i)),null!==(i=e.updateQueue)&&(ra(e,i,r,o,n),o.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(io(e,t,i,r),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ao.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(ra(e,i,r,o,n),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var po=Array.isArray;function fo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){r=r._owner;var n=void 0;r&&(1!==r.tag&&a("309"),n=r.stateNode),n||a("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=n.refs;t===oo&&(t=n.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&a("284"),r._owner||a("290",e)}return e}function ho(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function mo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,r){return(e=Zn(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Jn(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=o(t,r.props)).ref=fo(e,t,r),n.return=e,n):((n=Kn(r.type,r.key,r.props,null,e.mode,n)).ref=fo(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$n(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function p(e,t,r,n,i){return null===t||7!==t.tag?((t=Xn(r,e.mode,n,i)).return=e,t):((t=o(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Jn(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ze:return(r=Kn(t.type,t.key,t.props,null,e.mode,r)).ref=fo(e,null,t),r.return=e,r;case Ke:return(t=$n(t,e.mode,r)).return=e,t}if(po(t)||at(t))return(t=Xn(t,e.mode,r,null)).return=e,t;ho(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==o?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ze:return r.key===o?r.type===Xe?p(e,t,r.props.children,n,o):u(e,t,r,n):null;case Ke:return r.key===o?c(e,t,r,n):null}if(po(r)||at(r))return null!==o?null:p(e,t,r,n,null);ho(e,r)}return null}function d(e,t,r,n,o){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ze:return e=e.get(null===n.key?r:n.key)||null,n.type===Xe?p(t,e,n.props.children,o,n.key):u(t,e,n,o);case Ke:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o)}if(po(n)||at(n))return p(t,e=e.get(r)||null,n,o,null);ho(t,n)}return null}function m(o,a,s,l){for(var u=null,c=null,p=a,m=a=0,y=null;null!==p&&m<s.length;m++){p.index>m?(y=p,p=null):y=p.sibling;var g=h(o,p,s[m],l);if(null===g){null===p&&(p=y);break}e&&p&&null===g.alternate&&t(o,p),a=i(g,a,m),null===c?u=g:c.sibling=g,c=g,p=y}if(m===s.length)return r(o,p),u;if(null===p){for(;m<s.length;m++)(p=f(o,s[m],l))&&(a=i(p,a,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=n(o,p);m<s.length;m++)(y=d(p,o,m,s[m],l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=i(y,a,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach(function(e){return t(o,e)}),u}function y(o,s,l,u){var c=at(l);"function"!=typeof c&&a("150"),null==(l=c.call(l))&&a("151");for(var p=c=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=h(o,m,v.value,u);if(null===b){m||(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,y),null===p?c=b:p.sibling=b,p=b,m=g}if(v.done)return r(o,m),c;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=f(o,v.value,u))&&(s=i(v,s,y),null===p?c=v:p.sibling=v,p=v);return c}for(m=n(o,m);!v.done;y++,v=l.next())null!==(v=d(m,o,y,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=i(v,s,y),null===p?c=v:p.sibling=v,p=v);return e&&m.forEach(function(e){return t(o,e)}),c}return function(e,n,i,l){var u="object"==typeof i&&null!==i&&i.type===Xe&&null===i.key;u&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case Ze:e:{for(c=i.key,u=n;null!==u;){if(u.key===c){if(7===u.tag?i.type===Xe:u.elementType===i.type){r(e,u.sibling),(n=o(u,i.type===Xe?i.props.children:i.props)).ref=fo(e,u,i),n.return=e,e=n;break e}r(e,u);break}t(e,u),u=u.sibling}i.type===Xe?((n=Xn(i.props.children,e.mode,l,i.key)).return=e,e=n):((l=Kn(i.type,i.key,i.props,null,e.mode,l)).ref=fo(e,n,i),l.return=e,e=l)}return s(e);case Ke:e:{for(u=i.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(e,n.sibling),(n=o(n,i.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=$n(i,e.mode,l)).return=e,e=n}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==n&&6===n.tag?(r(e,n.sibling),(n=o(n,i)).return=e,e=n):(r(e,n),(n=Jn(i,e.mode,l)).return=e,e=n),s(e);if(po(i))return m(e,n,i,l);if(at(i))return y(e,n,i,l);if(c&&ho(e,i),void 0===i&&!u)switch(e.tag){case 1:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return r(e,n)}}var yo=mo(!0),go=mo(!1),vo={},bo={current:vo},_o={current:vo},xo={current:vo};function wo(e){return e===vo&&a("174"),e}function So(e,t){Tn(xo,t),Tn(_o,e),Tn(bo,vo);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:en(null,"");break;default:t=en(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}En(bo),Tn(bo,t)}function ko(e){En(bo),En(_o),En(xo)}function Co(e){wo(xo.current);var t=wo(bo.current),r=en(t,e.type);t!==r&&(Tn(_o,e),Tn(bo,r))}function Po(e){_o.current===e&&(En(bo),En(_o))}var Eo=0,To=2,Ao=4,Io=8,zo=16,Oo=32,Mo=64,Lo=128,Fo=Ge.ReactCurrentDispatcher,Ro=0,Do=null,Bo=null,jo=null,Uo=null,No=null,Vo=null,qo=0,Go=null,Wo=0,Ho=!1,Zo=null,Ko=0;function Xo(){a("321")}function Yo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function Jo(e,t,r,n,o,i){if(Ro=i,Do=t,jo=null!==e?e.memoizedState:null,Fo.current=null===jo?ci:pi,t=r(n,o),Ho){do{Ho=!1,Ko+=1,jo=null!==e?e.memoizedState:null,Vo=Uo,Go=No=Bo=null,Fo.current=pi,t=r(n,o)}while(Ho);Zo=null,Ko=0}return Fo.current=ui,(e=Do).memoizedState=Uo,e.expirationTime=qo,e.updateQueue=Go,e.effectTag|=Wo,e=null!==Bo&&null!==Bo.next,Ro=0,Vo=No=Uo=jo=Bo=Do=null,qo=0,Go=null,Wo=0,e&&a("300"),t}function $o(){Fo.current=ui,Ro=0,Vo=No=Uo=jo=Bo=Do=null,qo=0,Go=null,Wo=0,Ho=!1,Zo=null,Ko=0}function Qo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===No?Uo=No=e:No=No.next=e,No}function ei(){if(null!==Vo)Vo=(No=Vo).next,jo=null!==(Bo=jo)?Bo.next:null;else{null===jo&&a("310");var e={memoizedState:(Bo=jo).memoizedState,baseState:Bo.baseState,queue:Bo.queue,baseUpdate:Bo.baseUpdate,next:null};No=null===No?Uo=e:No.next=e,jo=Bo.next}return No}function ti(e,t){return"function"==typeof t?t(e):t}function ri(e){var t=ei(),r=t.queue;if(null===r&&a("311"),r.lastRenderedReducer=e,0<Ko){var n=r.dispatch;if(null!==Zo){var o=Zo.get(r);if(void 0!==o){Zo.delete(r);var i=t.memoizedState;do{i=e(i,o.action),o=o.next}while(null!==o);return $t(i,t.memoizedState)||(wi=!0),t.memoizedState=i,t.baseUpdate===r.last&&(t.baseState=i),r.lastRenderedState=i,[i,n]}}return[t.memoizedState,n]}n=r.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var l=o=null,u=n,c=!1;do{var p=u.expirationTime;p<Ro?(c||(c=!0,l=s,o=i),p>qo&&(qo=p)):i=u.eagerReducer===e?u.eagerState:e(i,u.action),s=u,u=u.next}while(null!==u&&u!==n);c||(l=s,o=i),$t(i,t.memoizedState)||(wi=!0),t.memoizedState=i,t.baseUpdate=l,t.baseState=o,r.lastRenderedState=i}return[t.memoizedState,r.dispatch]}function ni(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===Go?(Go={lastEffect:null}).lastEffect=e.next=e:null===(t=Go.lastEffect)?Go.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,Go.lastEffect=e),e}function oi(e,t,r,n){var o=Qo();Wo|=e,o.memoizedState=ni(t,r,void 0,void 0===n?null:n)}function ii(e,t,r,n){var o=ei();n=void 0===n?null:n;var i=void 0;if(null!==Bo){var a=Bo.memoizedState;if(i=a.destroy,null!==n&&Yo(n,a.deps))return void ni(Eo,r,i,n)}Wo|=e,o.memoizedState=ni(t,r,i,n)}function ai(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function si(){}function li(e,t,r){25>Ko||a("301");var n=e.alternate;if(e===Do||null!==n&&n===Do)if(Ho=!0,e={expirationTime:Ro,action:r,eagerReducer:null,eagerState:null,next:null},null===Zo&&(Zo=new Map),void 0===(r=Zo.get(t)))Zo.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}else{qa();var o=ws(),i={expirationTime:o=Xa(o,e),action:r,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)i.next=i;else{var l=s.next;null!==l&&(i.next=l),s.next=i}if(t.last=i,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=n(u,r);if(i.eagerReducer=n,i.eagerState=c,$t(c,u))return}catch(e){}$a(e,o)}}var ui={readContext:Vi,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo},ci={readContext:Vi,useCallback:function(e,t){return Qo().memoizedState=[e,void 0===t?null:t],e},useContext:Vi,useEffect:function(e,t){return oi(516,Lo|Mo,e,t)},useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,oi(4,Ao|Oo,ai.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oi(4,Ao|Oo,e,t)},useMemo:function(e,t){var r=Qo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=li.bind(null,Do,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Qo().memoizedState=e},useState:function(e){var t=Qo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e}).dispatch=li.bind(null,Do,e),[t.memoizedState,e]},useDebugValue:si},pi={readContext:Vi,useCallback:function(e,t){var r=ei();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Yo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)},useContext:Vi,useEffect:function(e,t){return ii(516,Lo|Mo,e,t)},useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ii(4,Ao|Oo,ai.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ii(4,Ao|Oo,e,t)},useMemo:function(e,t){var r=ei();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Yo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:ri,useRef:function(){return ei().memoizedState},useState:function(e){return ri(ti)},useDebugValue:si},fi=null,hi=null,di=!1;function mi(e,t){var r=Wn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function yi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function gi(e){if(di){var t=hi;if(t){var r=t;if(!yi(e,t)){if(!(t=Sn(r))||!yi(e,t))return e.effectTag|=2,di=!1,void(fi=e);mi(fi,r)}fi=e,hi=kn(t)}else e.effectTag|=2,di=!1,fi=e}}function vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;fi=e}function bi(e){if(e!==fi)return!1;if(!di)return vi(e),di=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=hi;t;)mi(e,t),t=Sn(t);return vi(e),hi=fi?Sn(e.stateNode):null,!0}function _i(){hi=fi=null,di=!1}var xi=Ge.ReactCurrentOwner,wi=!1;function Si(e,t,r,n){t.child=null===e?go(t,null,r,n):yo(t,e.child,r,n)}function ki(e,t,r,n,o){r=r.render;var i=t.ref;return Ni(t,o),n=Jo(e,t,r,n,i,o),null===e||wi?(t.effectTag|=1,Si(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Mi(e,t,o))}function Ci(e,t,r,n,o,i){if(null===e){var a=r.type;return"function"!=typeof a||Hn(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Kn(r.type,null,n,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pi(e,t,a,n,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(r=null!==(r=r.compare)?r:er)(o,n)&&e.ref===t.ref)?Mi(e,t,i):(t.effectTag|=1,(e=Zn(a,n)).ref=t.ref,e.return=t,t.child=e)}function Pi(e,t,r,n,o,i){return null!==e&&er(e.memoizedProps,n)&&e.ref===t.ref&&(wi=!1,o<i)?Mi(e,t,i):Ti(e,t,r,n,i)}function Ei(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Ti(e,t,r,n,o){var i=Ln(r)?On:In.current;return i=Mn(t,i),Ni(t,o),r=Jo(e,t,r,n,i,o),null===e||wi?(t.effectTag|=1,Si(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Mi(e,t,o))}function Ai(e,t,r,n,o){if(Ln(r)){var i=!0;jn(t)}else i=!1;if(Ni(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),lo(t,r,n),co(t,r,n,o),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"==typeof u&&null!==u?u=Vi(u):u=Mn(t,u=Ln(r)?On:In.current);var c=r.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&uo(t,a,n,u),Zi=!1;var f=t.memoizedState;l=a.state=f;var h=t.updateQueue;null!==h&&(ra(t,h,n,a,o),l=t.memoizedState),s!==n||f!==l||zn.current||Zi?("function"==typeof c&&(io(t,r,c,n),l=t.memoizedState),(s=Zi||so(t,r,s,n,f,l,u))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:no(t.type,s),l=a.context,"object"==typeof(u=r.contextType)&&null!==u?u=Vi(u):u=Mn(t,u=Ln(r)?On:In.current),(p="function"==typeof(c=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&uo(t,a,n,u),Zi=!1,l=t.memoizedState,f=a.state=l,null!==(h=t.updateQueue)&&(ra(t,h,n,a,o),f=t.memoizedState),s!==n||l!==f||zn.current||Zi?("function"==typeof c&&(io(t,r,c,n),f=t.memoizedState),(c=Zi||so(t,r,s,n,l,f,u))?(p||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=u,n=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Ii(e,t,r,n,i,o)}function Ii(e,t,r,n,o,i){Ei(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return o&&Un(t,r,!1),Mi(e,t,i);n=t.stateNode,xi.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=yo(t,e.child,null,i),t.child=yo(t,null,s,i)):Si(e,t,s,i),t.memoizedState=n.state,o&&Un(t,r,!0),t.child}function zi(e){var t=e.stateNode;t.pendingContext?Dn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dn(0,t.context,!1),So(e,t.containerInfo)}function Oi(e,t,r){var n=t.mode,o=t.pendingProps,i=t.memoizedState;if(0==(64&t.effectTag)){i=null;var a=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=o.fallback;e=Xn(null,n,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),n=Xn(s,n,r,null),e.sibling=n,(r=e).return=n.return=t}else r=n=go(t,null,o.children,r);else null!==e.memoizedState?(s=(n=e.child).sibling,a?(r=o.fallback,o=Zn(n,n.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==n.child&&(o.child=a)),n=o.sibling=Zn(s,r,s.expirationTime),r=o,o.childExpirationTime=0,r.return=n.return=t):r=n=yo(t,n.child,o.children,r)):(s=e.child,a?(a=o.fallback,(o=Xn(null,n,0,null)).child=s,0==(1&t.mode)&&(o.child=null!==t.memoizedState?t.child.child:t.child),(n=o.sibling=Xn(a,n,r,null)).effectTag|=2,r=o,o.childExpirationTime=0,r.return=n.return=t):n=r=yo(t,s,o.children,r)),t.stateNode=e.stateNode;return t.memoizedState=i,t.child=r,n}function Mi(e,t,r){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(r=Zn(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Zn(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function Li(e,t,r){var n=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||zn.current)wi=!0;else if(n<r){switch(wi=!1,t.tag){case 3:zi(t),_i();break;case 5:Co(t);break;case 1:Ln(t.type)&&jn(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:ji(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Oi(e,t,r):null!==(t=Mi(e,t,r))?t.sibling:null}return Mi(e,t,r)}}else wi=!1;switch(t.expirationTime=0,t.tag){case 2:n=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=Mn(t,In.current);if(Ni(t,r),o=Jo(null,t,n,e,o,r),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,$o(),Ln(n)){var i=!0;jn(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=n.getDerivedStateFromProps;"function"==typeof s&&io(t,n,s,e),o.updater=ao,t.stateNode=o,o._reactInternalFiber=t,co(t,n,e,r),t=Ii(null,t,n,!0,i,r)}else t.tag=0,Si(null,t,o,r),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(o),t.type=e,o=t.tag=function(e){if("function"==typeof e)return Hn(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===nt)return 14}return 2}(e),i=no(e,i),s=void 0,o){case 0:s=Ti(null,t,e,i,r);break;case 1:s=Ai(null,t,e,i,r);break;case 11:s=ki(null,t,e,i,r);break;case 14:s=Ci(null,t,e,no(e.type,i),n,r);break;default:a("306",e,"")}return s;case 0:return n=t.type,o=t.pendingProps,Ti(e,t,n,o=t.elementType===n?o:no(n,o),r);case 1:return n=t.type,o=t.pendingProps,Ai(e,t,n,o=t.elementType===n?o:no(n,o),r);case 3:return zi(t),null===(n=t.updateQueue)&&a("282"),o=null!==(o=t.memoizedState)?o.element:null,ra(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===o?(_i(),t=Mi(e,t,r)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(hi=kn(t.stateNode.containerInfo),fi=t,o=di=!0),o?(t.effectTag|=2,t.child=go(t,null,n,r)):(Si(e,t,n,r),_i()),t=t.child),t;case 5:return Co(t),null===e&&gi(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,vn(n,o)?s=null:null!==i&&vn(n,i)&&(t.effectTag|=16),Ei(e,t),1!==r&&1&t.mode&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Si(e,t,s,r),t=t.child),t;case 6:return null===e&&gi(t),null;case 13:return Oi(e,t,r);case 4:return So(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=yo(t,null,n,r):Si(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,ki(e,t,n,o=t.elementType===n?o:no(n,o),r);case 7:return Si(e,t,t.pendingProps,r),t.child;case 8:case 12:return Si(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,ji(t,i=o.value),null!==s){var l=s.value;if(0===(i=$t(l,i)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!zn.current){t=Mi(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===n&&0!=(c.observedBits&i)){1===l.tag&&((c=Yi(r)).tag=Wi,$i(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),c=r;for(var p=l.return;null!==p;){var f=p.alternate;if(p.childExpirationTime<c)p.childExpirationTime=c,null!==f&&f.childExpirationTime<c&&(f.childExpirationTime=c);else{if(!(null!==f&&f.childExpirationTime<c))break;f.childExpirationTime=c}p=p.return}u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Si(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=(i=t.pendingProps).children,Ni(t,r),n=n(o=Vi(o,i.unstable_observedBits)),t.effectTag|=1,Si(e,t,n,r),t.child;case 14:return i=no(o=t.type,t.pendingProps),Ci(e,t,o,i=no(o.type,i),n,r);case 15:return Pi(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:no(n,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ln(n)?(e=!0,jn(t)):e=!1,Ni(t,r),lo(t,n,o),co(t,n,o,r),Ii(null,t,n,!0,e,r)}a("156")}var Fi={current:null},Ri=null,Di=null,Bi=null;function ji(e,t){var r=e.type._context;Tn(Fi,r._currentValue),r._currentValue=t}function Ui(e){var t=Fi.current;En(Fi),e.type._context._currentValue=t}function Ni(e,t){Ri=e,Bi=Di=null;var r=e.contextDependencies;null!==r&&r.expirationTime>=t&&(wi=!0),e.contextDependencies=null}function Vi(e,t){return Bi!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Bi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Di?(null===Ri&&a("308"),Di=t,Ri.contextDependencies={first:t,expirationTime:0}):Di=Di.next=t),e._currentValue}var qi=0,Gi=1,Wi=2,Hi=3,Zi=!1;function Ki(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yi(e){return{expirationTime:e,tag:qi,payload:null,callback:null,next:null,nextEffect:null}}function Ji(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function $i(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,o=null;null===n&&(n=e.updateQueue=Ki(e.memoizedState))}else n=e.updateQueue,o=r.updateQueue,null===n?null===o?(n=e.updateQueue=Ki(e.memoizedState),o=r.updateQueue=Ki(r.memoizedState)):n=e.updateQueue=Xi(o):null===o&&(o=r.updateQueue=Xi(n));null===o||n===o?Ji(n,t):null===n.lastUpdate||null===o.lastUpdate?(Ji(n,t),Ji(o,t)):(Ji(n,t),o.lastUpdate=t)}function Qi(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=Ki(e.memoizedState):ea(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function ea(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=Xi(t)),t}function ta(e,t,r,n,i,a){switch(r.tag){case Gi:return"function"==typeof(e=r.payload)?e.call(a,n,i):e;case Hi:e.effectTag=-2049&e.effectTag|64;case qi:if(null==(i="function"==typeof(e=r.payload)?e.call(a,n,i):e))break;return o({},n,i);case Wi:Zi=!0}return n}function ra(e,t,r,n,o){Zi=!1;for(var i=(t=ea(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<o?(null===a&&(a=l,i=u),s<c&&(s=c)):(u=ta(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var p=l.expirationTime;p<o?(null===c&&(c=l,null===a&&(i=u)),s<p&&(s=p)):(u=ta(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(i=u),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function na(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),oa(t.firstEffect,r),t.firstEffect=t.lastEffect=null,oa(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function oa(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;"function"!=typeof r&&a("191",r),r.call(n)}e=e.nextEffect}}function ia(e,t){return{value:e,source:t,stack:lt(t)}}function aa(e){e.effectTag|=4}var sa=void 0,la=void 0,ua=void 0,ca=void 0;sa=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},la=function(){},ua=function(e,t,r,n,i){var a=e.memoizedProps;if(a!==n){var s=t.stateNode;switch(wo(bo.current),e=null,r){case"input":a=bt(s,a),n=bt(s,n),e=[];break;case"option":a=Hr(s,a),n=Hr(s,n),e=[];break;case"select":a=o({},a,{value:void 0}),n=o({},n,{value:void 0}),e=[];break;case"textarea":a=Kr(s,a),n=Kr(s,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(s.onclick=dn)}pn(r,n),s=r=void 0;var l=null;for(r in a)if(!n.hasOwnProperty(r)&&a.hasOwnProperty(r)&&null!=a[r])if("style"===r){var u=a[r];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==r&&"children"!==r&&"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(b.hasOwnProperty(r)?e||(e=[]):(e=e||[]).push(r,null));for(r in n){var c=n[r];if(u=null!=a?a[r]:void 0,n.hasOwnProperty(r)&&c!==u&&(null!=c||null!=u))if("style"===r)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(r,l)),l=c;else"dangerouslySetInnerHTML"===r?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(r,""+c)):"children"===r?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(r,""+c):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&(b.hasOwnProperty(r)?(null!=c&&hn(i,r),e||u===c||(e=[])):(e=e||[]).push(r,c))}l&&(e=e||[]).push("style",l),i=e,(t.updateQueue=i)&&aa(t)}},ca=function(e,t,r,n){r!==n&&aa(t)};var pa="function"==typeof WeakSet?WeakSet:Set;function fa(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=lt(r)),null!==r&&st(r.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ha(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ka(e,t)}else t.current=null}function da(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)!==Eo){var o=n.destroy;n.destroy=void 0,void 0!==o&&o()}(n.tag&t)!==Eo&&(o=n.create,n.destroy=o()),n=n.next}while(n!==r)}}function ma(e){switch("function"==typeof Vn&&Vn(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var r=t=t.next;do{var n=r.destroy;if(void 0!==n){var o=e;try{n()}catch(e){Ka(o,e)}}r=r.next}while(r!==t)}break;case 1:if(ha(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ka(e,t)}break;case 5:ha(e);break;case 4:va(e)}}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ya(t)){var r=t;break e}t=t.return}a("160"),r=void 0}var n=t=void 0;switch(r.tag){case 5:t=r.stateNode,n=!1;break;case 3:case 4:t=r.stateNode.containerInfo,n=!0;break;default:a("161")}16&r.effectTag&&(on(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ya(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(r)if(n){var i=t,s=o.stateNode,l=r;8===i.nodeType?i.parentNode.insertBefore(s,l):i.insertBefore(s,l)}else t.insertBefore(o.stateNode,r);else n?(s=t,l=o.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(l,s):(i=s).appendChild(l),null!=(s=s._reactRootContainer)||null!==i.onclick||(i.onclick=dn)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function va(e){for(var t=e,r=!1,n=void 0,o=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&a("160"),r.tag){case 5:n=r.stateNode,o=!1;break e;case 3:case 4:n=r.stateNode.containerInfo,o=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(ma(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(i=n,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):n.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){n=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(ma(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:da(Ao,Io,t);break;case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&function(e,t,r,n,o){e[L]=o,"input"===r&&"radio"===o.type&&null!=o.name&&xt(e,o),fn(r,n),n=fn(r,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?un(e,s):"dangerouslySetInnerHTML"===a?nn(e,s):"children"===a?on(e,s):gt(e,a,s,n)}switch(r){case"input":wt(e,o);break;case"textarea":Yr(e,o);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(r=o.value)?Zr(e,!!o.multiple,r,!1):t!==!!o.multiple&&(null!=o.defaultValue?Zr(e,!!o.multiple,o.defaultValue,!0):Zr(e,!!o.multiple,o.multiple?[]:"",!1))}}(r,i,o,e,n)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(r=t.memoizedState,n=void 0,e=t,null===r?n=!1:(n=!0,e=t.child,0===r.timedOutAt&&(r.timedOutAt=ws())),null!==e&&function(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)n.style.display="none";else{n=r.stateNode;var o=r.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,n.style.display=ln("display",o)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else{if(13===r.tag&&null!==r.memoizedState){(n=r.child.sibling).return=r,r=n;continue}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(e,n),null!==(r=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new pa),r.forEach(function(e){var r=function(e,t){var r=e.stateNode;null!==r&&r.delete(t),t=Xa(t=ws(),e),null!==(e=Ja(e,t))&&(Qn(e,t),0!==(t=e.expirationTime)&&Ss(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(r,r))})}break;case 17:break;default:a("163")}}var _a="function"==typeof WeakMap?WeakMap:Map;function xa(e,t,r){(r=Yi(r)).tag=Hi,r.payload={element:null};var n=t.value;return r.callback=function(){Os(n),fa(e,t)},r}function wa(e,t,r){(r=Yi(r)).tag=Hi;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var o=t.value;r.payload=function(){return n(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Ba?Ba=new Set([this]):Ba.add(this));var r=t.value,o=t.stack;fa(e,t),this.componentDidCatch(r,{componentStack:null!==o?o:""})}),r}function Sa(e){switch(e.tag){case 1:Ln(e.type)&&Fn();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return ko(),Rn(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Po(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return ko(),null;case 10:return Ui(e),null;default:return null}}var ka=Ge.ReactCurrentDispatcher,Ca=Ge.ReactCurrentOwner,Pa=1073741822,Ea=!1,Ta=null,Aa=null,Ia=0,za=-1,Oa=!1,Ma=null,La=!1,Fa=null,Ra=null,Da=null,Ba=null;function ja(){if(null!==Ta)for(var e=Ta.return;null!==e;){var t=e;switch(t.tag){case 1:var r=t.type.childContextTypes;null!=r&&Fn();break;case 3:ko(),Rn();break;case 5:Po(t);break;case 4:ko();break;case 10:Ui(t)}e=e.return}Aa=null,Ia=0,za=-1,Oa=!1,Ta=null}function Ua(){for(;null!==Ma;){var e=Ma.effectTag;if(16&e&&on(Ma.stateNode,""),128&e){var t=Ma.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ga(Ma),Ma.effectTag&=-3;break;case 6:ga(Ma),Ma.effectTag&=-3,ba(Ma.alternate,Ma);break;case 4:ba(Ma.alternate,Ma);break;case 8:va(e=Ma),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ma=Ma.nextEffect}}function Na(){for(;null!==Ma;){if(256&Ma.effectTag)e:{var e=Ma.alternate,t=Ma;switch(t.tag){case 0:case 11:case 15:da(To,Eo,t);break e;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:no(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Ma=Ma.nextEffect}}function Va(e,t){for(;null!==Ma;){var r=Ma.effectTag;if(36&r){var n=Ma.alternate,o=Ma,i=t;switch(o.tag){case 0:case 11:case 15:da(zo,Oo,o);break;case 1:var s=o.stateNode;if(4&o.effectTag)if(null===n)s.componentDidMount();else{var l=o.elementType===o.type?n.memoizedProps:no(o.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(n=o.updateQueue)&&na(0,n,s);break;case 3:if(null!==(n=o.updateQueue)){if(s=null,null!==o.child)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}na(0,n,s)}break;case 5:i=o.stateNode,null===n&&4&o.effectTag&&gn(o.type,o.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&r&&(null!==(o=Ma.ref)&&(i=Ma.stateNode,"function"==typeof o?o(i):o.current=i)),512&r&&(Fa=e),Ma=Ma.nextEffect}}function qa(){null!==Ra&&wn(Ra),null!==Da&&Da()}function Ga(e,t){La=Ea=!0,e.current===t&&a("177");var r=e.pendingCommitExpirationTime;0===r&&a("261"),e.pendingCommitExpirationTime=0;var n=t.expirationTime,o=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var r=e.latestPendingTime;0!==r&&(r>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(r=e.earliestSuspendedTime)?Qn(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Qn(e,t)):t>r&&Qn(e,t)}ro(0,e)}(e,o>n?o:n),Ca.current=null,n=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,n=t.firstEffect):n=t:n=t.firstEffect,mn=Sr,yn=function(){var e=Fr();if(Rr(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var n=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(e){t=null;break e}var i=0,a=-1,s=-1,l=0,u=0,c=e,p=null;t:for(;;){for(var f;c!==t||0!==n&&3!==c.nodeType||(a=i+n),c!==o||0!==r&&3!==c.nodeType||(s=i+r),3===c.nodeType&&(i+=c.nodeValue.length),null!==(f=c.firstChild);)p=c,c=f;for(;;){if(c===e)break t;if(p===t&&++l===n&&(a=i),p===o&&++u===r&&(s=i),null!==(f=c.nextSibling))break;p=(c=p).parentNode}c=f}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Sr=!1,Ma=n;null!==Ma;){o=!1;var s=void 0;try{Na()}catch(e){o=!0,s=e}o&&(null===Ma&&a("178"),Ka(Ma,s),null!==Ma&&(Ma=Ma.nextEffect))}for(Ma=n;null!==Ma;){o=!1,s=void 0;try{Ua()}catch(e){o=!0,s=e}o&&(null===Ma&&a("178"),Ka(Ma,s),null!==Ma&&(Ma=Ma.nextEffect))}for(Dr(yn),yn=null,Sr=!!mn,mn=null,e.current=t,Ma=n;null!==Ma;){o=!1,s=void 0;try{Va(e,r)}catch(e){o=!0,s=e}o&&(null===Ma&&a("178"),Ka(Ma,s),null!==Ma&&(Ma=Ma.nextEffect))}if(null!==n&&null!==Fa){var l=function(e,t){Da=Ra=Fa=null;var r=os;os=!0;do{if(512&t.effectTag){var n=!1,o=void 0;try{var i=t;da(Lo,Eo,i),da(Eo,Mo,i)}catch(e){n=!0,o=e}n&&Ka(t,o)}t=t.nextEffect}while(null!==t);os=r,0!==(r=e.expirationTime)&&Ss(e,r),cs||os||Ts(1073741823,!1)}.bind(null,e,n);Ra=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return xn(l)}),Da=l}Ea=La=!1,"function"==typeof Nn&&Nn(t.stateNode),r=t.expirationTime,0===(t=(t=t.childExpirationTime)>r?t:r)&&(Ba=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Wa(e){for(;;){var t=e.alternate,r=e.return,n=e.sibling;if(0==(1024&e.effectTag)){Ta=e;e:{var i=t,s=Ia,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ln(t.type)&&Fn();break;case 3:ko(),Rn(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==i&&null!==i.child||(bi(t),t.effectTag&=-3),la(t);break;case 5:Po(t);var u=wo(xo.current);if(s=t.type,null!==i&&null!=t.stateNode)ua(i,t,s,l,u),i.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=wo(bo.current);if(bi(t)){i=(l=t).stateNode;var p=l.type,f=l.memoizedProps,h=u;switch(i[M]=l,i[L]=f,s=void 0,u=p){case"iframe":case"object":kr("load",i);break;case"video":case"audio":for(p=0;p<te.length;p++)kr(te[p],i);break;case"source":kr("error",i);break;case"img":case"image":case"link":kr("error",i),kr("load",i);break;case"form":kr("reset",i),kr("submit",i);break;case"details":kr("toggle",i);break;case"input":_t(i,f),kr("invalid",i),hn(h,"onChange");break;case"select":i._wrapperState={wasMultiple:!!f.multiple},kr("invalid",i),hn(h,"onChange");break;case"textarea":Xr(i,f),kr("invalid",i),hn(h,"onChange")}for(s in pn(u,f),p=null,f)f.hasOwnProperty(s)&&(c=f[s],"children"===s?"string"==typeof c?i.textContent!==c&&(p=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(p=["children",""+c]):b.hasOwnProperty(s)&&null!=c&&hn(h,s));switch(u){case"input":Ve(i),St(i,f,!0);break;case"textarea":Ve(i),Jr(i);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(i.onclick=dn)}s=p,l.updateQueue=s,(l=null!==s)&&aa(t)}else{f=t,h=s,i=l,p=9===u.nodeType?u:u.ownerDocument,c===$r.html&&(c=Qr(h)),c===$r.html?"script"===h?((i=p.createElement("div")).innerHTML="<script><\/script>",p=i.removeChild(i.firstChild)):"string"==typeof i.is?p=p.createElement(h,{is:i.is}):(p=p.createElement(h),"select"===h&&(h=p,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):p=p.createElementNS(c,h),(i=p)[M]=f,i[L]=l,sa(i,t,!1,!1),h=i;var d=u,m=fn(p=s,f=l);switch(p){case"iframe":case"object":kr("load",h),u=f;break;case"video":case"audio":for(u=0;u<te.length;u++)kr(te[u],h);u=f;break;case"source":kr("error",h),u=f;break;case"img":case"image":case"link":kr("error",h),kr("load",h),u=f;break;case"form":kr("reset",h),kr("submit",h),u=f;break;case"details":kr("toggle",h),u=f;break;case"input":_t(h,f),u=bt(h,f),kr("invalid",h),hn(d,"onChange");break;case"option":u=Hr(h,f);break;case"select":h._wrapperState={wasMultiple:!!f.multiple},u=o({},f,{value:void 0}),kr("invalid",h),hn(d,"onChange");break;case"textarea":Xr(h,f),u=Kr(h,f),kr("invalid",h),hn(d,"onChange");break;default:u=f}pn(p,u),c=void 0;var y=p,g=h,v=u;for(c in v)if(v.hasOwnProperty(c)){var _=v[c];"style"===c?un(g,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&nn(g,_):"children"===c?"string"==typeof _?("textarea"!==y||""!==_)&&on(g,_):"number"==typeof _&&on(g,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&hn(d,c):null!=_&&gt(g,c,_,m))}switch(p){case"input":Ve(h),St(h,f,!1);break;case"textarea":Ve(h),Jr(h);break;case"option":null!=f.value&&h.setAttribute("value",""+vt(f.value));break;case"select":(u=h).multiple=!!f.multiple,null!=(h=f.value)?Zr(u,!!f.multiple,h,!1):null!=f.defaultValue&&Zr(u,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof u.onClick&&(h.onclick=dn)}(l=gn(s,l))&&aa(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:i&&null!=t.stateNode?ca(i,t,i.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&a("166")),i=wo(xo.current),wo(bo.current),bi(t)?(s=(l=t).stateNode,i=l.memoizedProps,s[M]=l,(l=s.nodeValue!==i)&&aa(t)):(s=t,(l=(9===i.nodeType?i:i.ownerDocument).createTextNode(l))[M]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,Ta=t;break e}l=null!==l,s=null!==i&&null!==i.memoizedState,null!==i&&!l&&s&&(null!==(i=i.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=i,i.nextEffect=u):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:ko(),la(t);break;case 10:Ui(t);break;case 9:case 14:break;case 17:Ln(t.type)&&Fn();break;case 18:break;default:a("156")}Ta=null}if(t=e,1===Ia||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(i=s.expirationTime)>l&&(l=i),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;t.childExpirationTime=l}if(null!==Ta)return Ta;null!==r&&0==(1024&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e))}else{if(null!==(e=Sa(e)))return e.effectTag&=1023,e;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=1024)}if(null!==n)return n;if(null===r)break;e=r}return null}function Ha(e){var t=Li(e.alternate,e,Ia);return e.memoizedProps=e.pendingProps,null===t&&(t=Wa(e)),Ca.current=null,t}function Za(e,t){Ea&&a("243"),qa(),Ea=!0;var r=ka.current;ka.current=ui;var n=e.nextExpirationTimeToWorkOn;n===Ia&&e===Aa&&null!==Ta||(ja(),Ia=n,Ta=Zn((Aa=e).current,null),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==Ta&&!Ps();)Ta=Ha(Ta);else for(;null!==Ta;)Ta=Ha(Ta)}catch(t){if(Bi=Di=Ri=null,$o(),null===Ta)o=!0,Os(t);else{null===Ta&&a("271");var i=Ta,s=i.return;if(null!==s){e:{var l=e,u=s,c=i,p=t;if(s=Ia,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==p&&"object"==typeof p&&"function"==typeof p.then){var f=p;p=u;var h=-1,d=-1;do{if(13===p.tag){var m=p.alternate;if(null!==m&&null!==(m=m.memoizedState)){d=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=p.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}p=p.return}while(null!==p);p=u;do{if((m=13===p.tag)&&(m=void 0!==p.memoizedProps.fallback&&null===p.memoizedState),m){if(null===(u=p.updateQueue)?((u=new Set).add(f),p.updateQueue=u):u.add(f),0==(1&p.mode)){p.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=Yi(1073741823)).tag=Wi,$i(c,s))),c.expirationTime=1073741823;break e}u=s;var y=(c=l).pingCache;null===y?(y=c.pingCache=new _a,m=new Set,y.set(f,m)):void 0===(m=y.get(f))&&(m=new Set,y.set(f,m)),m.has(u)||(m.add(u),c=Ya.bind(null,c,f,u),f.then(c,c)),-1===h?l=1073741823:(-1===d&&(d=10*(1073741822-to(l,s))-5e3),l=d+h),0<=l&&za<l&&(za=l),p.effectTag|=2048,p.expirationTime=s;break e}p=p.return}while(null!==p);p=Error((st(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}Oa=!0,p=ia(p,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Qi(l,s=xa(l,p,s));break e;case 1:if(h=p,d=l.type,c=l.stateNode,0==(64&l.effectTag)&&("function"==typeof d.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===Ba||!Ba.has(c)))){l.effectTag|=2048,l.expirationTime=s,Qi(l,s=wa(l,h,s));break e}}l=l.return}while(null!==l)}Ta=Wa(i);continue}o=!0,Os(t)}}break}if(Ea=!1,ka.current=r,Bi=Di=Ri=null,$o(),o)Aa=null,e.finishedWork=null;else if(null!==Ta)e.finishedWork=null;else{if(null===(r=e.current.alternate)&&a("281"),Aa=null,Oa){if(o=e.latestPendingTime,i=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o<n||0!==i&&i<n||0!==s&&s<n)return eo(e,n),void xs(e,r,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void xs(e,r,n,t,-1)}t&&-1!==za?(eo(e,n),(t=10*(1073741822-to(e,n)))<za&&(za=t),t=10*(1073741822-ws()),t=za-t,xs(e,r,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=r)}}function Ka(e,t){for(var r=e.return;null!==r;){switch(r.tag){case 1:var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ba||!Ba.has(n)))return $i(r,e=wa(r,e=ia(t,e),1073741823)),void $a(r,1073741823);break;case 3:return $i(r,e=xa(r,e=ia(t,e),1073741823)),void $a(r,1073741823)}r=r.return}3===e.tag&&($i(e,r=xa(e,r=ia(t,e),1073741823)),$a(e,1073741823))}function Xa(e,t){var r=i.unstable_getCurrentPriorityLevel(),n=void 0;if(0==(1&t.mode))n=1073741823;else if(Ea&&!La)n=Ia;else{switch(r){case i.unstable_ImmediatePriority:n=1073741823;break;case i.unstable_UserBlockingPriority:n=1073741822-10*(1+((1073741822-e+15)/10|0));break;case i.unstable_NormalPriority:n=1073741822-25*(1+((1073741822-e+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:n=1;break;default:a("313")}null!==Aa&&n===Ia&&--n}return r===i.unstable_UserBlockingPriority&&(0===ss||n<ss)&&(ss=n),n}function Ya(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),null!==Aa&&Ia===r?Aa=null:(t=e.earliestSuspendedTime,n=e.latestSuspendedTime,0!==t&&r<=t&&r>=n&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>r)&&(e.latestPingedTime=r),ro(r,e),0!==(r=e.expirationTime)&&Ss(e,r)))}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,o=null;if(null===n&&3===e.tag)o=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){o=n.stateNode;break}n=n.return}return o}function $a(e,t){null!==(e=Ja(e,t))&&(!Ea&&0!==Ia&&t>Ia&&ja(),Qn(e,t),Ea&&!La&&Aa===e||Ss(e,e.expirationTime),gs>ys&&(gs=0,a("185")))}function Qa(e,t,r,n,o){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return e(t,r,n,o)})}var es=null,ts=null,rs=0,ns=void 0,os=!1,is=null,as=0,ss=0,ls=!1,us=null,cs=!1,ps=!1,fs=null,hs=i.unstable_now(),ds=1073741822-(hs/10|0),ms=ds,ys=50,gs=0,vs=null;function bs(){ds=1073741822-((i.unstable_now()-hs)/10|0)}function _s(e,t){if(0!==rs){if(t<rs)return;null!==ns&&i.unstable_cancelCallback(ns)}rs=t,e=i.unstable_now()-hs,ns=i.unstable_scheduleCallback(Es,{timeout:10*(1073741822-t)-e})}function xs(e,t,r,n,o){e.expirationTime=n,0!==o||Ps()?0<o&&(e.timeoutHandle=bn(function(e,t,r){e.pendingCommitExpirationTime=r,e.finishedWork=t,bs(),ms=ds,As(e,r)}.bind(null,e,t,r),o)):(e.pendingCommitExpirationTime=r,e.finishedWork=t)}function ws(){return os?ms:(ks(),0!==as&&1!==as||(bs(),ms=ds),ms)}function Ss(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),os||(cs?ps&&(is=e,as=1073741823,Is(e,1073741823,!1)):1073741823===t?Ts(1073741823,!1):_s(e,t))}function ks(){var e=0,t=null;if(null!==ts)for(var r=ts,n=es;null!==n;){var o=n.expirationTime;if(0===o){if((null===r||null===ts)&&a("244"),n===n.nextScheduledRoot){es=ts=n.nextScheduledRoot=null;break}if(n===es)es=o=n.nextScheduledRoot,ts.nextScheduledRoot=o,n.nextScheduledRoot=null;else{if(n===ts){(ts=r).nextScheduledRoot=es,n.nextScheduledRoot=null;break}r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=r.nextScheduledRoot}else{if(o>e&&(e=o,t=n),n===ts)break;if(1073741823===e)break;r=n,n=n.nextScheduledRoot}}is=t,as=e}var Cs=!1;function Ps(){return!!Cs||!!i.unstable_shouldYield()&&(Cs=!0)}function Es(){try{if(!Ps()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&ds<=t&&(e.nextExpirationTimeToWorkOn=ds),e=e.nextScheduledRoot}while(e!==es)}Ts(0,!0)}finally{Cs=!1}}function Ts(e,t){if(ks(),t)for(bs(),ms=ds;null!==is&&0!==as&&e<=as&&!(Cs&&ds>as);)Is(is,as,ds>as),ks(),bs(),ms=ds;else for(;null!==is&&0!==as&&e<=as;)Is(is,as,!1),ks();if(t&&(rs=0,ns=null),0!==as&&_s(is,as),gs=0,vs=null,null!==fs)for(e=fs,fs=null,t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(e){ls||(ls=!0,us=e)}}if(ls)throw e=us,us=null,ls=!1,e}function As(e,t){os&&a("253"),is=e,as=t,Is(e,t,!1),Ts(1073741823,!1)}function Is(e,t,r){if(os&&a("245"),os=!0,r){var n=e.finishedWork;null!==n?zs(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,_n(n)),Za(e,r),null!==(n=e.finishedWork)&&(Ps()?e.finishedWork=n:zs(e,n,t)))}else null!==(n=e.finishedWork)?zs(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,_n(n)),Za(e,r),null!==(n=e.finishedWork)&&zs(e,n,t));os=!1}function zs(e,t,r){var n=e.firstBatch;if(null!==n&&n._expirationTime>=r&&(null===fs?fs=[n]:fs.push(n),n._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===vs?gs++:(vs=e,gs=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){Ga(e,t)})}function Os(e){null===is&&a("246"),is.expirationTime=0,ls||(ls=!0,us=e)}function Ms(e,t){var r=cs;cs=!0;try{return e(t)}finally{(cs=r)||os||Ts(1073741823,!1)}}function Ls(e,t){if(cs&&!ps){ps=!0;try{return e(t)}finally{ps=!1}}return e(t)}function Fs(e,t,r){cs||os||0===ss||(Ts(ss,!1),ss=0);var n=cs;cs=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return e(t,r)})}finally{(cs=n)||os||Ts(1073741823,!1)}}function Rs(e,t,r,n,o){var i=t.current;e:if(r){t:{2===tr(r=r._reactInternalFiber)&&1===r.tag||a("170");var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===r.tag){var l=r.type;if(Ln(l)){r=Bn(r,l,s);break e}}r=s}else r=An;return null===t.context?t.context=r:t.pendingContext=r,t=o,(o=Yi(n)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),qa(),$i(i,o),$a(i,n),n}function Ds(e,t,r,n){var o=t.current;return Rs(e,t,r,o=Xa(ws(),o),n)}function Bs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function js(e){var t=1073741822-25*(1+((1073741822-ws()+500)/25|0));t>=Pa&&(t=Pa-1),this._expirationTime=Pa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Us(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ns(e,t,r){e={current:t=Wn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:r,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Vs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qs(e,t,r,n,o){var i=r._reactRootContainer;if(i){if("function"==typeof o){var a=o;o=function(){var e=Bs(i._internalRoot);a.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Ns(e,!1,t)}(r,n),"function"==typeof o){var s=o;o=function(){var e=Bs(i._internalRoot);s.call(e)}}Ls(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return Bs(i._internalRoot)}function Gs(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Vs(t)||a("200"),function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ke,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}Pe=function(e,t,r){switch(t){case"input":if(wt(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=B(n);o||a("90"),qe(n),wt(n,o)}}}break;case"textarea":Yr(e,r);break;case"select":null!=(t=r.value)&&Zr(e,!!r.multiple,t,!1)}},js.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,r=this._expirationTime,n=new Us;return Rs(e,t,null,r,n._onCommit),n},js.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},js.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,o=t;o!==this;)n=o,o=o._next;null===n&&a("251"),n._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,As(e,r),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},js.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Us.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Us.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!=typeof r&&a("191",r),r()}}},Ns.prototype.render=function(e,t){var r=this._internalRoot,n=new Us;return null!==(t=void 0===t?null:t)&&n.then(t),Ds(e,r,null,n._onCommit),n},Ns.prototype.unmount=function(e){var t=this._internalRoot,r=new Us;return null!==(e=void 0===e?null:e)&&r.then(e),Ds(null,t,null,r._onCommit),r},Ns.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var n=this._internalRoot,o=new Us;return null!==(r=void 0===r?null:r)&&o.then(r),Ds(t,n,e,o._onCommit),o},Ns.prototype.createBatch=function(){var e=new js(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime>=t;)r=n,n=n._next;e._next=n,null!==r&&(r._next=e)}return e},Oe=Ms,Me=Fs,Le=function(){os||0===ss||(Ts(ss,!1),ss=0)};var Ws={createPortal:Gs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=nr(t))?null:e.stateNode},hydrate:function(e,t,r){return Vs(t)||a("200"),qs(null,e,t,!0,r)},render:function(e,t,r){return Vs(t)||a("200"),qs(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){return Vs(r)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),qs(e,t,r,!1,n)},unmountComponentAtNode:function(e){return Vs(e)||a("40"),!!e._reactRootContainer&&(Ls(function(){qs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Gs.apply(void 0,arguments)},unstable_batchedUpdates:Ms,unstable_interactiveUpdates:Fs,flushSync:function(e,t){os&&a("187");var r=cs;cs=!0;try{return Qa(e,t)}finally{cs=r,Ts(1073741823,!1)}},unstable_createRoot:function(e,t){return Vs(e)||a("299","unstable_createRoot"),new Ns(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=cs;cs=!0;try{Qa(e)}finally{(cs=t)||os||Ts(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[R,D,B,A.injectEventPluginsByName,v,G,function(e){P(e,q)},Ie,ze,Er,z]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Nn=qn(function(e){return t.onCommitFiberRoot(r,e)}),Vn=qn(function(e){return t.onCommitFiberUnmount(r,e)})}catch(e){}})(o({},e,{overrideProps:null,currentDispatcherRef:Ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nr(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:F,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Hs={default:Ws},Zs=Hs&&Ws||Hs;e.exports=Zs.default||Zs},function(e,t,r){"use strict";e.exports=r(49)},function(e,t,r){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var r=null,n=!1,o=3,i=-1,a=-1,s=!1,l=!1;function u(){if(!s){var e=r.expirationTime;l?S():l=!0,w(f,e)}}function c(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=o,s=a;o=e,a=t;try{var l=n()}finally{o=i,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=l.next=l.previous=l;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=l,u()),(t=n.previous).next=n.previous=l,l.next=n,l.previous=t}}function p(){if(-1===i&&null!==r&&1===r.priorityLevel){s=!0;try{do{c()}while(null!==r&&1===r.priorityLevel)}finally{s=!1,null!==r?u():l=!1}}}function f(e){s=!0;var o=n;n=e;try{if(e)for(;null!==r;){var i=t.unstable_now();if(!(r.expirationTime<=i))break;do{c()}while(null!==r&&r.expirationTime<=i)}else if(null!==r)do{c()}while(null!==r&&!k())}finally{s=!1,n=o,null!==r?u():l=!1,p()}}var h,d,m=Date,y="function"==typeof setTimeout?setTimeout:void 0,g="function"==typeof clearTimeout?clearTimeout:void 0,v="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){h=v(function(t){g(d),e(t)}),d=y(function(){b(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return m.now()};var w,S,k,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var P=C._schedMock;w=P[0],S=P[1],k=P[2],t.unstable_now=P[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var E=null,T=function(e){if(null!==E)try{E(e)}finally{E=null}};w=function(e){null!==E?setTimeout(w,0,e):(E=e,setTimeout(T,0,!1))},S=function(){E=null},k=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var A=null,I=!1,z=-1,O=!1,M=!1,L=0,F=33,R=33;k=function(){return L<=t.unstable_now()};var D=new MessageChannel,B=D.port2;D.port1.onmessage=function(){I=!1;var e=A,r=z;A=null,z=-1;var n=t.unstable_now(),o=!1;if(0>=L-n){if(!(-1!==r&&r<=n))return O||(O=!0,_(j)),A=e,void(z=r);o=!0}if(null!==e){M=!0;try{e(o)}finally{M=!1}}};var j=function(e){if(null!==A){_(j);var t=e-L+R;t<R&&F<R?(8>t&&(t=8),R=t<F?F:t):F=t,L=e+R,I||(I=!0,B.postMessage(void 0))}else O=!1};w=function(e,t){A=e,z=t,M||0>t?B.postMessage(void 0):O||(O=!0,_(j))},S=function(){A=null,I=!1,z=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,r){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=o,a=i;o=e,i=t.unstable_now();try{return r()}finally{o=n,i=a,p()}},t.unstable_next=function(e){switch(o){case 1:case 2:case 3:var r=3;break;default:r=o}var n=o,a=i;o=r,i=t.unstable_now();try{return e()}finally{o=n,i=a,p()}},t.unstable_scheduleCallback=function(e,n){var a=-1!==i?i:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=a+n.timeout;else switch(o){case 1:n=a+-1;break;case 2:n=a+250;break;case 5:n=a+1073741823;break;case 4:n=a+1e4;break;default:n=a+5e3}if(e={callback:e,priorityLevel:o,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,u();else{a=null;var s=r;do{if(s.expirationTime>n){a=s;break}s=s.next}while(s!==r);null===a?a=r:a===r&&(r=e,u()),(n=a.previous).next=a.previous=e,e.next=a,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var r=o;return function(){var n=o,a=i;o=r,i=t.unstable_now();try{return e.apply(this,arguments)}finally{o=n,i=a,p()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!n&&(null!==r&&r.expirationTime<a||k())},t.unstable_continueExecution=function(){null!==r&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}}).call(this,r(25))},function(e,t,r){var n=r(51);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(27)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(26)(!1)).push([e.i,".mapboxgl-map {\n    font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n    overflow: hidden;\n    position: relative;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.mapboxgl-map:-webkit-full-screen {\n    width: 100%;\n    height: 100%;\n}\n\n.mapboxgl-canary {\n    background-color: salmon;\n}\n\n.mapboxgl-canvas-container.mapboxgl-interactive,\n.mapboxgl-ctrl-group > button.mapboxgl-ctrl-compass {\n    cursor: -webkit-grab;\n    cursor: -moz-grab;\n    cursor: grab;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.mapboxgl-canvas-container.mapboxgl-interactive:active,\n.mapboxgl-ctrl-group > button.mapboxgl-ctrl-compass:active {\n    cursor: -webkit-grabbing;\n    cursor: -moz-grabbing;\n    cursor: grabbing;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas {\n    touch-action: pan-x pan-y;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas {\n    touch-action: pinch-zoom;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas {\n    touch-action: none;\n}\n\n.mapboxgl-ctrl-top-left,\n.mapboxgl-ctrl-top-right,\n.mapboxgl-ctrl-bottom-left,\n.mapboxgl-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.mapboxgl-ctrl-top-left     { top: 0; left: 0; }\n.mapboxgl-ctrl-top-right    { top: 0; right: 0; }\n.mapboxgl-ctrl-bottom-left  { bottom: 0; left: 0; }\n.mapboxgl-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.mapboxgl-ctrl {\n    clear: both;\n    pointer-events: auto;\n\n    /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n    transform: translate(0, 0);\n}\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl     { margin: 10px 0 0 10px; float: left; }\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl    { margin: 10px 10px 0 0; float: right; }\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl  { margin: 0 0 10px 10px; float: left; }\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl { margin: 0 10px 10px 0; float: right; }\n\n.mapboxgl-ctrl-group {\n    border-radius: 4px;\n    overflow: hidden;\n    background: #fff;\n}\n\n.mapboxgl-ctrl-group:not(:empty) {\n    -moz-box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);\n    -webkit-box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);\n    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);\n}\n\n.mapboxgl-ctrl-group > button {\n    width: 30px;\n    height: 30px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    background-color: transparent;\n    cursor: pointer;\n}\n\n.mapboxgl-ctrl-group > button + button {\n    border-top: 1px solid #ddd;\n}\n\n/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */\n.mapboxgl-ctrl > button::-moz-focus-inner {\n    border: 0;\n    padding: 0;\n}\n\n.mapboxgl-ctrl > button:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n}\n\n.mapboxgl-ctrl-icon,\n.mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow {\n    speak: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.mapboxgl-ctrl-icon {\n    padding: 5px;\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-icon-disabled {\n    opacity: 0.25;\n    border-color: #373737;\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting {\n    -webkit-animation: mapboxgl-spin 2s infinite linear;\n    -moz-animation: mapboxgl-spin 2s infinite linear;\n    -o-animation: mapboxgl-spin 2s infinite linear;\n    -ms-animation: mapboxgl-spin 2s infinite linear;\n    animation: mapboxgl-spin 2s infinite linear;\n}\n\n@-webkit-keyframes mapboxgl-spin {\n    0% { -webkit-transform: rotate(0deg); }\n    100% { -webkit-transform: rotate(360deg); }\n}\n\n@-moz-keyframes mapboxgl-spin {\n    0% { -moz-transform: rotate(0deg); }\n    100% { -moz-transform: rotate(360deg); }\n}\n\n@-o-keyframes mapboxgl-spin {\n    0% { -o-transform: rotate(0deg); }\n    100% { -o-transform: rotate(360deg); }\n}\n\n@-ms-keyframes mapboxgl-spin {\n    0% { -ms-transform: rotate(0deg); }\n    100% { -ms-transform: rotate(360deg); }\n}\n\n@keyframes mapboxgl-spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z '/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23000000;' d='M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z '/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow {\n    width: 20px;\n    height: 20px;\n    margin: 5px;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpolygon fill='%23333333' points='6,9 10,1 14,9'/%3E %3Cpolygon fill='%23CCCCCC' points='6,11 10,19 14,11 '/%3E %3C/svg%3E\");\n    background-repeat: no-repeat;\n    display: inline-block;\n}\n\na.mapboxgl-ctrl-logo {\n    width: 85px;\n    height: 21px;\n    margin: 0 0 -3px -3px;\n    display: block;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 84.49 21' style='enable-background:new 0 0 84.49 21;' xml:space='preserve'%3E%3Cg%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z'/%3E %3Cpolygon class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' points='14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 '/%3E%3C/g%3E%3C/svg%3E\");\n}\n\na.mapboxgl-ctrl-logo.mapboxgl-compact {\n    width: 21px;\n    height: 21px;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 21 21' style='enable-background:new 0 0 21 21;' xml:space='preserve'%3E%3Cg transform='translate(0,0.01)'%3E%3Cpath d='m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3Cpath d='M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpath d='M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpolygon points='11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 ' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\n    padding: 0 5px;\n    background-color: rgba(255, 255, 255, 0.5);\n    margin: 0;\n}\n\n@media screen {\n    .mapboxgl-ctrl-attrib.mapboxgl-compact {\n        min-height: 20px;\n        padding: 0;\n        margin: 10px;\n        position: relative;\n        background-color: #fff;\n        border-radius: 3px 12px 12px 3px;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\n        padding: 2px 24px 2px 4px;\n        visibility: visible;\n        margin-top: 6px;\n    }\n\n    .mapboxgl-ctrl-top-left > .mapboxgl-ctrl-attrib.mapboxgl-compact:hover,\n    .mapboxgl-ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\n        padding: 2px 4px 2px 24px;\n        border-radius: 12px 3px 3px 12px;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner {\n        display: none;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner {\n        display: block;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        content: '';\n        cursor: pointer;\n        position: absolute;\n        background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill='%23333333' fill-rule='evenodd' d='M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0'/%3E %3C/svg%3E\");\n        background-color: rgba(255, 255, 255, 0.5);\n        width: 24px;\n        height: 24px;\n        box-sizing: border-box;\n        border-radius: 12px;\n    }\n\n    .mapboxgl-ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        bottom: 0;\n        right: 0;\n    }\n\n    .mapboxgl-ctrl-top-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        top: 0;\n        right: 0;\n    }\n\n    .mapboxgl-ctrl-top-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        top: 0;\n        left: 0;\n    }\n\n    .mapboxgl-ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        bottom: 0;\n        left: 0;\n    }\n}\n\n.mapboxgl-ctrl-attrib a {\n    color: rgba(0, 0, 0, 0.75);\n    text-decoration: none;\n}\n\n.mapboxgl-ctrl-attrib a:hover {\n    color: inherit;\n    text-decoration: underline;\n}\n\n/* stylelint-disable-next-line selector-class-pattern */\n.mapboxgl-ctrl-attrib .mapbox-improve-map {\n    font-weight: bold;\n    margin-left: 2px;\n}\n\n.mapboxgl-attrib-empty {\n    display: none;\n}\n\n.mapboxgl-ctrl-scale {\n    background-color: rgba(255, 255, 255, 0.75);\n    font-size: 10px;\n    border-width: medium 2px 2px;\n    border-style: none solid solid;\n    border-color: #333;\n    padding: 0 5px;\n    color: #333;\n    box-sizing: border-box;\n}\n\n.mapboxgl-popup {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: -webkit-flex;\n    display: flex;\n    will-change: transform;\n    pointer-events: none;\n}\n\n.mapboxgl-popup-anchor-top,\n.mapboxgl-popup-anchor-top-left,\n.mapboxgl-popup-anchor-top-right {\n    -webkit-flex-direction: column;\n    flex-direction: column;\n}\n\n.mapboxgl-popup-anchor-bottom,\n.mapboxgl-popup-anchor-bottom-left,\n.mapboxgl-popup-anchor-bottom-right {\n    -webkit-flex-direction: column-reverse;\n    flex-direction: column-reverse;\n}\n\n.mapboxgl-popup-anchor-left {\n    -webkit-flex-direction: row;\n    flex-direction: row;\n}\n\n.mapboxgl-popup-anchor-right {\n    -webkit-flex-direction: row-reverse;\n    flex-direction: row-reverse;\n}\n\n.mapboxgl-popup-tip {\n    width: 0;\n    height: 0;\n    border: 10px solid transparent;\n    z-index: 1;\n}\n\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-top: none;\n    border-bottom-color: #fff;\n}\n\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-top: none;\n    border-left: none;\n    border-bottom-color: #fff;\n}\n\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-top: none;\n    border-right: none;\n    border-bottom-color: #fff;\n}\n\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-bottom: none;\n    border-top-color: #fff;\n}\n\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-bottom: none;\n    border-left: none;\n    border-top-color: #fff;\n}\n\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-bottom: none;\n    border-right: none;\n    border-top-color: #fff;\n}\n\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-left: none;\n    border-right-color: #fff;\n}\n\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-right: none;\n    border-left-color: #fff;\n}\n\n.mapboxgl-popup-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    border: 0;\n    border-radius: 0 3px 0 0;\n    cursor: pointer;\n    background-color: transparent;\n}\n\n.mapboxgl-popup-close-button:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n}\n\n.mapboxgl-popup-content {\n    position: relative;\n    background: #fff;\n    border-radius: 3px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n    padding: 10px 10px 15px;\n    pointer-events: auto;\n}\n\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content {\n    border-top-left-radius: 0;\n}\n\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content {\n    border-top-right-radius: 0;\n}\n\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content {\n    border-bottom-left-radius: 0;\n}\n\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content {\n    border-bottom-right-radius: 0;\n}\n\n.mapboxgl-marker {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n}\n\n.mapboxgl-user-location-dot {\n    background-color: #1da1f2;\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.25);\n}\n\n.mapboxgl-user-location-dot::before {\n    background-color: #1da1f2;\n    content: '';\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    position: absolute;\n    -webkit-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    -moz-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    -ms-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    animation: mapboxgl-user-location-dot-pulse 2s infinite;\n}\n\n.mapboxgl-user-location-dot::after {\n    border-radius: 50%;\n    border: 2px solid #fff;\n    content: '';\n    height: 19px;\n    left: -2px;\n    position: absolute;\n    top: -2px;\n    width: 19px;\n    box-sizing: border-box;\n}\n\n@-webkit-keyframes mapboxgl-user-location-dot-pulse {\n    0%   { -webkit-transform: scale(1); opacity: 1; }\n    70%  { -webkit-transform: scale(3); opacity: 0; }\n    100% { -webkit-transform: scale(1); opacity: 0; }\n}\n\n@-ms-keyframes mapboxgl-user-location-dot-pulse {\n    0%   { -ms-transform: scale(1); opacity: 1; }\n    70%  { -ms-transform: scale(3); opacity: 0; }\n    100% { -ms-transform: scale(1); opacity: 0; }\n}\n\n@keyframes mapboxgl-user-location-dot-pulse {\n    0%   { transform: scale(1); opacity: 1; }\n    70%  { transform: scale(3); opacity: 0; }\n    100% { transform: scale(1); opacity: 0; }\n}\n\n.mapboxgl-user-location-dot-stale {\n    background-color: #aaa;\n}\n\n.mapboxgl-user-location-dot-stale::after {\n    display: none;\n}\n\n.mapboxgl-crosshair,\n.mapboxgl-crosshair .mapboxgl-interactive,\n.mapboxgl-crosshair .mapboxgl-interactive:active {\n    cursor: crosshair;\n}\n\n.mapboxgl-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n}\n\n@media print {\n    /* stylelint-disable-next-line selector-class-pattern */\n    .mapbox-improve-map {\n        display: none;\n    }\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,r){var n={"./BenOvermyer.json":54,"./Doppp.json":55,"./NotBobTheBuilder.json":56,"./Projjol.json":57,"./TimeSlides.json":58,"./aaronky.json":59,"./aybabtme.json":60,"./baconscript.json":61,"./bhdn.json":62,"./brianpeiris.json":63,"./danleech.json":64,"./dmph.json":65,"./dsimandl.json":66,"./garethahealy.json":67,"./h-m-m.json":68,"./heyuanh.json":69,"./jblz.json":70,"./johnthepink.json":71,"./jonnyand.json":72,"./jshawl.json":73,"./kallisto.json":74,"./kami.json":75,"./koddsson.json":76,"./krystiano.json":77,"./lorn.json":78,"./magarcia.json":79,"./mariusz.json":80,"./mattgillooly.json":81,"./neurosaurus.json":82,"./orendon.json":83,"./pdostal.json":84,"./petteraas.json":85,"./rcknight.json":86,"./repat.json":87,"./robertpateii.json":88,"./rowanwernham.json":89,"./ryanseys.json":90,"./sirodoht.json":91,"./thibweb.json":92,"./tokki.json":93,"./unixorn.json":94,"./vlyubin.json":95,"./vtunka.json":96,"./xando.json":97};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=53},function(e){e.exports=[{city:"Minneapolis",country:"USA",name:"Five Watt Coffee",address:"3745 Nicollet Avenue, Minneapolis, MN 55409",coordinates:["44.935153","-93.277886"],description:{Internet:"Freely available and wide open. VPN is a good idea.",Service:"Very friendly, characterful, and highly competent staff.",Provision:"Unusual coffees you won't find elsewhere. They use bitters for a number of their drinks.",Hours:"Mon-Sat 06:00 to 21:00, Sun 06:30 to 21:00"},link:{homepage:"http://www.fivewattcoffee.com/"}}]},function(e){e.exports=[{city:"San Francisco",country:"USA",name:"Philz Coffee",address:"399 Golden Gate Ave, San Francisco, CA 94102",coordinates:["37.78137","-122.417114"],description:{Internet:"Free wifi, good speed.","Power Outlets":"There are a few but they tend to get snapped up if you don't come early.",Seating:"Comfortable seats. Good mix of tables and chairs as well as couches. Some spots are also great for working.",Service:"Very friendly. Staff are always happy to give you a lecture on the history of their coffee and are knowledgeable on the subject.",Provision:"Great, fun coffee as one would expect from a Philz. Pastries."},link:{homepage:"http://www.philzcoffee.com/"}},{city:"San Francisco",country:"USA",name:"Philz Coffee",address:"201 Berry St, San Francisco, CA 94158",coordinates:["37.775840","-122.393487"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Not many. Only a couple and they are usually in use.",Seating:"Ample. Might get crowded at peak times.",Service:"Very friendly. Staff are cheerful and helpful and knowledgeable.",Provision:"Great, fun coffee as one would expect from a Philz. Pastries."},link:{homepage:"http://www.philzcoffee.com/"}},{city:"San Francisco",country:"USA",name:"Workshop Cafe",address:"180 Montgomery St #100, San Francisco, CA 94104",coordinates:["37.790925","-122.402247"],description:{Internet:"Excellent internet. Super fast.","Power Outlets":"Dedicated power outlets for each customer.",Seating:"Plenty of seating.",Service:"Excellent service.",Provision:"Decent coffee, has pastries and sandwiches. You have to pay $2 an hour to use the facilities but everything is great."},link:{homepage:"http://workshopcafe.com/"}},{city:"San Francisco",country:"USA",name:"BrainWash Cafe & Laundromat",address:"1122 Folsom St, San Francisco, CA 94103",coordinates:["37.776279","-122.408597"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Sufficient power outlets.",Seating:"Ample seating.",Service:"Excellent service.",Provision:"Great coffee and good diner food."},link:{homepage:"http://www.brainwash.com/"}},{city:"San Francisco",country:"USA",name:"Epicenter Cafe",address:"764 Harrison St, San Francisco, CA 94107",coordinates:["37.781480","-122.398994"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Some.",Seating:"Ample seating.",Service:"Excellent service.",Provision:"Sandwiches, casual dining, desserts."},link:{homepage:"http://www.epicentercafe.com/"}},{city:"San Francisco",country:"USA",name:"Contraband Coffee Bar",address:"1415 Larkin St, San Francisco, CA 94109",coordinates:["37.790981","-122.419169"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Only four available.",Seating:"Ample seating.",Service:"Excellent service.",Provision:"Great coffee and okay pastries."},link:{homepage:"http://www.contrabandcoffeebar.com/"}},{city:"San Francisco",country:"USA",name:"Ritual Coffee Roasters",address:"1026 Valencia St, San Francisco, CA 94110",coordinates:["37.756426","-122.421229"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Some outlets. Gets crowded pretty quickly.",Seating:"Ample seating.",Service:"Good service.",Provision:"Great coffee and pastries."},link:{homepage:"http://www.ritualroasters.com/"}},{city:"San Francisco",country:"USA",name:"Mission Creek Cafe",address:"968 Valencia St, San Francisco, CA 94110",coordinates:["37.757445","-122.421335"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Some outlets.",Seating:"Ample seating.",Service:"Good service.",Provision:"Okay coffee, sandwiches and pastries."},link:{homepage:"https://plus.google.com/113039391985179622929/"}},{city:"San Francisco",country:"USA",name:"Jane",address:"2123 Fillmore St, San Francisco, CA 94115",coordinates:["37.789379","-122.434069"],description:{Internet:"Free wifi, good speed.","Power Outlets":"Some.",Seating:"Ample seating.",Service:"Excellent service.",Provision:"Coffee, pastries and sandwiches."},link:{homepage:"http://janeonfillmore.com/"}}]},function(e){e.exports=[{city:"Manchester",country:"UK",name:"North Tea Power",address:"36 Tib St, Manchester, M4 1LA",coordinates:["53.48296","-2.23583"],description:{Internet:"Free wifi (with captive portal, no registration)","Power Outlets":"None that I could see",Seating:"Small tables two large benches",Service:"Very friendly",Provision:"Coffee, tea, cake",Hours:"Mon-Fri 8.00-19.00, Sat 10.00-19.00, Sun 11.00-18.00"},link:{homepage:"http://northteapower.co.uk/",twitter:"https://twitter.com/northteapower"}},{city:"Birmingham",country:"UK",name:"Urban Coffee Co (Church St)",address:"30 Church Street, Birmingham, B3 2NP",coordinates:["52.48227","-1.900485"],description:{Internet:"Free wifi","Power Outlets":"A small number",Seating:"Good size tables, comfy chairs, bar-style seating, benches",Service:"Very friendly",Provision:"Coffee, tea, cake, alcoholic drinks",Hours:"Mon-Fri 7.00-19.00, Sat-Sun 10.00-17.00"},link:{homepage:"http://www.urbancoffee.co.uk/",twitter:"https://twitter.com/urbancoffeeco",facebook:"https://facebook.com/urbancoffee"}}]},function(e){e.exports=[{city:"Bangalore",country:"IN",name:"Caffe Pascucci",address:"7th Main Road, HRBR Layout 1st Block, Banaswadi",coordinates:["13.020500","77.643341"],description:{Internet:"Good WiFi speed","Power outlets":"No",Seating:"Chairs and sofas",Service:"Service is prompt and on time.",Provision:"Good food and WiFi, overall pretty cool place to work.",Hours:"Everyday from 10 AM to 11 PM"}}]},function(e){e.exports=[{city:"Seattle",country:"USA",name:"Ada's Technical Books and Cafe",address:"425 15th Ave East",coordinates:["47.622711","-122.312957"],description:{"Store Hours":"8am-10pm every day",Internet:"free wifi","Power Outlets":"Most tables have a power outlet in the floor underneath them",Seating:"chairs",Service:"Awesome",Provision:"Menu changes often but can include mac & cheese, soup, scrambled eggs. Coffee, tea, etc are always available."},link:{homepage:"http://www.seattletechnicalbooks.com/"}}]},function(e){e.exports=[{city:"Dana Point",country:"USA",name:"Beans Coffee House",address:"34114 Pacific Coast Highway, Dana Point, CA 92629",coordinates:["33.466223","-117.704355"],description:{Internet:"complimentary wireless internet access to all of it's customers. just ask for an access card when making your purchase",Service:"service is awesome and quick",Provision:"amazing coffee and baked goods prepared fresh daily",Hours:"Every day 5:00 AM - 8:00 PM"},link:{homepage:"http://www.jcbeans.com"}}]},function(e){e.exports=[{city:"Ho Chi Minh City",country:"VN",name:"Ca Phe Take",address:"26/7 Nguyễn Bỉnh Khiêm Q1",coordinates:["10.7886577","106.70294639999997"],description:{Internet:"Private Wifi network with awesome speed (speedtest.net reports 50/50Mbps). Password is `takenew1` as of 2013/12/16.  ","Power Outlets":"At every table",Seating:"Chairs and sofas",Service:"Good but doesn't seem very fluent at English.",Provision:"Coffee, tea, vietnamese dishes, cigarettes, alcohol."}}]},function(e){e.exports=[{city:"Cambridge",country:"USA",name:"Veggie Galaxy",address:"450 Massachusetts Avenue",coordinates:["42.363602","-71.101107"],description:{Internet:"Free wifi","Power Outlets":"No",Seating:"Tables fill up during mealtimes, but you can usually get a seat at the counter",Service:"Very friendly",Provision:"Vegetarian cuisine that makes you wonder why we eat meat anyways. The coffee is pretty typical, but it's a great atmosphere."},link:{homepage:"http://www.veggiegalaxy.com/"}}]},function(e){e.exports=[{city:"Curitiba",country:"BR",name:"Bello Caffe",address:"Comendador Macedo, 371, loja 2",coordinates:["-25.429623","-49.261253"],description:{Internet:"Free Wi-Fi","Power Outlets":"No",Seating:"Regular chairs and solid tables. Crowded in the evenings",Service:"Great service.",Provision:"Coffee, tea, desserts, etc.",Hours:"Mon-Fri 9am - 8:30pm, Sat 9am - 7pm"},link:{facebook:"https://www.facebook.com/pages/Bello-Caffe/284075251619204"}},{city:"Curitiba",country:"BR",name:"Café do Top",address:"Av. Cândido de Abreu, 127, Shopping Mueller, loja PC009",coordinates:["-25.423266","-49.269915"],description:{Internet:"Free Wi-Fi provided by the mall","Power Outlets":"No",Seating:"Ample seating",Service:"Good service",Provision:"Coffee, tea, desserts, etc.",Hours:"Mon-Sat 10am - 10pm, Sun 2pm - 8pm"},link:{facebook:"https://www.facebook.com/cafedotop"}}]},function(e){e.exports=[{city:"Brampton",country:"CA",name:"Williams Fresh Cafe",address:"2454 Queen Street East",coordinates:["43.738046","-79.702882"],description:{Internet:"Free wifi. Not the fastest though.","Power Outlets":"A few along the walls.",Seating:"Cushioned benches in the center, decent chairs along the walls.",Service:"Great service. Open late.",Provision:"Coffee, tea, meals, desserts, etc.",Hours:"Mon-Thu 6am - 12am, Fri-Sat 6am - 2am, Sun 7am - 12am"},link:{homepage:"http://www.williamsfreshcafe.com/2454-queen-street-east"}}]},function(e){e.exports=[{city:"Bath",country:"UK",name:"Colonna and Hunter",address:"14–15 Milsom Place, Milsom Street & Broad Street, Bath, BA1 1BZ",coordinates:["51.384397","-2.360356"],description:{Internet:"Free WiFi","Power Outlets":"Sockets next to some tables.",Seating:"Tables and benches indoors",Service:"Friendly service by knowledgable, experienced staff.",Provision:"Specialty espresso, flat white and filter coffee, craft beer, small food."},link:{homepage:"http://colonnaandhunter.co.uk",twitter:"https://twitter.com/Colonna_Hunter"}},{city:"Bath",country:"UK",name:"Colonna and Smalls",address:"6 Chapel Row, Bath, BA1 1HN",coordinates:["51.382876","-2.364413"],description:{Internet:"Free WiFi","Power Outlets":"Sockets next to some tables.",Seating:"Tables and benches indoors, patio furniture in courtyard",Service:"The best baristas, brewers, cuppers and latte artists work here, with awards to prove it.",Provision:"Specialty espresso, flat white and filter coffee, tea, water, cakes."},link:{homepage:"http://www.colonnaandsmalls.co.uk",twitter:"https://twitter.com/Colonna_Smalls"}}]},function(e){e.exports=[{city:"Charleston",country:"USA",name:"King Dusko",address:"541 King St Charleston, SC 29403",coordinates:["32.791406","-79.940019"],description:{Internet:"Free internet. Ask barista for password",Service:"Service is awesome. Errbody who work there be friendly.",Provision:"Good coffee, sometimes pasteries.",Hours:"M-TR: 11-11 | FR&SAT: 11-2 | SUN: 11-11"},link:{homepage:"http://http://www.kingdusko.com/"}}]},function(e){e.exports=[{city:"Brooklyn",country:"USA",name:"Konditori",address:"240 7th Ave",coordinates:["40.669665","-73.979353"],description:{Internet:"Free locked wifi (Time-Warner Business class I'm guessing).  Fairly good speed","Power Outlets":"Lots.  At every table or every other table",Seating:"One larger table, few individual tables, and lots of tables for two",Service:"Good if you go outside of peak times.  Peak times during the morning rush and when school lets out",Provision:"Coffee from Brooklyn Roasters, baked goods, bagels"},link:{homepage:"http://www.konditorinyc.com/"}}]},function(e){e.exports=[{city:"Sheffield",country:"United Kingdom",name:"Bragazzi’s",address:"220-226 Abbeydale Road, S7 1FL",coordinates:["53.361816","-1.478741"],description:{Internet:"Free wifi hotspot",Service:"Familiy run business which is shown in its service",Provision:"Amazing coffee and award winning Delicatessen",Hours:"Monday - Saturday: 9am - 5.30pm | Sunday: 11am - 4pm"},link:{homepage:"http://www.bragazzis.co.uk"}}]},function(e){e.exports=[{city:"Salisbury",country:"USA",name:"Pemberton Coffeehouse",address:"1100 Pemberton Dr., Salisbury, MD 21801",coordinates:["38.3685","-75.6165"],description:{Internet:"WiFi access password displayed on a card on the bread rack near the entrance",Service:"friendly and laid-back staff",Provision:"coffee, sandwiches and salads, breakfast, amazing bread pudding, beer and wine",Hours:"Sat-Thurs: 7 AM - 7PM, Fri: 7 AM - 9 PM, occasionally closed for events"},link:{homepage:"http://www.pembertoncoffeehouse.com/"}}]},function(e){e.exports=[{city:"Beijing",country:"China",name:"Her Coffee",address:"0104A Building #2 East JianwaiSoho, 39 E 3rd Ring Road Middle,Chaoyang, Beijing (北京朝阳区建外soho东区2号楼0104A)",coordinates:["39.907234","116.460042"],description:{Internet:"High-speed Free WiFi","Power Outlets":"close to the seats",Seating:"plenty of seats, two-story",Service:"Very friendly, owned by a group of successful young ladies.",Provision:"Coffee, Tea, cake, chocolate and more..","Opening Hours":"8AM - 10PM"},link:{homepage:"http://www.dianping.com/shop/13778004"}}]},function(e){e.exports=[{city:"Asheville",description:{Provision:"Coffee, tea, muffins, Mexican Coke, juice, etc. Bagels, breakfast sandwiches. Connected to a CityMac store -- the locally-owned Apple computer specialist.",Seating:"A couple of couches, some soft chairs, some high tops.","Power Outlets":"This is lacking, charge before you go.",Internet:"Free wifi, speed is good."},country:"USA",coordinates:["35.570551","-82.545271"],link:{homepage:"http://citymac.com/citymug-cafe/",yelp:"http://www.yelp.com/biz/city-mug-asheville"},address:"755 Biltmore Avenue, Asheville, North Carolina 28803",name:"CityMug Café"}]},function(e){e.exports=[{city:"Taylors",country:"USA",name:"Due South Coffee Roasters",address:"250 Mill St, Taylors, SC 29687",coordinates:["34.920100","-82.287138"],description:{Internet:"Free Wifi. Ask for the password","Power Outlets":"A few",Seating:"Couches and a bar",Service:"Service is a little slower than other coffee shops, but the coffee is brewed by hand each order.",Provision:"Great coffee, beer, etc",Hours:"Mon-Sat 9am-6pm. Sun 12pm-6pm"},link:{homepage:"https://www.facebook.com/pages/Due-South-Coffee/1457616714452951"}}]},function(e){e.exports=[{city:"Paris",country:"France",name:"Strada Cafe",address:"94 Rue du Temple, 75003 Paris",coordinates:["48.862272","2.357350"],description:{Internet:"complimentary wireless internet access to all of it's customers. Very fast, just ask for the password",Service:"Frendly, English speaking and very quick",Provision:"A few wall outlets, great food and cakes, modern coffee shop, best place for working in central Paris",Hours:"Weekdays 8:00 AM - 8:00 PM, Weekends 10:00 AM - 8:00 PM"},link:{homepage:"http://www.stradacafe.fr/"}}]},function(e){e.exports=[{city:"Washington",country:"USA",name:"Blind Dog Cafe",address:"944 Florida Avenue NW Washington, DC 20001",coordinates:["38.919316","-77.025249"],description:{Internet:"complimentary wireless internet access to all of it's customers. The password is painted on the counter",Service:"service is awesome and quick",Provision:"amazing coffee and delicious sandwiches prepared fresh daily",Hours:"Every day 8:00 AM - 4:00 PM"},link:{homepage:"http://blinddogcafe.com/"}}]},function(e){e.exports=[{city:"New York City",country:"USA",name:"Lenox Coffee",address:"60 W 129th St, New York, NY 10027",coordinates:["40.810050","-73.943229"],description:{Internet:"Free wifi, ask for password","Power Outlets":"A few tables have outlets - charge before you arrive",Seating:"Limited, but really nice. Lots of 2-person tables. Rustic industrial feel.",Service:"nice",Provision:"Stumptown coffee in Harlem. Absolutely amazing. They also have beer!"},link:{homepage:"www.lenoxcoffee.com/"}},{city:"Santa Clara",country:"USA",name:"Chromatic Coffee",address:"5237 Stevens Creek Blvd, Santa Clara, CA 95051",coordinates:["37.324135","-121.994298"],description:{Internet:"Free wifi","Power Outlets":"Wifi bar in the back with power outlets",Seating:"Front of house is non-techie, but there is a techie heaven in the back. Big meeting table for startups, wifi bar, lots of cool folks",Service:"Worker-owned, they are fantastic",Provision:"Locally roasted. Unicorn Pony espresso is tasty. Their dark coconut mocha is to die for. Ask for a brulee latte and they'll bring out the flame torch. Orange-ginger cubano is a secret item and a nice treat."},link:{homepage:"http://www.chromaticcoffee.com/"}},{city:"Poughkeepsie",country:"USA",name:"Crafted Kup",address:"44 Raymond Ave, Poughkeepsie, NY 12603",coordinates:["41.692806","-73.900682"],description:{Internet:"Free wifi, ask for password","Power Outlets":"Most tables have outlets nearby. Lots of college students working in here",Seating:"Range of tables and couches",Service:"Typical",Provision:"Get the Woodstock coffee or the tea. Good pastries."},link:{homepage:"http://www.craftedkup.com/"}},{city:"Cambridge",country:"USA",name:"Voltage Coffee in Kendall",address:"295 Third St, Cambridge, MA 02142",coordinates:["42.364360","-71.083300"],description:{Internet:"Free wifi, ask for code","Power Outlets":"Most tables have outlets nearby",Seating:"Lots of seating. Also an art gallery.",Service:"Hipsters. But nice ones.",Provision:"The lattes are off the charts amazing, look at the specials menu. They make a sea salt carmel thing that will blow your mind. High Lawn milk from a local dairy with Jersey cows."},link:{homepage:"http://voltagecoffee.com/"}},{city:"Beverly",country:"USA",name:"Atomic Cafe Coffee Roasters in Beverly",address:"265 Cabot St, Beverly, MA 01915",coordinates:["42.550351","-70.877632"],description:{Internet:"Free wifi, ask for code","Power Outlets":"A few outlets",Seating:"Diner-style seating, small and large tables",Service:"Guys who own and run it are really nice",Provision:"Locally roasted in Salem. I don't like flavored coffee, but their house blend makes a great cup of coffee. Pasties and stuff too."},link:{homepage:"http://www.atomicafe.com"}},{city:"Marblehead",country:"USA",name:"Atomic Cafe Coffee Roasters in Marblehead",address:"14 School St, Marblehead, MA 01945",coordinates:["42.501676","-70.856408"],description:{Internet:"Free wifi, ask for code","Power Outlets":"A few outlets",Seating:"Diner-style seating, small and large tables",Service:"Guys who own and run it are really nice",Provision:"Locally roasted in Salem. I don't like flavored coffee, but their house blend makes a great cup of coffee. Pasties and stuff too."},link:{homepage:"http://www.atomicafe.com"}},{city:"Somerville",country:"USA",name:"Three Little Figs",address:"278 Highland Ave, Somerville, MA 02143",coordinates:["42.391810","-71.111912"],description:{Internet:"Free wifi with code on weekdays. NO LAPTOPS ON WEEKENDS.","Power Outlets":"A few outlets",Seating:"Not a ton of seating, but really nice",Service:"Great",Provision:"Amazing specialty coffee, amazing baristas. Regularly carry Blue Bottle, Panther, etc. as guest coffee. Off the charts in the bakery department."},link:{homepage:"http://3littlefigs.com/"}},{city:"Beverly Farms",country:"USA",name:"Vidalias",address:"9 West Street, Beverly Farms, MA",coordinates:["42.562215","-70.814162"],description:{Internet:"Free wifi from Dunkin Donuts next door. It's not great, but enough the check email and get a little work done.","Power Outlets":"One in the corner, you can ask them",Seating:"One big table",Service:"Family owned and wonderful!",Provision:"Local cafe, bakery, deli, grocery. I love working in here, even though the internet is shaky. The Bevely Farms library across the street has good wifi (but no coffee), and is open on weekdays."},link:{homepage:"http://vidaliasmarket.com/"}},{city:"Salem",country:"USA",name:"Jaho Coffee and Tea",address:"197 Derby St, Salem, MA 01970",coordinates:["42.520784","-70.888215"],description:{Internet:"Free wifi, ask for password","Power Outlets":"There are a few plugs, you have to get seated at the right table. Charge before you get there.",Seating:"Variety",Service:"Good",Provision:"Coffee is okay, lots of food options. Cold brew in the summer is great though - get it with a splash of hanoi and it'll change your life. Great location by the water in Salem. They have another location across the street that is open in the summer and it is a much better workspace - ask if it's open"},link:{homepage:"http://www.jaho.com/"}},{city:"Salem",country:"USA",name:"Jo Freedom",address:"196 Essex St, Salem, MA 01970",coordinates:["42.521664","-70.894196"],description:{Internet:"Free wifi, ask for password","Power Outlets":"A few - ask",Seating:"Limited, but the swinging chairs are cool",Service:"Good, they are new so things change a lot.",Provision:"Coffee (no espresso) and some food, all okay. Not a specialty coffee place, but a special place. Cool hippie vibe. Tends to close for some of the winter, call to make sure they are open."},link:{homepage:"http://www.yelp.com/biz/jo-freedom-salem"}}]},function(e){e.exports=[{city:"San Francisco",name:"Starbucks",country:"USA",address:"2727 Mariposa St",coordinates:["37.45774","-122.24632"],description:{Internet:"Free open internet","Power Outlets":"There are a few",Seating:"Small conference room, a couple of comfortable chairs, comfortable sofa",Service:"Friendly",Provision:"Coffee, tea, juices, pastries."}},{city:"Maribor",country:"Slovenia",name:"Kavarna Ginger",address:"Pobreška cesta 18",coordinates:["46.33286","15.39192"],description:{Internet:"Multiple free wifi networks around here, good speed","Power Outlets":"Some near the sofas",Seating:"Comfortable chairs, three sofas",Service:"Friendly",Provision:"Coffee, Juices, Tea, Pastries, Icecream"},link:{homepage:"http://www.europark.si/si/gostinstvo/kavarna-ginger"}},{city:"Ljubljana",country:"Slovenia",name:"Kavarna in slaščičarna Zvezda",address:"Wolfova ul. 14",coordinates:["46.3023","14.30309"],description:{Internet:"Free city wifi, free caffee wifi",Seating:"Comfortable chairs",Service:"Friendly",Provision:"Coffee, Juices, Tea, Pastries, Cakes, Sandwiches, Lunch"},link:{homepage:"http://www.zvezdaljubljana.si/"}}]},function(e){e.exports=[{city:"Reykjavík",country:"Iceland",name:"Reykjavík Roasters",address:"Kárastígur 1, 101 Reykjavík",coordinates:["64.133333","-21.933333"],description:{Internet:"Complimentary wireless internet access to all of it's customers.",Service:"Service is awesome and quick",Provision:"Amazing coffee and baked goods.",Hours:"Mon-Fri: 8:00 AM - 6:00 PM, Sat-Sun: 09:00 AM - 06:00 PM"},link:{homepage:"http://reykjavikroasters.is/"}}]},function(e){e.exports=[{city:"Saskatoon",country:"Canada",name:"Collective Coffee",address:"220 20th Streeet West, Saskatoon, Saskatchewan S7M 0W9",coordinates:["52.144708","-106.6433432"],description:{Internet:"free wireless internet from co-working space in the same building",Service:"service and staff is always amazing",Provision:"amazing coffee, baked goods and sandwitches prepared fresh daily",Hours:"Mon - Sat: 8:00 am - 8:00 pm, Sun:10:00 am - 6:00 pm"},link:{homepage:"http://www.collectivecoffee.com"}}]},function(e){e.exports=[{city:"São Paulo",country:"BR",name:"Bookafe",address:"Av. Mazzei 277",coordinates:["-23.477683","-46.605930"],description:{Internet:"wifi free","Power Outlets":"In the ground floor every table have an power",Seating:"chairs",Service:"Awesome",Provision:"Coffee, tea, sandwiches"},link:{homepage:"http://www.bookafe.com.br",facebook:"https://www.facebook.com/bookafeoficial"}}]},function(e){e.exports=[{city:"Barcelona",country:"Spain",name:"La Clandestina",address:"Baixada de Viladecols, 2",coordinates:["41.393996","2.165491"],description:{Internet:"Free wifi","Power Outlets":"Some inside",Seating:"Good size tables, comfy chairs, bar-style seating",Service:"Very friendly",Provision:"Over 20 types of tea are served, along with the usual coffee and stronger drinks"}},{city:"Barcelona",country:"Spain",name:"Café Milans",address:"Milans, 7",coordinates:["41.380657","2.179155"],description:{Internet:"Free WIFI for customers","Power Outlets":"Some inside",Seating:"Good size tables, comfy chairs, bar-style seating",Service:"Very friendly",Provision:"Coffee with an assortment of tapas"}},{city:"Barcelona",country:"Spain",name:"Candela",address:"Hospital, 48",coordinates:["41.384698","2.16686"],description:{Internet:"Free wifi","Power Outlets":"A handful",Seating:"Good size tables, comfy chairs, bar-style seating",Service:"Very friendly",Hours:"Mon - Sat: 9am - 2.30pm; Closed Sun"},link:{homepage:"http://www.candelaraval.com/"}},{city:"Barcelona",country:"Spain",name:"Carmelitas",address:"Carme, 42",coordinates:["41.39377","2.165792"],description:{Internet:"Free WIFI - you will need to ask the staff for the key.","Power Outlets":"The only weak spot",Seating:"Bar-style seating",Service:"Very friendly",Provision:"The food is, unfortunately, rather unremarkable",Hours:" Daily: 1.30pm - 12am; Kitchen: 1.30pm - 4pm and 9pm - 12am"},link:{homepage:"http://www.carmelitas.biz/"}},{city:"Barcelona",country:"Spain",name:"Laie",address:"Pau Claris 85 (between Gran Via y Casp)",coordinates:["37.399875","-2.364469"],description:{Internet:"FREE WIFI - ask for the key at the bar","Power Outlets":"Some inside",Seating:"Bookstore café",Service:"Friendly",Provision:"Coffee, Beer and Sandwiches",Hours:"Mon - Fri 9am - 9.30pm; Sat 10am - 9.30pm"},link:{homepage:"http://www.laie.es/"}},{city:"Barcelona",country:"Spain",name:"Cafè Camèlia",address:"C/ Verdi, 79",coordinates:["37.399875","-2.364469"],description:{Internet:"Free WIFI","Power Outlets":"The only weak spot",Seating:"Bookcoffee-style",Service:"Friendly",Provision:"The lunch menu consistently includes vegan and vegetarian options",Hours:"Closed until tomorrow 9:30 am - 9:00 pm"},link:{facebook:"https://www.facebook.com/pages/Caf%C3%A8-Cam%C3%A8lia/198100180227662"}},{city:"Barcelona",country:"Spain",name:"Federal Café",address:"C/ Parlament, 39",coordinates:["37.399875","-2.364469"],description:{Internet:"Free WIFI","Power Outlets":"Some inside",Seating:"Big shared tables and some small tables for two",Service:"Friendly",Provision:"Portland-style” brunch: egg scrambles, arugula, smoked salmon, quinoa, wheat toast, etc",Hours:"monday – thursday 08:00 – 23:00; friday 08:00 – 01:00; saturday 09:00 – 01:00; sunday 09:00 – 17:30"},link:{homepage:"http://www.federalcafe.es/",facebook:"https://www.facebook.com/pages/federal-cafe-barcelona/134531549899409"}},{city:"Barcelona",country:"Spain",name:"Babèlia Books and Coffee",address:"Carrer de Villarroel, 271",coordinates:["41.39281","2.14670"],description:{Internet:"Free WIFI","Power Outlets":"Some inside",Seating:"No big tables but very comfortable",Service:"Very friendly",Provision:"Part coffee shop, part secondhand book shop",Hours:"9:00 am - 9:00 pm"},link:{homepage:"http://www.babeliabcn.com/",facebook:"https://www.facebook.com/pages/Babelia-Barcelona/394872200528214",twitter:"https://twitter.com/babeliabcn",foursquare:"https://es.foursquare.com/babeliabcn"}}]},function(e){e.exports=[{city:"Berlin",name:"The Playwright Cafe",country:"Germany",address:"Pannierstrasse 30",coordinates:["52.490720","13.435080"],description:{Internet:"Blazing fast WiFi. Ask for password at the bar.","Power Outlets":"Pretty much near every bigger table",Seating:"Sofas and chairs, whichever you prefer",Service:"Friendly",Provision:"Coffee, tea, juices, pastries, breakfasts. Amazing scones."}},{city:"Berlin",name:"betahaus",country:"Germany",address:"Prinzessinnenstrasse 19-20",coordinates:["52.502453","13.411978"],description:{Internet:"Two wifi networks. Ask for password at the bar.","Power Outlets":"Pretty much near every bigger table",Seating:"Chairs and wooden benches",Service:"Friendly",Provision:"Coffee, tea, juices, pastries, breakfasts, lunches."}},{city:"Berlin",name:"Cutie Pie",country:"Germany",address:"Lausitzer Strasse",coordinates:["52.497253","13.428707"],description:{Internet:"Two hours free wifi by HotSplots, ask for login at the bar.","Power Outlets":"A bunch",Seating:"Chairs and one or two sofas",Service:"Friendly",Provision:"Coffee, tea, sandwiches, pastries. Try the carrot cake."}},{city:"Berlin",name:"Godshot",country:"Germany",address:"Immanuelkirchstrasse 32",coordinates:["52.533440","13.423270"],description:{Internet:"One hour free wifi by HotSplots, ask for login at the bar.","Power Outlets":"A bunch",Seating:"Chairs and sofas",Service:"Friendly",Provision:"Great coffee, pastries."}},{city:"Berlin",name:"Sankt Oberholz",country:"Germany",address:"Rosenthaler Strasse 72a",coordinates:["52.529339","13.401871"],description:{Internet:"Free wifi","Power Outlets":"Pretty much everywhere",Seating:"Chairs and sofas",Service:"Friendly",Provision:"Coffee, food."}}]},function(e){e.exports=[{city:"Providence",state:"RI",country:"USA",name:"Malachi's",address:"134 Ives St, Providence, RI 02906",coordinates:["41.821898","-71.392167"],link:{yelp:"http://www.yelp.com/biz/malachis-providence"}},{city:"Providence",state:"RI",country:"USA",name:"White Electric Coffee",address:"711 Westminster St, Providence, RI 02903",coordinates:["41.818550","-71.420079"],link:{yelp:"http://www.yelp.com/biz/white-electric-coffee-providence"}},{city:"Providence",state:"RI",country:"USA",name:"Small Point Café",address:"230 Westminster St, Providence, RI 02903",coordinates:["41.822959","-71.412513"],link:{yelp:"http://www.yelp.com/biz/small-point-café-providence"}},{city:"Providence",state:"RI",country:"USA",name:"Blue State Coffee",address:"300 Thayer St, Providence, RI 02906",coordinates:["41.830135","-71.401046"],link:{yelp:"http://www.yelp.com/biz/blue-state-coffee-providence"}},{city:"Providence",state:"RI",country:"USA",name:"The Duck and Bunny",address:"312 Wickenden St, Providence, RI",coordinates:["41.819664","-71.396906"],link:{yelp:"http://www.yelp.com/biz/the-duck-and-bunny-providence"}},{city:"Providence",state:"RI",country:"USA",name:"Cafe Zog",address:"239 Wickenden St, Providence, RI",coordinates:["41.819415","-71.398484"],link:{yelp:"http://www.yelp.com/biz/cafe-zog-providence"}},{city:"Providence",state:"RI",country:"USA",name:"New Harvest Coffee & Spirits",address:"130 Westminster St, Ste 118, Providence, RI 02903",coordinates:["41.824152","-71.410730"],link:{yelp:"http://www.yelp.com/biz/new-harvest-coffee-and-spirits-providence"}},{city:"Providence",state:"RI",country:"USA",name:"Coffee Exchange",address:"207 Wickenden St, Providence, RI 02903",coordinates:["41.819275","-71.399081"],link:{yelp:"http://www.yelp.com/biz/coffee-exchange-providence"}}]},function(e){e.exports=[{city:"San Francisco",country:"USA",name:"Philz Coffee",address:"3101 24th St",coordinates:["37.752352","-122.414300"],description:{Internet:"Free wifi","Power Outlets":"Most tables have an outlet or a power strip nearby",Seating:"Fair amount of tables, some for large group seating and some individuals. A few couches too!",Service:"Friendly.",Provision:"Pretentious, yet delicious coffee. Have great pastries as well."},link:{homepage:"http://www.philzcoffee.com/"}},{city:"San Francisco",country:"USA",name:"Mission Creek Cafe",address:"968 Valencia St",coordinates:["37.757441","-122.421421"],description:{Internet:"Free wifi","Power Outlets":"Most tables have outlets available",Seating:"Great student-like tables for 1 or 2 people. Easy to spend hours here with that kind of private space.",Service:"They are nice and value their customers",Provision:"Coffee is just alright. Food is pretty alright. Seating and outlets is where it's at"},link:{homepage:"http://www.yelp.com/biz/mission-creek-cafe-san-francisco"}}]},function(e){e.exports=[{city:"Medellín",country:"Colombia",name:"Tal Cual",address:"Calle 12 No. 43D -12. Manila, El Poblado",coordinates:["6.213583","-75.571814"],description:{Internet:"Free wifi, good speed, must buy if wanna stay longer","Power Outlets":"There are a few",Seating:"Variety of seating - small and medium tables, some couches too",Service:"Very friendly, both english and spanish",Provision:"coffee, jiuces, awesome sandwiches, drinks"},link:{homepage:"http://www.talcualweb.com.co"}}]},function(e){e.exports=[{city:"Prague",country:"CZ",name:"National Library of Technology",address:"Technická 6",coordinates:["50.103924","14.390703"],description:{Internet:"Free wifi","Power Outlets":"Almost everywhere",Seating:"Tables, chairs and couches",Service:"Very friendly",Provision:"Coffee, tea, softdrinks and much more in cafeteria",Hours:"non-stop (there's After Hours Study Room)"},link:{homepage:"http://www.techlib.cz/en/",twitter:"https://twitter.com/ntkcz/",facebook:"https://facebook.com/ntkcz/"}},{city:"Prague",country:"CZ",name:"Můj šálek kávy",address:"Křižíkova 105",coordinates:["50.096688","14.450465"],description:{Internet:"Free wifi","Power Outlets":"Yes",Seating:"Chairs and couches",Service:"Very friendly",Provision:"Great coffee, but also food",Hours:"Mon - Sat: 9:00 - 22:00, Sun: 10:00 - 18:00"},link:{homepage:"http://www.doubleshot.cz/kavarny",twitter:"https://twitter.com/Mujsalekkavy",facebook:"https://facebook.com/mujsalekkavy"}},{city:"Prague",country:"CZ",name:"Kavárna Pod Lipami",address:"Čechova 1",coordinates:["50.100214","14.421306"],description:{Internet:"Free wifi","Power Outlets":"Few inside",Seating:"Many seats and two benches outside",Service:"Friendly and helpful staff - awesome outdoor seating",Provision:"Great coffee, fresh food, lunch menus",Hours:"Mon - Fri: 8:30 - 22:00, Sat - Sun: 11:00 - 22:00"},link:{twitter:"https://twitter.com/pod_lipami",facebook:"https://www.facebook.com/pages/Kavárna-Pod-Lipami/174753202539775?sk=info"}},{city:"Prague",country:"CZ",name:"Era svět",address:"Jungmannovo náměstí 767",coordinates:["50.083431","14.422924"],description:{Internet:"Free wifi","Power Outlets":"Yes",Seating:"Seats and large tables ... There is also paid coworking space [25 Kč / hour & 200 Kč / day]",Service:"Friendly staff, quiet surroundings",Provision:"Good coffee, tea, cakes, desserts",Hours:"Mon - Fri: 8:30 - 19:00, Sat - Sun: 09:00 - 15:00"},link:{website:"https://prostor.erasvet.cz/#kavarna"}}]},function(e){e.exports=[{city:"Oslo",country:"NO",name:"Stockfleths Prinsens Gate",address:"Prinsens gate 6",coordinates:["59.910505","10.746625"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"There are a few",Seating:"Comfortable chairs and couches in the basement, fairly comfortable seats on ground floor",Service:"Very friendly, and highly experienced baristas",Provision:"Coffee, tea, juices, cakes, cookies, sandwiches, baguettes"},link:{homepage:"http://www.stockfleths.as/?page_id=78"}}]},function(e){e.exports=[{city:"Vilnius",country:"LT",name:"No Sugar",address:"A. Stulginskio g. 2, Vilnius, Lithuania",coordinates:["54.687630","25.275177"],description:{Internet:"Free Wi-Fi","Power Outlets":"Limited",Seating:"Stools and high tables, big enough for a laptop.",Service:"Friendly staff, great coffee.",Provision:"Coffee, biscuits, cakes etc.",Hours:"Mon-Fri 8am - 8pm, Sat-Sun 10am - 10pm"},link:{facebook:"https://www.facebook.com/nosugar"}},{city:"Bath",country:"UK",name:"Picnic Coffee",address:"9 Saracen St, Bath",coordinates:["51.384534","-2.359867"],description:{Internet:"Free Wi-Fi","Power Outlets":"Not Sure",Seating:"Comfy seats, tables for laptop",Service:"Friendly staff, great coffee.",Provision:"Coffee, sandwiches, biscuits, cakes etc.",Hours:"Mon-Wed 7:30am - 6pm, Thu-Fri 7:30am - 9pm, Sat 8:30am - 9pm, Sun 9am - 5pm"},link:{homepage:"http://picniccoffee.co.uk/"}}]},function(e){e.exports=[{city:"Hamburg",country:"DE",name:"Kopiba",address:"Beim Grünen Jäger 24",coordinates:["53.558911","9.963615"],description:{Internet:"Free wifi","Power Outlets":"unknown",Seating:"Tables and a few comfy chairs",Service:"Very friendly",Provision:"Coffee, tea, juices, softdrinks, beer, wine, longdrinks, cocktails"},link:{homepage:"http://www.kopiba.de"}},{city:"Hamburg",country:"DE",name:"Betahaus",address:"Eifflerstraße 43",coordinates:["53.5625523","9.9601225"],description:{Internet:"Ask for password (co-working space)","Power Outlets":"At every table",Seating:"Tables and chairs",Service:"Very friendly",Provision:"Coffee, tea, juices, softdrinks, beer, everything else nearby"},link:{homepage:"http://hamburg.betahaus.de/"}},{city:"Hamburg",country:"DE",name:"Starbucks",address:"Neuer Jungfernstieg 5",coordinates:["53.5513","9.9935"],description:{Internet:"BTOpenzone hotspot (free)","Power Outlets":"Upstairs at the table",Seating:"Tables and chairs, sofas upstairs",Service:"Very friendly",Provision:"Coffee, tea, juices, cake and sandwiches"},link:{homepage:"http://www.starbucks.de/store/2015/de/neuer-jungfernstieg-5/neuer-jungfernstieg-5-hamburg-hh-20354"}},{city:"Hamburg",country:"DE",name:"Starbucks",address:"Rathausmarkt 5",coordinates:["53.5513","9.9935"],description:{Internet:"BTOpenzone hotspot (free)","Power Outlets":"Only a few",Seating:"Coffee tables and chairs, sofas",Service:"Very friendly",Provision:"Coffee, tea, juices, cake and sandwiches"},link:{homepage:"http://www.starbucks.de/store/2011/de/rathausmarkt-5/rathausmarkt-5-hamburg-hh-20095"}}]},function(e){e.exports=[{city:"Lafayette, IN",country:"USA",name:"Star City Coffee & Ale House",address:"210 Main St, Lafayette, IN 47901",coordinates:["40.419201","-86.895019"],description:{Internet:"Free secured wifi, ask for the password","Power Outlets":"Outlets and powerstrips along the walls",Seating:"Variety of seating - tables, individual chairs, low bar, outside tables",Service:"friendly and knowledgeable",Provision:"Direct trade coffee, craft beer, paninis, cupcakes"},link:{homepage:"http://www.starcitycoffee.net/"}}]},function(e){e.exports=[{city:"Marrakesh",name:"Cafe du Livre",country:"Morroco",address:"44 Rue Tarik Ibn Ziad",coordinates:["31.635213","-8.01075999"],description:{Internet:"Wifi with password (name of cafe)","Power Outlets":"There are a few",Seating:"Comfortable chairs",Service:"Friendly, English Speaking",Provision:"Full menu",Directions:"Down an alley way between two buildings, to the left."}}]},function(e){e.exports=[{city:"Toronto",country:"Canada",name:"Jetfuel Coffee",address:"519 Parliament Street",coordinates:["43.66513","-79.36814"],description:{Internet:"Fast unlimited internet, ask for password","Power Outlets":"Plenty along the walls",Seating:"Wooden chairs and tables, single-person tables available",Service:"Nice friendly people, order at the bar",Provision:"Inexpensive. Good lattes and cookies",Hours:"Everyday 7am–8pm"},link:{homepage:"http://www.jetfuelcoffee.com"}}]},function(e){e.exports=[{city:"Thessaloniki",country:"GR",name:"iheart",address:"Episkopou Nikolau Kitrou 7",coordinates:["40.632470","22.952963"],description:{Hours:"Mon-Sat 9:00am-11:00pm, Sun 12:00pm-11:00pm.",Internet:"Free Wi-Fi. Ask for the password.","Power Outlets":"Mostly in the tables by the walls",Seating:"Chairs, armchairs, sofas",Service:"Friendly",Provision:"Coffee, tea, juice, beverages, muffin, toast, brownies, cake, croissant"},link:{homepage:"http://www.iheartthessaloniki.com/",facebook:"https://www.facebook.com/pages/IHeart/199695586742430"}}]},function(e){e.exports=[{city:"Montpellier",country:"FR",name:"Café La Panacée",address:"14 Rue de l'École de Pharmacie",coordinates:["43.612777","3.878086"],description:{Internet:"Free WiFi","Power Outlets":"Some available",Seating:"A lot of tables with chairs and also room on the counter",Service:"Very nice",Provision:"Coffee, tea, beer, wine, cookies, muffins, tapas, etc",Hours:"Wed-Sat 10.00-01.00, Sun 10.00-18.00"},link:{homepage:"http://lapanacee.org/le-cafe"}},{city:"Auckland",country:"NZ",name:"Auckland Art Gallery Cafe",address:"Corner Kitchener and Wellesley Streets, Auckland 1010",coordinates:["-36.851226","174.765787"],description:{Internet:"No","Power Outlets":"No",Seating:"Tables on the terrace next to Albert Park",Service:"Nice",Provision:"Coffee, tea, beer, wine, juices, soda, pastries, sandwiches, snacks",Hours:"Mon-Fri 07.00-17.00, Sat-Sun 08.00-16.00"},link:{homepage:"http://www.aucklandartgallery.com/visit/café"}}]},function(e){e.exports=[{city:"Beijing",country:"China",name:"MaanCoffee (漫咖啡)",address:"workers' Stadium North Road, Chaoyang, Beijing, China,(工人体育场北路工人体育场西北角1100米)"}]},function(e){e.exports=[{city:"Redwood City",country:"USA",name:"Peet's",address:"2600 Broadway Street, Redwood City, CA 94063",description:{Internet:"Free stable WIFI","Power Outlets":"Some inside",Seating:"Minimal, plus a couple of tables outside",Service:"Friendly",Provision:"Coffee, tea, muffins, snacks"},coordinates:["37.486495","-122.233522"]}]},function(e){e.exports=[{city:"Lviv",country:"Ukraine",name:"Kredens",address:"37 Prospekt Svobody",coordinates:["49.84308","24.026064"],description:{Internet:"Free wifi, nice speed, password protected","Power outlets":"A lot of them",Service:"Order at the bar, very friendly",Provision:"Coffee, tea, hot chocolate and many others coffee-based drinks"},link:{homepage:"http://www.kredens.com.ua/en/",facebook:"https://www.facebook.com/kredenscoffee"}},{city:"Lviv",country:"Ukraine",name:"CoMMuna",address:"1 Halytska str.",coordinates:["49.841015","24.03112"],description:{Format:"Time-based",Internet:"Free wifi","Power outlets":"Usual amount of them",Service:"Order at the bar, very friendly",Provision:"Coffee, tea (they are free, but assortment is limited)"},link:{homepage:"http://communa.net.ua/en/",facebook:"https://www.facebook.com/pages/CoMMuna/440386219353270"}}]},function(e){e.exports=[{city:"Brno",country:"Czech Republic",name:"Café Mitte",address:"Panská 11, Brno, Czech Republic",coordinates:["49.193379","16.607919"],description:{Internet:"Private Wifi network called `mitte`. Password is `hostel11` as of 2014/02/14.  ","Power Outlets":"Almost at every table",Seating:"Chairs",Service:"Great filtered coffee selection, friendly staff.",Provision:"Coffee, tea, small dishes, alcohol.",Hours:"Every day 8:00 AM - 11:00 PM"},link:{homepage:"http://www.cafemitte.com/en/index.php"}}]},function(e){e.exports=[{city:"Białystok",country:"PL",name:"Akcent Kawiarnia i Księgarnia",address:"Rynek Kościuszki 17",coordinates:["53.132225","23.157401"],description:{Internet:"free city wifi","Power Outlets":"4 on the wall, far right from the entrance",Seating:"chairs, large, comfortable tables, patio furniture outside with view towards city hall",Service:"good, the owner is always inside and can organize more power outlets if needed",Provision:"coffee, tea, soft and alcoholic drinks. Good spinach tart, variety of cakes. Coffee a bit pricey, other drinks in good prices. You can also buy books there (mostly non-technical), it's also a bookstore."},link:{facebook:"http://www.facebook.com/pages/Kawiarnia-Akcent/139389146143599"}},{city:"Gdańsk",country:"PL",name:"Costa Coffee",address:"Długa 5",coordinates:["54.349474","18.648655"],description:{Internet:"wifi free","Power Outlets":"At the walls mostly",Seating:"Chairs and sofas",Service:"Self-Service but nice",Provision:"coffee (really big), tea, sandwiches, muffins, sweets",Hours:"Mon-Fri 8-21, Sat 9-21, Sun 10-21"},link:{homepage:"http://www.costacoffee.pl/"}},{city:"Gliwice",country:"PL",name:"Club Hemingway",address:"Rynek ul. Raciborska 2",coordinates:["50.294192","18.664849"],description:{Internet:"Free fast and stable WiFi","Power Outlets":"Near few tables",Seating:"big, little uncomfortable chairs, few benches and reasonably big wood tables",Service:"always enough to get you another drink",Provision:"coffee, tea, soft, alcoholic drinks, icecream, dinner and a lot more things"},link:{homepage:"http://www.hemingwayclub.pl"}},{city:"Kraków",country:"PL",name:"Bunkier Sztuki",address:"Planty, Plac Szczepanski",coordinates:["50.063382","19.934096"],description:{Internet:"good wifi, open network","Power Outlets":"one can get to them",Seating:"not great. I can't imagine spending few hours in those chairs, but for shorter spans should do",Service:"ok",Provision:"good coffee, good food, normal prices"},link:{facebook:"http://www.facebook.com/group.php?gid=57554203936"}},{city:"Kraków",country:"PL",name:"Cafe Młynek",address:"Plac Wolnica",coordinates:["50.049178","19.944645"],description:{Internet:"wifi, good connection, ask for password","Power Outlets":"accessible, two are near to white sofa next to window",Seating:"chairs & sofas",Service:"nice guys",Provision:"great coffee (oh, their mocha!) and food plus decent prices"},link:{homepage:"http://www.cafemlynek.pl/",facebook:"http://www.facebook.com/pages/Cafe-M%C5%82ynek/178696854321"}},{city:"Kraków",country:"PL",name:"Castor Coffee Club",address:"Market Square, Plac Mariacki 1",coordinates:["50.062055","19.939683"],description:{Internet:"open wifi, decent connection speed","Power Outlets":"lots of them located next to chairs",Seating:"very comfortable armchairs, sofas, few bar stools",Service:"very nice and not too obtrusive",Provision:"awesome coffee and coffee variations (red cappuccino and chai lattes are great!). Bit small choice of food (quiches, tarts, wraps, sandwiches, cakes and pies",Hours:"Mon-Sun 7-23"},link:{facebook:"http://pl-pl.facebook.com/pages/Castor-Coffee-Club/154565244603777"}},{city:"Kraków",country:"PL",name:"Drukarnia",address:"Nadwiślańska 1",coordinates:["50.046077","19.94929"],description:{Internet:"wifi, good connection, open network (however it might not work once a fortnight or so","Power Outlets":"accessible, approximately one plug every two tables",Seating:"chairs & sofas",Service:"ok",Provision:"good coffee and tea, not too big choice of food (sometimes they have fresh sandwiches"},link:{homepage:"http://http://www.drukarnia_podgorze.republika.pl/",facebook:"http://www.facebook.com/pages/Drukarnia-Jazz-Club/92289934116"}},{city:"Kraków",country:"PL",name:"Gazeta Cafe",address:"Bracka 14",coordinates:["50.059588","19.936283"],description:{Internet:"open wifi that requires you to accept terms and conditions. It tends to reset itself from time to time so expect to see this t&c page a lot. But connection is good","Power Outlets":"accessible and lots of them - looks like they were put there especially for us :",Seating:"various - from sofas and chairs to big wooden 'steps' with cushions - the last are very comfortable",Service:"very nice unobtrusive girls",Provision:"good coffee and tea, great frappe and other beverages, not big choice of food though",Hours:"Mon-Fri 9-21.30, Sat 10-21, Sun 10-20"},link:{homepage:"http://www.gazetacafe.pl/",facebook:"http://www.facebook.com/pages/Gazeta-Cafe-Kraków/111777562170435"}},{city:"Kraków",country:"PL",name:"Indalo Cafe",address:"Tarłowska",coordinates:["50.057396","19.931252"],description:{Internet:"open wifi","Power Outlets":"accessible",Seating:"seats insine and outside",Service:"very nice",Provision:'great coffee in good price, tasty sandwiches, calm atmosphere, awarded in "Akcja Kawa" by ITwKrakowie.org'},link:{facebook:"http://www.facebook.com/Indalo.Cafe"}},{city:"Kraków",country:"PL",name:"Karma",address:"Krupnicza 12",coordinates:["50.063439","19.930681"],description:{Internet:"open (non-encrypted) WiFi, decent connection speed","Power Outlets":"accessible when sitting by a wall, they're located under the seats",Seating:"chairs and benches, could be more comfortable (some pillows available though). nice tables",Service:"great people, won't disturb you.",Provision:"probably the best coffee in Krakow, various kinds of organic food (also sweet), not too pricey",Hours:"Mon-Fri: 10-20, Sat-Sun: 11-20"}},{city:"Kraków",country:"PL",name:"Kolory",address:"Plac Nowy",coordinates:["50.051932","19.945362"],description:{Internet:"open wifi, good connection","Power Outlets":"easily accessible and lots of them, especially in the patio in the back",Seating:"comfortable chairs, but additional sofa in the 'garden' would be nice",Service:"very cool guys :) and they don't mind you having one cup of coffee for few hours",Provision:"tasty coffee, freshly squeezed juice, ice tea made from tea and other goodies, but food is quite expensive"}},{city:"Kraków",country:"PL",name:"Konfederacka 4",address:"Konfederacka 4",coordinates:["50.049941","19.926583"],description:{Internet:"password encrypted, stable and fast","Power Outlets":"two per table",Seating:"wooden chairs",Service:"very nice, at the bar, there is also a friendly cat",Provision:"great coffee, freshly squizzed juice and tapas",Hours:"Mon-Sun 10-22"},link:{facebook:"https://www.facebook.com/konfederacka4"}},{city:"Kraków",country:"PL",name:"Le Scandale",address:"Plac Nowy",coordinates:["50.052021","19.944696"],description:{Internet:"good wifi, open network","Power Outlets":"I saw few outside in the garden, but haven't tried plugging inside",Seating:"comfortable chairs and sofas, I could sit there for hours",Service:"very nice, but they make sure you don't have empty glass in front of you",Provision:"good coffee, awesome tomato soup, normal prices"},link:{homepage:"http://www.lescandale.pl/kazimierz/onas.html",facebook:"http://www.facebook.com/LeScandale"}},{city:"Kraków",country:"PL",name:"Moment",address:"the corner of Plac Nowy and Jozefa street",coordinates:["50.051001","19.945856"],description:{Internet:"reasonable connection speed, works only in the room on the right from the entrance","Power Outlets":"there are few easily accessible, if not you can always unplug one of the lamps ;",Seating:"comfortable sofas and chairs",Service:"great guys that will keep the track of your empty glass",Provision:"awesome food, good coffee"},link:{homepage:"http://momentcafe.pl"}},{city:"Kraków",country:"PL",name:"Tajemniczy Ogród",address:"Plac Nowy 9",coordinates:["50.052021","19.944696"],description:{Internet:"very good fast and stable wifi, open network","Power Outlets":"need to unplug a lamp but there's almost one per table",Seating:"wooden chars or comfortable sofas depends on the room, easy to find comfortable place",Service:"nice, order at the bar but they usually bring coffee to the table",Provision:"good coffee, didn't check the food though"},link:{homepage:"http://www.tajemniczyogrod.pl/plac",facebook:"http://www.facebook.com/pages/tajemniczy-ogr%C3%B3d/107118389369660"}},{city:"Kraków",country:"PL",name:"Lunch Box Cafe",address:"Starowiślna 22 (wejście od Dietla)",coordinates:["50.05673","19.94518"],description:{Internet:"very good, fast and stable wifi, open network","Power Outlets":"free 3-nest socket close to the main entrance and the other one near the wall",Seating:"wooden chairs",Service:"very nice, order at the bar",Provision:"good coffee, teas, soups, salads and sandwiches, quite cheap",Hours:"Mon-Sat 7-19, Sun 7.30-19"},link:{homepage:"http://lunchboxcafe.pl/",facebook:"http://pl-pl.facebook.com/pages/LUNCH-BOX-CAFE/123777694381442"}},{city:"Kraków",country:"PL",name:"Korek Eco Resto Bar",address:"Czysta 8",coordinates:["50.060445","19.937936"],description:{Internet:"very good, fast and stable wifi, password protected","Power Outlets":"single sockets",Seating:"good chairs, sofas",Service:"very nice, order at the table/bar",Provision:"good coffee, teas, soups, salads and sandwiches, cakes",Hours:"Mon-Sun 8.30 - 22.00"},link:{homepage:"http://www.korekrestobar.pl"}},{city:"Kraków",country:"PL",name:"Tektura",address:"Krupnicza 7",coordinates:["50.063573","19.931117"],description:{Internet:"very fast and stable wifi, password at the bar","Power Outlets":"can be easily found",Seating:"wooden chairs, couches, benches",Service:"nice and knowledgeable, order at the bar",Provision:"very good coffee, beer, tarts, muffins and many more",Hours:"Mon-Fri 8-22, Sat-Sun 9-22"},link:{facebook:"https://www.facebook.com/pages/Tektura/356751461078030"}},{city:"Poznań",country:"PL",name:"Kukania",address:"Wojskowa 4, CityPark",coordinates:"",description:{Internet:"good wifi, ask for password","Power Outlets":"A few nearby every table",Seating:"Comfortable chairs, a little too small tables for 2+ people",Service:"Great Service. You can ask for VIP room, if you want to talk with bigger group of people in private.",Provision:"Great coffee (Mundo Novo: http://www.unoespresso.pl/nasza_oferta/kawa/41/52.html) and delicious salads with rucola.",Hours:"Mon-Fri 8-22, Sat-Sun 10-22"},link:{homepage:"http://www.kukania.pl/",facebook:"https://www.facebook.com/pages/Kukania-CafeBar/124864080931538"}},{city:"Szczecin",country:"PL",name:"Starbucks Coffee",address:"Galeria KASKADA",coordinates:"",description:{Internet:"Free WiFi, but not so fast","Power Outlets":"On the walls",Seating:"Chairs and sofas",Service:"Self-Service",Provision:"Coffee (recommend the Skinny Vanilla Latte), Tea, Sandwiches, Muffins, etc.",Hours:"Mon-Fri between 9-11 to 21-22, Sat/Sun between 9-11 to 19-22"},link:{homepage:"http://www.facebook.com/pages/Starbucks-Szczecin/144523252310659"}},{city:"Szczecin",country:"PL",name:"Fabryka",address:"Księcia Bogusława X",coordinates:["53.430465","14.54426"],description:{Internet:"free wifi, good connection. There also should be some hotspots","Power Outlets":"almost every table has an easy access to a power outlet",Seating:"chairs & sofas",Service:"nice guys",Provision:"great coffee and food plus decent prices",Hours:"Opens at 7.30, so it's good if you need to start early"},link:{facebook:"http://www.facebook.com/fabrykanadeptaku"}},{city:"Warszawa",country:"PL",name:"Tarabuk",address:"Browarna, Powiśle",coordinates:"",description:{Internet:"wifi (~2Mbit/s)","Power Outlets":"Generally available if you sit close to a wall",Seating:"chairs, sofas, few really comfy armchairs",Service:"excellent",Provision:'coffee, tea, the ginger drink and other beverages. Food: "a delicious tart. Cakes."'},link:{homepage:"http://www.tarabuk.pl/",facebook:"http://pl-pl.facebook.com/Tarabuk"}},{city:"Warszawa",country:"PL",name:"W Biegu Cafe",address:"Świętokrzyska 18, near Tube station",coordinates:"",description:{Internet:"wifi (~2Mbit/s)","Power Outlets":"Generally available if you sit close to a wall",Seating:"chairs, bar stools, sofas, few really comfy armchairs and a lot of space",Service:"good",Provision:"coffee, tea, cakes and what's important salads and sandwiches."},link:{homepage:"http://www.wbiegucafe.pl/",facebook:"http://www.facebook.com/wbiegucafebyjacobskronung"}},{city:"Wojnicz",country:"PL",name:"Missterium",address:"Krakowska 111, near exit from road no 4",coordinates:["49.95888","20.81786"],description:{Internet:"wifi (~2Mbit/s)","Power Outlets":"Generally available if you sit close to a wall",Seating:"comfy chairs, nice fireplace in the center",Service:"good",Provision:"coffee, tea, good pizza."},link:{homepage:"http://www.missterium.pl/"}},{city:"London",country:"GB",name:"Cafe Vintage",address:"88 Mountgrove Road London N5 2LT, near Arsenal Tube",coordinates:["51.561143","-0.097318"],description:{Internet:"wifi (~4Mbit/s)","Power Outlets":"A few, and I bought them extensions which are available",Seating:"Chairs, in the window and in the room. Good, working bathroom",Service:"excellent",Provision:"coffee, tea, cakes, sandwiches, drinks and vintage clothes."},link:{homepage:"http://www.cafevintage.co.uk/"}},{city:"London",country:"GB",name:"Departure Cafe",address:"649/651 Commercial Road, Limehouse, London E14 7LW",coordinates:["51.512787","-0.038269"],description:{Internet:"wifi (~8Mbit/s)","Power Outlets":"Plenty, 2 or 4 next to each desk, sofa or table",Seating:"Old sofas, chairs, table and chairs, art rooms, balcony, anywhere really",Service:"Everyone here is so nice, it feels wrong calling it Service. Awesome",Provision:"coffee, tea, sandwiches, muffins, sweets, homemade things people bring in"},link:{homepage:"http://www.depart.in/"}},{city:"London",country:"GB",name:"Scandinavian Kitchen",address:"61 Great Titchfield Street, London W1W 7PP",coordinates:["51.518752","-0.140848"],description:{Internet:"free, WPA-protected Wi-Fi (~10 Mbps), stable and speedy","Power Outlets":"few are present, at least in the basement room",Seating:"chairs, single/double tables, and a big table for group of 5-6 people available in the basement room",Service:"ordering over the counter but staff is happy to bring drinks/food to the table, they are really nice and friendly anyway",Provision:"hot and cold drinks, snacks, sweets and hot food during lunchtime; scandinavian deli also available"},link:{homepage:"http://www.scandikitchen.co.uk/"}},{city:"Vilnius",country:"LT",name:"CoffeInn",address:"17 Vilnius st.",coordinates:"",description:{Internet:"wifi free","Power Outlets":"Almost everywhere",Seating:"Simple tables, few sitbags",Service:"Great. Food great. Coffee great. Everything - great.",Provision:"coffee, tea, sandwiches, muffins, sweets"},link:{homepage:"http://coffee-inn.lt/"}},{city:"Stockholm",country:"SE",name:"Cafe Gråmunken",address:"Västerlånggatan 18",coordinates:["59.325478","18.068847"],description:{Internet:"wifi free (password: cafegramunken)","Power Outlets":"There are a few",Seating:"Normal tables",Service:"Greeat hot chocolate",Provision:"coffee, tea, sandwiches, muffins, sweets"},link:{homepage:"https://www.facebook.com/pages/Caf%C3%A9-Gr%C3%A5munken/138341679557900"}},{city:"Stockholm",country:"SE",name:"Le Cafe",address:"Klarabergsviadukten 61",coordinates:["59.330323","18.05558"],description:{Internet:"wifi free","Power Outlets":"There are a few",Seating:"Normal tables",Service:"Great",Provision:"coffee, tea, sandwiches, muffins, sweets"},link:{homepage:"http://www.lecafe.nu/"}},{city:"Stockholm",country:"SE",name:"Cafe Mocco",address:"Kommendörsgatan 17 (Nybrogatan)",coordinates:["59.338722","18.079898"],description:{Internet:"wifi free (password: mocco2010)","Power Outlets":"There are a few",Seating:"Comfortable tables and couches",Service:"Great",Provision:"coffee, tea, sandwiches, muffins, sweets, lunch"},link:{homepage:"http://www.mocco.se/?page_id=703"}},{city:"Stockholm",country:"SE",name:"Non Solo Bar",address:"Odengatan 34",coordinates:["59.345029","18.059034"],description:{Internet:"wifi free","Power Outlets":"There are a few",Seating:"Normal tables",Service:"Great",Provision:"coffee, tea, sandwiches, muffins, sweets, lunch"},link:{homepage:"http://www.nonsolobar.com/nonsolo.swf"}},{city:"Cologne",country:"Germany",name:"Goldmund Literatur Cafe",address:"Glasstraße 2",coordinates:["50.951221","6.919882"],description:{Internet:"wifi, ask for password and an additional Telekom Hotspot","Power Outlets":"There are a few, no power in the beer garden (obviously)",Seating:"Normal tables",Service:"Great",Provision:"coffee, tea, sandwiches, muffins, sweets, lunch"},link:{homepage:"http://www.goldmundkoeln.de"}},{city:"Lyon",country:"FR",name:"L'Antre Autre",address:"11 rue Terme - Metro Hôtel de Ville",coordinates:["45.769484","4.83162"],description:{Internet:"Free wifi, just ask for the password","Power Outlets":"There are a few",Seating:"Comfortable tables and couches",Service:"Very friendly",Provision:"Coffee, tea, juices, beers, cake, muffins, etc",w:"Tue 11.30-15, 18.30-23, Wed-Sat 11.30-23"},link:{homepage:"http://lantreautre.fr"}},{city:"Manchester",country:"UK",name:"Takk",address:"6 Tariff Street, M1 2FF",coordinates:["53.481202","-2.232628"],description:{Internet:"Free wifi","Power Outlets":"A handful",Seating:"Good size tables and large benches",Service:"Very friendly",Provision:"Coffee, tea, cake, sandwiches, etc",Hours:"Mon-Fri 8.30-17.00, Sat 10.00-18.00"},link:{twitter:"https://twitter.com/takkmcr"}},{city:"Cambridge",country:"UK",name:"CB1 (oldest active cyber cafe in the World)",address:"32 Mill Road, CB1 2AD",coordinates:["52.201168","0.134292"],description:{Internet:"Free wifi, good speed, just ask for the password","Power Outlets":"There are a few",Seating:"Comfortable tables, seats and couches",Service:"Very friendly",Provision:"Coffee, tea, juices, beers, cake, meals, etc",Hours:"Mon-Thu 8.00-20.00, Fri-Sun 10.00-20.00"},link:{homepage:"http://www.cb1.com/cb2/"}},{city:"Pabianice",country:"PL",name:"Piemont Cafe",address:"Jana Kilińskiego 25",coordinates:["51.661095","19.3545"],description:{Internet:"Free wifi, good speed, ask for the password","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, juices, beers, cake, meals"},link:{homepage:"http://www.hotelpiemont.pl/"}},{city:"Victoria",name:"Discovery Coffee House and Lounge",country:"Canada",address:"664 Discovery Street",coordinates:["48.4320183","-123.3650072"],description:{Internet:"Free open internet","Power Outlets":"There are a few",Seating:"Coffee shop and quiet lounge with couches and large tables for meetings",Service:"Very friendly",Provision:"Coffee, tea, juices, doughnuts, pastries"},link:{homepage:"http://www.discoverycoffee.com/"}},{city:"London",country:"UK",name:"Campus London",address:"4-5 BONHILL STREET LONDON EC2A 4BX",coordinates:["51.522669","-0.085818"],description:{Access:"You need to be a member, it's free, check website",Internet:"Free, 65Mbps up and down","Power Outlets":"Lots",Seating:"Plenty, but get there early it fills up quick",Service:"Very friendly",Provision:"Coffee, tea, more.."},link:{homepage:"http://www.campuslondon.com/"}},{city:"Waterloo",country:"Canada",name:"Death Valley's Little Brother",address:"84 King St N, Waterloo, ON N2J 2X4",coordinates:["43.467711","-80.5229581"],description:{Internet:"Free wifi, good speed, ask for the password","Power Outlets":"There are a few",Seating:"Wooden furnishing, very relaxing",Provision:"Coffee, tea, alchohol, muffins, scones, etc"},link:{homepage:"http://dvlb.ca"}},{city:"Gothenburg",country:"SE",name:"Espresso House",address:"Vasagatan 22",coordinates:["57.698283","11.9663"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"There are a few",Seating:"Fairly comfortable seats",Service:"Okay service",Provision:"Coffee, tea, juices, cake, salads, sandwiches"},link:{homepage:"http://www.espressohouse.se/hitta-oss/sverige/goeteborg/"}},{city:"Waterloo",country:"Canada",name:"Coffee Culture Café and Eatery",address:"31 King Street North, N2J 2W6",coordinates:["43.46602","-80.52265"],description:{Internet:"Not sure if there's free wifi","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, juices, cake, meals"},link:{homepage:"http://www.coffeeculturecafe.com/"}},{city:"New York",country:"USA",name:"Ground Support",address:"399 W Broadway, NY 10012",coordinates:["40.724282","-74.002040"],description:{Internet:"Free wifi, great grilled cheese sandwich","Power Outlets":"Some",Seating:"Comfortable seats, outside benches",Service:"It's New York",Provision:"Coffee, tea, juices, cake, sandwiches"},link:{homepage:"http://groundsupportcafe.com/"}},{city:"Saint Louis",country:"USA",name:"Hartford Coffee",address:"3974 Hartford St",coordinates:["38.602733","-90.2524"],description:{Internet:"Free wifi, no password, good speed","Power Outlets":'By the walls; dedicated "quiet zone" with more in back',Seating:"Decent seats; raised laptop-bar area",Service:"Very friendly",Provision:"Coffee, tea, pastries, hot food"},link:{homepage:"http://www.hartfordcoffeecompany.com/"}},{city:"Minneapolis",country:"USA",name:"Butter Bakery Cafe",address:"3700 Nicollet Ave",coordinates:["44.935797","-93.278249"],description:{Internet:"Free wifi, ask for the password","Power Outlets":"They're spread about, but there's enough",Seating:"Ample seating, some counter, some tables",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, etc",Hours:"Mon-Sat 7am-9pm, Sun 8am-5pm"},link:{homepage:"http://butterbakerycafe.com/"}},{city:"Chicago",country:"USA",name:"Eva's Cafe",address:"1447 N Sedgwick St",coordinates:["41.908945","-87.638398"],description:{Internet:"Free wifi, good speed, must buy to get the password","Power Outlets":"Most tables have outlets nearby",Seating:"Variety of seating - large tables, individual tables, a few comfy chairs",Service:"Very friendly",Provision:"Coffee, tea, juices, cake, small breakfast foods"},link:{homepage:"https://plus.google.com/107552475726057576910/about"}},{city:"Jacksonville",country:"USA",name:"Bold Bean Coffee Roasters",address:"869 Stockton Street, Suite 1-2, FL 32204",coordinates:["30.3155766","-81.6891937"],description:{Internet:"Free wifi, good speed, ask for the password.  Be mindful of their 'Web-Free Weekends.'  They turn the wifi off on Saturdays and Sundays to foster community.","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly & great at what they do",Provision:"Exceptional coffee (roasted on-premises), tea, craft beer, baked goods, sandwiches at lunch time"},link:{homepage:"http://www.boldbeancoffee.com"}},{city:"Seattle",country:"USA",name:"Herkimer Coffee",address:"5611 The Ave Seattle, WA",coordinates:["47.669845","-122.31325"],description:{Internet:"Good wifi, good coffee","Power Outlets":"Usually at least two or three free",Seating:"A good variety",Service:"Warm Hearted",Provision:"Coffee, Pasteries"},link:{homepage:"http://herkimercoffee.com/locations.php"}},{city:"Liverpool",country:"UK",name:"Bold Street Coffee",address:"89 Bold Street, Liverpool, L1 4HF",coordinates:["53.4024574","-2.9768352"],description:{Internet:"Free wifi, good speed","Power Outlets":"A few",Seating:"Comfortable tables, seats and benches",Service:"Very friendly, definitely know their coffee",Provision:"Coffee, tea, breakfast, cakes",Hours:"Mon-Fri 7.30-6, Sat 8-6, Sun 9.30-5"},link:{homepage:"http://www.boldstreetcoffee.co.uk/"}},{city:"Beacon",country:"USA",name:"Bank Square Coffeehouse",address:"129 Main Street",coordinates:["41.50825","-73.976997"],description:{Internet:"Free wifi, good speed. Network name: Bank Square","Power Outlets":"There are plenty",Seating:"Comfortable seats, couches, tables, al fresco",Service:"Very friendly",Provision:"Coffee, tea, beers, pastries, small meals"},link:{homepage:"http://banksquarecoffeehouse.com/"}},{city:"Bristol",country:"UK",name:"The Watershed Café/Bar",address:"1 Canon's Rd, Bristol BS1 5TX",coordinates:["51.4520891","-2.5980765"],description:{Internet:"Free, decent wifi. Ask for the password","Power Outlets":"Quite a few, particularly at the south end",Seating:"Not the best, but quite passable",Service:"Very friendly. Gets busy in evenings.",Provision:"Coffee, hot drinks, cider, decent food, locally sourced",Hours:"1000-2300, Sunday 1000-2230"},link:{homepage:"http://www.watershed.co.uk/food-drink/cafe-bar/"}},{city:"Cape Town",country:"ZA",name:"Truth HQ",address:"36 Buitenkant Street (between Barrack & Commercial)",coordinates:["-33.9282112","18.4225807"],description:{Internet:"Free wifi, no password","Power Outlets":"A few available, so aim for near the wall",Seating:"A good mixture of long and single tables, and a few couches here and there",Service:"Cool Cape Town vibe",Provision:"Great coffee, good breakfasts, and the usual coffee shop pastry selection."},link:{homepage:"http://www.truthcoffee.com",facebook:"https://www.facebook.com/TRUTH.Coffee"}},{city:"Cape Town",country:"ZA",name:"Truth Prestwich Memorial",address:"Somerset Road (Buitengracht Street), De Waterkant",coordinates:["-33.914402","18.4177761"],description:{Internet:"Free wifi, no password","Power Outlets":"A few available, so aim for near the wall",Seating:"Limited. A mixture of long and single tables",Service:"Good",Provision:"Great coffee, good breakfasts, and the usual coffee shop pastry selection."},link:{homepage:"http://www.truthcoffee.com",facebook:"https://www.facebook.com/TRUTH.Coffee"}},{city:"Cape Town",country:"ZA",name:"Origin Coffee Roasting",address:"28 Hudson Street, De Waterkant",coordinates:["-33.9170189","18.41749"],description:{Internet:"Free wifi, ask for password","Power Outlets":"A few places near the sides of the restaurant",Seating:"Comfortable rustic tables and seating",Service:"Good, depending on the time of day",Provision:"Great coffee!"},link:{homepage:"http://www.originroasting.co.za",facebook:"https://www.facebook.com/originroasting"}},{city:"London",country:"UK",name:"Browns of Brockley",address:"No. 5 Coulgate Street",coordinates:["51.464467","-0.036954"],description:{Internet:"Free wifi, good speed, ask for the password","Power Outlets":"Unknown",Seating:"Comfortable bar stools",Service:"Very friendly",Provision:"Excellent coffee, sandwiches, pastries, cakes"},link:{homepage:"http://brownsofbrockley.com/"}},{city:"Austin",country:"USA",name:"Bennu",address:"2001 E. MLK Blvd.",coordinates:["30.280009","-97.719679"],description:{Internet:"Free wifi, good speed","Power Outlets":"Lots of power outlets near seats",Seating:"Lots of very comfortable chairs and couches",Service:"Friendly baristas",Provision:"All types of great mocha coffee",Hours:"24 Hours!"},link:{homepage:"http://www.bennucoffee.com/"}},{city:"Lakewood, OH",country:"USA",name:"The Root Cafe",address:"15118 Detroit Ave. Lakewood, Ohio 44107",coordinates:["41.485154","-81.802090"],description:{Internet:"Free wifi","Power Outlets":"Alone each wall",Seating:"Lots of tables and chairs, especially towards the back. Books and boardgames are available in bookcases.",Service:"Quick and friendly",Provision:"Coffee, tea, deserts, sandwiches"},link:{homepage:"http://www.theroot-cafe.com/"}},{city:"Omaha",state:"Nebraska",country:"USA",name:"Aromas Coffeehouse",address:"1033 Jones St",coordinates:["41.253198","-95.930234"],description:{internet:"Free wifi even with a lot of people, ask for password","Power Outlets":"Most tables have one",Seating:"Couches and regular tables",Service:"Friendly, not always quick",Provision:"Coffee, tea, smoothies, pastries"},link:{homepage:"http://aromasomaha.com/"}},{city:"Rabat",country:"MA",name:"Café Viking",address:"49, Avenue moulay youssef",coordinates:["34.014213","-6.836497"],description:{Internet:"Free wifi, good speed","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, juices, toasts"},link:{facebook:"https://www.facebook.com/pages/Viking/207492465937077"}},{city:"Austin",country:"USA",name:"Epoch",address:"221 W North Loop Blvd",coordinates:["30.318686","-97.724464"],description:{Internet:"Free wifi, good speed, password displayed on counter","Power Outlets":"Many, more than one per table",Seating:"Tables, couches, bar, outside seating",Service:"Great, very friendly",Provision:"Coffee, tea, soda, pizza, pastries, tacos",Hours:"24 hours"},link:{homepage:"http://www.epochcoffee.com"}},{city:"Toronto",country:"Canada",name:"Rooster Coffee House",address:"479 Broadview Avenue",coordinates:["43.669105","-79.352863"],description:{Internet:"Password protected -- password written on chalkboard","Power Outlets":"1 power bar at the back big table, one outlet at front windows, north side",Seating:"four lounge chair, lots of outdoor seating, big back communal table for working",Service:"very friendly, great coffee, good music, quality wifi",Provision:"coffee, tea, sandwiches, baked goods. Can buy beans to go",Hours:"Mon-Fri 7am-7pm, Sat 7am-7pm, Sun 7am-7pm"},link:{homepage:"http://roostercoffeehouse.com/"}},{city:"Toronto",country:"Canada",name:"The Green Grind",address:"567 College Street",coordinates:["43.655536","-79.412567"],description:{Internet:"Password protected -- ask for password","Power Outlets":"1 power bar at each end of big communal table",Seating:"Big communal work table, 3 small 2-person tables, and half dozen lounge chairs",Service:"Consistently good wifi, very quiet (sometimes play music, good hot drinks and food)",Provision:"coffee, tea, sandwiches, baked goods. Can buy beans to go",Hours:"Monday-Friday  8am – 8pm, Saturday-Sunday 9am – 7pm"},link:{homepage:"http://www.thegreengrind.ca/"}},{city:"London",name:"Department of Coffee and Social Affairs",country:"United Kingdom",address:"14-16 Leather Lane",coordinates:["51.519461","-0.109058"],description:{Internet:"Free password protected internet","Power Outlets":"There are several, especially in the back room",Seating:"Busy third wave coffee shop, great team table in back room",Service:"The nicest hipsters in town",Provision:"Coffee, tea, juices, pastry, ace sandwiches"},link:{homepage:"http://www.departmentofcoffee.co.uk/"}},{city:"Ithaca",name:"Gimme! Coffee",country:"USA",address:"506 W State St",coordinates:["42.439408","-76.506432"],description:{Internet:"Free open internet","Power Outlets":"Plenty",Seating:"Coffee shop and quiet lounge with couches and large tables for meetings",Service:"Very friendly",Provision:"Coffee, some bakery items"},link:{homepage:"http://www.gimmecoffee.com"}},{city:"Caldwell",name:"Rock 'n Joe Coffe House and Bistro",country:"USA",address:"339 Bloomfield Ave",coordinates:["40.840251","-74.276475"],description:{Internet:"Free open internet","Power Outlets":"Plenty of outlets",Seating:"Coffee shop and with couches and tables",Service:"Very friendly",Provision:"Coffee, tea, juices, doughnuts, pastries"},link:{homepage:"http://www.rocknjoe.net"}},{city:"Edinburgh",country:"GB",name:"Brew Lab",address:"6-8 South College Street, Edinburgh, EH8 9AA",coordinates:["55.947068","-3.186614"],description:{Internet:"Free Wifi Access, stable and fast","Power Outlets":"Generally available if you sit close to a wall",Seating:"Two sofas, coffee table, long table, benches, bar stools with table access",Service:"Fantastic, really take pride in their work",Provision:"Artisan coffee, tea, cakes, soup, sandwiches, drinks and coffee brewing equipment."},link:{facebook:"https://www.facebook.com/BrewLabCoffee",homepage:"http://www.brewlabcoffee.co.uk/"}},{city:"Linköping",country:"SE",name:"De Klomp",address:"S:T Larsgatan 13",coordinates:["58.413401","15.623704"],description:{Internet:"wifi free (Open Network)","Power Outlets":"By the windows",Seating:"Tables, Couches, Bar",Service:"Wonderful Beer Selection",Provision:"Beer, Food, Tea, Coffee, Snacks"},link:{homepage:"http://www.deklomp.se/"}},{city:"Kyiv",country:"Ukraine",name:"Chasopys",address:"Lva Tolstoho 3",coordinates:["50.4395","30.515017"],description:{Format:"Pay for time",Internet:"Free wifi, nice speed, password protected","Power outlets":"A lot of them",Service:"Self-service",Provision:"Coffee, tea, hot chocolate, sandwiches"}},{city:"San Francisco",name:"Haus Coffee",country:"USA",address:"3086 24th St",coordinates:["37.752641","-122.413729"],description:{Internet:"Free open internet","Power Outlets":"There are a few",Seating:"Tables and chairs for groups, couple of comfortable sofas, and a beautiful outdoor patio",Service:"Very friendly",Provision:"Coffee, tea, juices, pastries."},link:{homepage:"https://plus.google.com/105646394886961700159"}},{city:"San Francisco",name:"Ritual Roasters",country:"USA",address:"1026 Valencia St",coordinates:["37.756490","-122.421263"],description:{Internet:"Free open internet","Power Outlets":"There are a few",Seating:"Tables and chairs for groups, individual seating at the bar.",Service:"Very friendly",Provision:"Espresso, pour-over coffee, tea, and some pastries."},link:{homepage:"http://www.ritualroasters.com/‎"}},{city:"Curitiba",country:"BR",name:"Rubi Café",address:"Visconde de Nácar, 1322",coordinates:["-25.433903","-49.277267"],description:{Internet:"Good latency, ask for the password","Power Outlets":"Few",Seating:"Comfortable tables",Service:"Friendly",Provision:"Coffee, tea, juices, beers, cake, meals"},link:{homepage:"https://www.facebook.com/RubiCafe"}},{city:"Portland",country:"USA",name:"Ford Food and Drink",address:"2505 SE 11th Ave.",coordinates:["45.504740","-122.655023"],description:{Internet:"Free wifi, good speed","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, juices, beers, cake, meals"},link:{homepage:"http://www.fordfoodanddrink.com/"}},{city:"Portland",country:"USA",name:"Papaccino's",address:"4411 SE Woodstock Blvd.",coordinates:["45.479331","-122.617117"],description:{Internet:"Free wifi, good speed","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, pastries, cereal bar"},link:{homepage:"https://www.facebook.com/papaccinos"}},{city:"Dublin",name:"3FE Coffee",country:"Ireland",address:"32/34 Lower Grand Canal, Dublin 2",coordinates:["53.339926","-6.2419822"],description:{Internet:"Free WiFi internet","Power Outlets":"Some",Seating:"Premium coffee shop, considered Ireland's finest ",Service:"Very friendly",Provision:"Coffee, tea, brownies, pastries"},link:{homepage:"http://www.3fe.com/"}},{city:"Palo Alto",country:"USA",name:"3 G's Cafe",address:"456 Cambridge Ave",coordinates:["37.426552","-122.146317"],description:{Internet:"Free wifi, good speed, ask for the password","Power Outlets":"Plenty",Seating:"Few but good chairs, outdoor morning sun",Service:"Very friendly",Provision:"Coffee, tea, juices, beers, cake, meals"},link:{yelp:"http://www.yelp.com/biz/3-gs-cafe-palo-alto"}},{city:"Toronto",country:"Canada",name:"Dark Horse Espresso Bar",address:"684 Queen St W, Toronto, Ontario",coordinates:["43.646588","-79.407580"],description:{Internet:"free wifi, I've had to ask them to reset the router once or twice, but usually it's fine.","Power Outlets":"They exist, but are not as widespread as they could be.",Seating:"Benches and some chairs",Service:"Generally friendly and helpful",Provision:"Incredibly good coffee.  Ask for the Pour-over!",Hours:"Mon-Fri 07:00 - 20:00, Sat-Sun 08:00 - 20:00"},link:{homepage:"http://darkhorseespresso.com/"}},{city:"Kastrup",country:"DK",name:"Starbucks",address:"Lufthavnsboulevarden 6",coordinates:["55.628977","12.64977"],description:{Internet:"Free WiFi","Power Outlets":"On the wall, Danish type",Seating:"Chairs and coffee tables",Service:"It's Starbucks!",Provision:"All Starbucksy stuff."},link:{facebook:"startbucks.com"}},{city:"San Francisco",country:"USA",name:"Coffee Bar",address:"1890 Bryant St",coordinates:["37.763133","-122.410931"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"Quite a few",Seating:"Fairly comfortable seats",Service:"Good service",Provision:"Coffee, tea, salads, sandwiches"},link:{homepage:"http://www.coffeebarsf.com/"}},{city:"Orenburg",name:"Прокоffий",country:"Russia",address:"4/2 Donetskaya Street",coordinates:["51.762418","55.121874"],description:{Internet:"WiFi password: freeforyou","Power Outlets":"There are a few",Seating:"Coffee shop with very strange furniture and small tables",Service:"Very friendly",Provision:"Coffee, tea, drinks, delicious food"}},{city:"San Mateo",name:"Kaffeehaus",country:"USA",address:"92 E 3rd Ave",coordinates:["37.563981","-122.324314"],description:{Internet:"Free open internet","Power Outlets":"There are a few",Seating:"Tables, booths, bar and outdoor seating",Service:"Very friendly",Provision:"Coffee, wine, tea, juices, salads, pastries"},link:{homepage:"http://mykaffeehaus.com/"}},{city:"Seattle",name:"Zeitgeist",country:"USA",address:"171 S. Jackson St  Seattle",coordinates:["47.599107","-122.331924"],description:{Internet:"Free fast internet","Power Outlets":"There are a few",Seating:"Tables and local art",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, pastries"},link:{homepage:"http://zeitgeistcoffee.com"}},{city:"San Antonio",country:"USA",name:"Brown Coffee Company",address:"1800 Broadway St",coordinates:["29.442948","-98.476649"],description:{Internet:"Free wifi, good speed, ask for the password","Power Outlets":"There are a few",Seating:"Some individual tables, some long tables",Service:"Very friendly",Provision:"Coffee, espresso, some pastries, Mexican coke, Topo Chico"},link:{homepage:"http://browncoffeeco.com/"}},{city:"San Francisco",country:"USA",name:"Greenhouse Cafe",address:"329 West Portal Ave. San Francisco CA",coordinates:["37.737546","-122.469400"],description:{Internet:"Ask for password, good coffee and light food","Power Outlets":"There are several against the wall",Seating:"Small tables, couches and comfortable back room",Service:"Friendly",Provision:"Coffee, tea, wraps, bagels, sandwhiches, etc",Hours:"Mon-Fri 7 am - 6 pm, Sat-Sun 8 am - 5 pm"},link:{homepage:"http://www.greenhousecafe-sf.com/"}},{city:"Roseville",country:"US",name:"Bloom Coffee",address:"1485 Eureka Road, Roseville",coordinates:["38.752791","-121.251637"],description:{Internet:"Free wifi, excellent coffee","Power Outlets":"Several along the walls.",Seating:"Bar-style seating along one wall, standard coffee-shop tables, couches and cushy chairs in the center.",Service:"Usually good, and they know their coffee.",Provision:"Coffee, tea, hot breakfast, pastries. A little pricey, but VERY good coffee and food."},link:{homepage:"http://www.bloomcoffee.com/"}},{city:"Dallas",country:"USA",name:"Sip | Stir",address:"3800 McKinney Ave. #180 Dallas, TX 75204",coordinates:["32.808883","-96.795454"],description:{Internet:"Free.  Speed is OK.  Ask for the password.","Power Outlets":"Plenty",Seating:"Always somewhere to sit, but not too quiet.",Service:"Super friendly",Provision:"Great coffee and pastries."},link:{homepage:"http://www.sipstircafe.com/"}},{city:"Mountain View",country:"USA",name:"Red Rock",address:"201 Castro St, Mountain View, CA 94041",coordinates:["37.393611","-122.078774"],description:{Internet:"Free stable WIFI and Google public WIFI also available","Power Outlets":"Lots",Seating:"Plenty, and there is a second floor that is quieter, get there early it fills up fairly quickly",Service:"Very friendly",Provision:"Coffee, tea, muffins, snacks"},link:{homepage:"http://www.redrockcoffee.org/"}},{city:"London",country:"United Kingdom",name:"TAP Coffee No.193",address:"193 Wardour Street, W1F 8ZF, London",coordinates:["51.515707","-0.135958"],description:{Internet:"Password written on a toy. Try to find it.","Power Outlets":"The only issue. Staff likely to share electricity from the bar.",Seating:"Small tables, comfortable seats. Enough space.",Service:"Friendly, relaxed, skilled, knowledgeable.",Provision:"Exceptional coffee, toasted Banana Bread's price is for two slices - unlike anywhere else.",Hours:"Mon-Fri 8am - 7pm, Sat 10am - 6pm, Sun 12pm - 6pm"},link:{homepage:"http://www.tapcoffee.co.uk/"}},{city:"Boston",country:"USA",name:"Fuel America",address:"152 Chestnut Hill Avenue, Brighton, MA",coordinates:["42.341715","-71.154322"],description:{Internet:"Free wifi, password is on a slip at the counter","Power Outlets":"There are a few",Seating:"Plenty of tables, couches, and chairs, plus a counter at the window",Service:"Very friendly",Provision:"Coffee, tea, sandwiches",Hours:"Mon-Fri 7:00 AM-6:00 PM, Sat 7:00 AM-9:00 PM, Sun 8:00 AM-9:00 PM"}},{city:"Smyrna",country:"USA",name:"Rev Coffee",address:"1680-B Spring Road, Smyrna, Georgia 30080",coordinates:["33.882210","-84.504317"],description:{Internet:"Wifi free","Power Outlets":"There are several",Seating:"Chairs, sofas, many tables inside and a few outside as well",Service:"Great",Provision:"Coffee, tea, soft and other bottled drinks. Cookies, muffins, quiches, and tarts. Pressed sandwiches as well as the chicken salad are tasty.  Fresh roasted beans and other coffee paraphernalia."},link:{facebook:"http://www.revcoffee.com"}},{city:"Cedar Park",country:"USA",name:"Roasters Coffee Cafe",address:"2011 Little Elm Trail",coordinates:["30.480037","-97.828855"],description:{Internet:"Free wifi, speed was fine.","Power Outlets":"This is lacking, charge before you go.",Seating:"Mostly cheap chairs with some couches",Provision:"Coffee, tea, muffins, juice, etc. No real food."},link:{homepage:"http://www.roasterscoffeecafe.com/",yelp:"http://www.yelp.com/biz/roasters-coffee-cafe-cedar-park?nb=1"}},{city:"Montréal",name:"Café Larue & Fils",country:"Canada",address:"244, De Castelnau Est",coordinates:["45.53784","-73.61809"],description:{Internet:"Free open internet","Power Outlets":"A few",Seating:"Mostly large tables with bar stools",Service:"Very friendly",Provision:"Coffee, tea, juices, panini, pastries"},link:{homepage:"https://www.facebook.com/caffedellavia"}},{city:"Cambridge",country:"UK",name:"Hot Numbers",address:"Dales Brewery, Gwydir Street",coordinates:["52.200088","0.138362"],telephone:"+44 1223 359966",description:{Internet:"Free wifi, good speed, just ask for the password","Power Outlets":"Plentiful",Seating:"Trendy Benches, Large Tables, but it gets busy, so be in quick to nab a spot.",Service:"Very friendly, knowledgeable",Provision:"Artisinal coffee, tea, juices, cake, snacks, etc",Hours:"Daily 7:30-18:00"},link:{homepage:"http://www.hotnumberscoffee.co.uk/"}},{city:"Travelers Rest",country:"USA",name:"The Forest Coffeehouse",address:"27 South Main Street, Travelers Rest, SC 29690",coordinates:["34.965672","-82.441534"],description:{Internet:"Free wifi, okay speed","Power Outlets":"There are a few",Seating:"Lots of seating",Service:"Good",Provision:"Coffee, tea, juices, cake, salads, sandwiches"},link:{homepage:"http://www.theforestcoffee.com/"}},{city:"New York",country:"USA",name:"Vbar",address:"132 1st Ave",coordinates:["40.727395","-73.985130"],description:{Internet:"Fast Wi-Fi","Power Outlets":"Several along the northern wall and at the high table",Seating:"Regular chairs",Provision:"Coffee, tea, pastries, lunch menu (mostly sandwiches and pasta)"},link:{homepage:"http://vbarandcompany.com/"}},{city:"Montreal",country:"CA",name:"Café Expressions",address:"957 Avenue du Mont-Royal Est Montréal, QC H2J 1X4",coordinates:["45.527141","-73.580078"],description:{Internet:"Free WiFi, but not so fast","Power Outlets":"There are a few",Seating:"Chairs and benches, could be more comfortable",Service:"Okay service",Provision:"Fair trade and organic coffee and tea, more..."},link:{homepage:"https://plus.google.com/113437543592526873134/about?gl=ca&hl=en"}},{city:"St. Catharines",country:"Canada",name:"Mahtay Café & Lounge",address:"241 St. Paul Street",coordinates:["43.158550","-79.243172"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"Plentiful",Seating:"Handful of tables, bar with stools, some couches and comfy chairs",Service:"Excellent, very friendly and accommodating",Provision:"Coffee, tea, juice, sandwiches, soups, sweets, craft beers"},link:{homepage:"http://www.mahtay.ca/"}},{city:"Port Coquitlam",country:"Canada",name:"Tim Hortons",address:"1320 Kingsway Ave",coordinates:["49.246938","-122.748767"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"Yes",Seating:"Tons of room",Service:"Lots of room no one will bug you",Provision:"Coffee, tea, juices, sandwiches, and a Wendys"},link:{homepage:"http://www.timhortons.com/ca/locator/storedirections.html?id=101911"}},{city:"Pittsburgh",country:"United States",name:"Coffee Tree Roasters",address:"48 Fox Chapel Road",coordinates:["40.488391","-79.8830234"],description:{Internet:"Fast wifi, always free","Power Outlets":"Multiple outlets across every wall",Seating:"small tables with 1-2 seats at each",Service:"always friendly - very busy in the mornings",Provision:"different coffees from around the world, many different types of pastries, great teas."},link:{homepage:"http://www.coffeetree.com"}},{city:"São Paulo",country:"BR",name:"Nina Veloso Pâtisserie",address:"Rua Costa Carvalho, 195, Pinheiros",coordinates:["-23.561647","-46.699065"],description:{Internet:"Free wifi","Power Outlets":"Unknown",Seating:"Chairs, benches and also a sofa upstairs",Service:"Very friendly and efficient",Provision:"Their main thing is pastries, but they have a really good espresso as well"},link:{homepage:"http://www.ninaveloso.com.br/"}},{city:"Ottawa",country:"CA",name:"Bridgehead",address:"109 Bank Street",coordinates:["45.419924","-75.700197"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"A few",Seating:"Fairly comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, juices, cake, salads, sandwiches"},link:{homepage:"http://www.bridgehead.ca/"}},{city:"Homewood",country:"US",name:"O'Henry's Coffee",address:"2831 18th St S, Homewood AL 35209",coordinates:["33.480194","-86.791767"],description:{Internet:"Free wifi, reliable and good speed","Power Outlets":"A handful scattered throughout the space",Seating:"Lots of seating, not all comfortable for extended work sessions",Service:"Counter service",Provision:"Coffee, tea, cake, pastries, cookies"},link:{homepage:"http://www.ohenryscoffees.com/"}},{city:"Bogotá",country:"Colombia",name:"Arte y Pasión",address:"Calle 16 No 7-76 Antiguo Gun Club",coordinates:["4.602874","-74.073312"],description:{Internet:"Free wifi, good speed, must buy to get the password","Power Outlets":"There are a few",Seating:"Variety of seating - large tables, individual tables, a few comfy chairs",Service:"Very friendly",Provision:"coffee, tea, sandwiches, muffins, sweets, lunch",Hours:"Mon-Sat 7am-9pm, Sun 8am-5pm"},link:{homepage:"http://www.arteypasioncafe.com/"}},{city:"Berlin",country:"Germany",name:"Tischendorf",address:"Friedelstrasse 25, 12047 Neuköln",coordinates:["52.49206","13.42825"],description:{Internet:"Free wifi, decent speed","Power Outlets":"Tables on the left from entrance have access to power outlets",Seating:"Wooden benches and chairs",Service:"Very friendly",Provision:"Coffee, tea, beer, cake, pastry, breakfast",Hours:"Everyday 9am-8pm, 'Laptop-free' Sundays"},link:{homepage:"http://tischendorf-berlin.de/",facebook:"https://www.facebook.com/pages/Tischendorf/315316785224423"}},{city:"Kiev",country:"Ukraine",name:"Chashka Espresso Bar",address:"Chervonoarmiiska Vulytsia, 1",coordinates:["50.441845","30.521385"],description:{Internet:"Free wifi, ask for the password","Power Outlets":"By the walls",Seating:"Nice tables, seats and couches, comfortable bar stools",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, etc"},link:{homepage:"https://www.facebook.com/ChashkaKiev"}},{city:"Geneseo",country:"USA",name:"Muddy Waters",address:"53 Main Street, Geneseo, NY",coordinates:["42.796797","-77.816684"],description:{Internet:"Open and fast: SSID id 'Linksys'(!) No password.","Power Outlets":"Plentiful.",Seating:"Tables, chairs and some old but very comfortable sofas",Service:"Very friendly students from SUNY Geneseo",Provision:"Coffee, pastries, light meals"},link:{homepage:"http://muddywaterscoffeeroasters.com/geneseo.html"}},{city:"Pittsburgh",country:"USA",name:"Cafe 61C",address:"1839 Murray Ave",coordinates:["40.436165","-79.922762"],description:{Internet:"Free wifi, good speed","Power Outlets":"Some tables have outlets nearby",Seating:"Small tables however you can combine to make a larger table",Service:"Very friendly",Provision:"Coffee, tea, juices, cake, bagels"},link:{homepage:"http://61ccafe.com/"}},{city:"Montreal",country:"Canada",name:"Humble Lion",address:"904 Rue Sherbrooke Ouest",coordinates:["45.503274","-73.574787"],description:{Internet:"Free wifi, good speed, ask for password","Power Outlets":"Pretty good for outlets",Seating:"Not a lot of seating, but perfect table height",Service:"Very friendly",Provision:"Coffee, Tea, Scone, Pastries"},link:{homepage:"http://cafehumblelion.com/"}},{city:"Bangalore",name:"Matteo Coffee",country:"India",address:"Church St, Shanthala Nagar, Ashok Nagar, Bangalore, Karnataka 560001",coordinates:["12.974847","77.607011"],description:{Internet:"Free Wifi For the first 2 hours","Power Outlets":"There are a few",Seating:"Coffee, alcohol, with an inhouse and open door service area",Service:"Very friendly",Provision:"Coffee, tea, juices, alcohol"},link:{blog:"http://matteocoffea.wordpress.com/"}},{city:"Boston",country:"USA",name:"Boston Common Coffee Co.",address:"515 Washington Street",coordinates:["42.354217","-71.061917"],description:{Internet:"Free wifi with purchase. Ask for password.","Power Outlets":"Seating near the walls",Seating:"Chairs, high chairs, couches, coffe tables",Service:"Alright, get's the job done. Nothing special.",Provision:"coffee, tea, pastries, sandwiches and other foodies."},link:{homepage:"http://bostoncommoncoffee.com/locations-hours/boston-common-coffee-company-downtown-crossing-515-washington-street/"}},{city:"Hoboken",country:"USA",name:"Bwe Kafe",address:"1002 Washington Street",coordinates:["40.748606","-74.027338"],description:{Internet:"Free wifi, good speed","Power Outlets":"Most tables have outlets nearby",Seating:"Variety of seating - group tables, individual tables, a few window seats, outdoor seating, and a few comfy chairs",Service:"Very friendly.  Know you by name if you are a regular",Provision:"Earth conscious coffee, exciting brewing methods, tea, juices, gluten-free / vegan friendly, small breakfast foods"},link:{homepage:"http://www.bwekafe.com/"}},{city:"Issaquah",country:"USA",name:"Issaquah Coffee Company",address:"317 NW Gilman Blvd",coordinates:["47.539601","-122.042216"],description:{Internet:"Free wifi","Power Outlets":"Every table has an outlet nearby",Seating:"Variety of seats, busy in summer",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, baked goods, etc",Hours:"Mon–Fri 6am-7pm, Sat 7am-6pm, Sun 8am-6pm"},link:{homepage:"http://issaquahcoffee.com/"}},{city:"Isle of Wight",country:"UK",name:"Love Coffee",address:"115 Pyle Street, Newport",coordinates:["50.699373","-1.294569"],description:{Internet:"Free wifi, good speed, must buy to get the password","Power Outlets":"There are a few",Seating:"Variety of seating, tables and a few comfy chairs",Service:"Very friendly",Provision:"Coffee, tea, juices, cake, breakfast foods and lunches"},link:{homepage:"https://plus.google.com/109562220645564079210/about"}},{city:"Den Haag",country:"The Netherlands",name:"Belmondo",address:"Waldorpstraat 25",coordinates:["52.068553","4.322048"],description:{Internet:"Free wifi, good speed, password is written in receipt","Power Outlets":"Not much, but are available.",Seating:"Variety of seating - large tables, individual tables, a few comfy chairs",Service:"Very friendly",Provision:"Coffee, tea, juices, cake, small breakfast foods, lunch"},link:{homepage:"http://www.caffebelmondo.nl/den-haag/"}},{city:"Newcastle Upon Tyne",country:"UK",name:"Pink Lane Coffee",address:"1 Pink Lane, Newcastle upon Tyne, NE1 5DW",coordinates:["54.969410","-1.618514"],description:{Internet:"Free reliable wifi","Power Outlets":"Located with the tables",Seating:"Comfy sofas and nice chairs",Service:"Awesome, very knowledgeable staff",Provision:"Amazing coffee, delicious sandwiches, cold drip.",Hours:"Mon-Fri 7.30am-6pm, Sat 9am-5pm, Sun 10am-4pm"},link:{homepage:"http://www.pinklanecoffee.co.uk/"}},{city:"Denver",country:"USA",name:"Paris on the Platte",address:"1553 Platte St",coordinates:["39.757282","-105.008553"],description:{Internet:"Free wifi, moderate speed","Power Outlets":"They're spread about, but there's enough",Seating:"Ample seating, some counter, some tables",Service:"Friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, etc",Hours:"Mon-Thu 7am-1am, Fri 7am-2am, Sat 8am-2am, Sun 8am-1pm"},link:{homepage:"http://www.parisontheplatte.com/"}},{city:"Denver",country:"USA",name:"Stella's Coffeehaus",address:"1476 S Pearl St",coordinates:["39.689653","-104.980379"],description:{Internet:"Free wifi, ask for the password","Power Outlets":"They're spread about, but there's enough",Seating:"Ample seating, some couches, some tables",Service:"Very friendly",Provision:"Coffee, tea, juices, breakfast, etc",Hours:"Mon-Fri 6:30am-11pm, Sat, Sun 7am-12am"},link:{homepage:"http://stellascoffee.com/"}},{city:"Denver",country:"USA",name:"Roostercat Coffee House",address:"1045 Lincoln Street",coordinates:["39.732948","-104.986121"],description:{Internet:"Free wifi, usually fast","Power Outlets":"Lots",Seating:"Ample seating",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, etc",Hours:"Mon-Fri 7am-12am, Sat, Sun 8am-12am"},link:{homepage:"http://roostercatcoffeehouse.com/"}},{city:"Denver",country:"USA",name:"Crema Coffee House",address:"2862 Larimer St",coordinates:["39.76117","-104.98188"],description:{Internet:"Free wifi","Power Outlets":"Some",Seating:"Small, but has enough seating",Service:"Friendly",Provision:"Coffee, tea, juices, some food",Hours:"Mon-Sun 7am-5pm"},link:{homepage:"http://cremacoffeehouse.net/"}},{city:"Denver",country:"USA",name:"The Laughing Latte",address:"2001 W 32nd Ave",coordinates:["39.762078","-105.011372"],description:{Internet:"Free, fast wifi, ask for the password","Power Outlets":"They're spread about, but there's enough",Seating:"Ample seating, some counter, some tables",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, etc",Hours:"Mon-Fri 6am-3pm, Sat, Sun 7am-3pm"},link:{homepage:"http://www.thelaughinglatte.com/"}},{city:"Grand Junction",country:"USA",name:"Roasted Espresso and Subs",address:"502 Colorado Ave",coordinates:["39.06646","-108.56404"],description:{Internet:"Free wifi","Power Outlets":"Some",Seating:"Limited seating",Service:"Very friendly",Provision:"Coffee, tea, juices, sandwiches, breakfast, etc",Hours:"Mon-Thu 6:30am-9pm, Fri, Sat 6:30am-10pm, Sun 6:30am-8pm"},link:{homepage:"http://www.roastedespresso.com/"}},{city:"Grand Junction",country:"USA",name:"Cafe V",address:"1014 N 5th St",coordinates:["39.076718","-108.564231"],description:{Internet:"Free wifi, ask for the password","Power Outlets":"They're spread about, but there's enough",Seating:"Ample seating, some counter, some tables",Service:"Very friendly",Provision:"Coffee, tea, juices, vegetarian food, etc",Hours:"Mon-Sun open until 8pm"},link:{homepage:"http://www.cafe-v-gj.com/"}},{city:"Chicago",country:"USA",name:"The Wormhole Coffee",address:"1462 N Milwaukee Ave",coordinates:["41.90835","-87.67459"],description:{Internet:"Free wifi","Power Outlets":"They're spread about, but there's enough",Seating:"Ample seating, some counter, some tables",Service:"Friendly",Provision:"Coffee, tea, juices, etc",Hours:"Mon-Sun 7am-11pm"},link:{homepage:"http://www.thewormholecoffee.com/"}},{city:"Nashville",country:"USA",name:"Crema",address:"15 Hermitage Ave",coordinates:["36.157099","-86.769762"],description:{Internet:"free wifi w/purchase","Power Outlets":"Tables along the wall are close to outlets",Seating:"Outdoor patio, variety of seating inside from couches to two-chair tables to group tables",Service:"good, could be a wait during rush periods",Provision:"coffee, tea. Breakfast and light lunch."},link:{homepage:"http://www.crema-coffee.com/"}},{city:"Nashville",country:"USA",name:"Portland Brew East",address:"1921 Eastland Avenue",coordinates:["36.182667","-86.734657"],description:{Internet:"free wifi, very fast","Power Outlets":"Plenty on both floors",Seating:"Limited outdoor seating, variety of seating inside from couches to booths, tables. Not a lot of group seating",Service:"Great",Provision:"coffee, tea. Quiche, sandwiches, desserts."},link:{facebook:"https://www.facebook.com/portlandbreweast"}},{city:"Nashville",country:"USA",name:"Portland Brew",address:"2605 12th Avenue South",coordinates:["36.123661","-86.790138"],description:{Internet:"free wifi, very fast","Power Outlets":"Plenty",Seating:"Limited outdoor seating, variety of seating inside from couches to booths, tables for individual or groups.",Service:"Great",Provision:"coffee, tea. Quiche, sandwiches, desserts."},link:{facebook:"https://www.facebook.com/portlandbrew12th"}},{city:"Seattle",country:"USA",name:"Elliot Bay Cafe",address:"1521 10th Ave",coordinates:["47.614598","-122.319546"],description:{Internet:"Free, open wifi, good speed as long as the place isn't too busy (connection becomes spotty at lunch hours)","Power Outlets":"Most tables have outlets nearby",Seating:"Variety of seating - large tables, individual tables, a few comfy chairs",Service:"Very friendly",Provision:"Coffee, tea, beer, cider, juices, baked sweets, salads, sandwiches"},link:{homepage:"http://www.elliottbaybook.com/"}},{city:"Szeged",country:"Hungary",name:"Dock Cafe",address:"Kárász Street 3",coordinates:["46.252102","20.147400"],description:{Internet:"Free wifi, good speed, no password","Power Outlets":"Most tables have outlets nearby",Seating:"Large tables, individual tables, a few comfy chairs",Service:"Very friendly",Provision:"coffee specials, tea, juices, cake, small breakfast foods"},link:{homepage:"https://www.facebook.com/dockcafe.szeged"}},{city:"Philadelphia",country:"USA",name:"Elixir Cafe",address:"207 South Sydenham Street, Philadelphia, PA 19102",coordinates:["39.949472","-75.166672"],description:{Internet:"Free wifi","Power Outlets":"Yes",Seating:"Wood",Service:"Somewhat elitist, but the espresso is worth it",Provision:"Really good coffee (especially espresso), sandwiches, pastries"},link:{homepage:"http://elixrcoffee.com"}},{city:"Portland",country:"USA",name:"Aliviar Coffee",address:"4128 NE Sandy Blvd, Portland, OR 97213",coordinates:["45.53560","-122.62005"],description:{Internet:"Free WIFI","Power Outlets":"Near almost any seating",Seating:"Theater seating near entrance, two person tables on both sides, some outdoor tables",Service:"Exceptionally friendly",Provision:"Coffee, bagels, pastries, cider, good books"},link:{homepage:"http://www.aliviarcoffee.com/",facebook:"https://www.facebook.com/pages/Aliviar-Coffeehouse/297008072078"}},{city:"Carmel",country:"USA",name:"SoHo Cafe & Gallery",address:"620 South Rangeline Rd, Carmel, IN",coordinates:["39.972341","-86.129127"],description:{Internet:"Free wifi, ask for password","Power Outlets":"Quite a few along the walls",Seating:"Large tables, small tables, couches, outside seating",Service:"Good.",Provision:"Great coffee!"},link:{homepage:"http://www.sohocafecarmel.com/",facebook:"https://www.facebook.com/SoHoCafeGallery"}},{city:"San Francisco",country:"USA",name:"Philz Coffee",address:"399 Golden Gate Ave, San Francisco, CA 94102",coordinates:["37.781455","-122.417181"],description:{Internet:"Free wifi, good speed.","Power Outlets":"There are a few but they tend to get snapped up if you don't come early.",Seating:"Comfortable seats. Good mix of tables and chairs as well as couches. Some spots are also great for working.",Service:"Very friendly. Staff are always happy to give you a lecture on the history of their coffee and are knowledgeable on the subject.",Provision:"Great, fun coffee as one would expect from a Philz. Pastries."},link:{homepage:"http://www.philzcoffee.com/"}},{city:"Fès",country:"Morocco",name:"Café Diamant Princess",address:"N 408 Lot Nouzha Route Ain Chkef, Fès",coordinates:["34.0137833","-5.0079167"],description:{Internet:"Free wifi, good speed","Power Outlets":"There are a few",Seating:"Comfortable seats",Service:"Very friendly",Provision:"Coffee, tea, juices, toasts"},link:{foursquare:"https://foursquare.com/v/diamant-princess/4f533cebe4b028a92039fc84"}},{city:"Beijing",country:"China",name:"MaanCoffee (漫咖啡)",address:"Jiangfu Park North Gate, Jiangtai Donglu, Chaoyang District (朝阳区将台东路将府公园北门)",coordinates:["39.967155","116.516168"],description:{Internet:"Free WiFi (password:maancoffee). speed: 200KBP/s","Power Outlets":"Lots",Seating:"check this page: http://chuansongme.com/n/149828",Service:"Very friendly",Provision:"Coffee, Tea, Waffle, Toast... more..","Opening Hours":"9:00 AM - 11:50 PM"},link:{homepage:"http://www.dianping.com/shop/5649296/"}},{city:"Bucharest",country:"Romania",name:"Acuarela",address:"40 Polona Street, Bucharest",coordinates:["44.4488368","26.1030185"],description:{Internet:"Free wifi, ask for password","Power Outlets":"All over the place",Seating:"A few comfortable chairs, mattresses, even a hammock",Service:"Cute and friendly",Provision:"Coffee, tea, fresh juice, home made quiche, you can even order pizza from other places",Hours:"Mon-Sun 11:00 AM-12:00 AM"},link:{facebook:"http://www.facebook.com/Acuarela.BistroDeArte"}},{city:"Bucharest",country:"Romania",name:"Bastilia",address:"5 Romana Square, Bucharest",coordinates:["44.4474068","26.0963985"],description:{Internet:"Free wifi, ask for password","Power Outlets":"Hidden under the floors",Seating:"Regular wooden chairs, one big table with a bit more comfortable chairs",Service:"Lonely, but fast",Provision:"Insanely strong coffee, fresh juice and beer",Hours:"Mon-Sat 10:00 AM-10:00 PM, Sun 12:00 AM-8:00 PM"},link:{homepage:"http://www.librariumgrup.ro/bastilia/",facebook:"http://www.facebook.com/libraria.bastilia"}},{city:"Iasi",country:"Romania",name:"Mignon Cafe",address:"7B Lapusneanu pedestrian walk",coordinates:["47.1681615","27.5779772"],description:{Internet:"Free wifi, ask for password","Power Outlets":"There are some, but are well hidden",Seating:"Really comfortable chairs and solid tables",Service:"Warm and funny",Provision:"Insanely strong coffee, juice cocktails",Hours:"Mon-Thu 8:00 AM-12:00 AM, Fri 8:00 AM-1:00AM, Sat 10:00 AM-1:00AM, Sun 10:00 AM-12:00AM"},link:{facebook:"http://www.facebook.com/MignonCafe"}},{city:"San Luis Obispo",country:"USA",name:"SLO Donut Company",address:"793F Foothill Blvd, San Luis Obispo, CA",coordinates:["35.293979","-120.671642"],description:{Internet:"Free wifi. Password is written on various chalkboards.","Power Outlets":"Two are placed at each sitting location",Seating:"Multiple tables, couches, and stools.",Service:"Casual, relaxed, inviting.",Provision:"Donuts, cake, and coffee.",Hours:"Sun-Sat 12:00 AM-12:00 PM."},link:{homepage:"http://slodoco.com/"}},{city:"Philadelphia",country:"USA",name:"Menagerie Coffee",address:"18 S 3rd St, Philadelphia, PA 19106",coordinates:["39.9496863","-75.14598260000002"],description:{Internet:"Free and pretty good","Power Outlets":"Some",Seating:"Comfortable seats, several options",Service:"Excellent",Provision:"Full espresso bar, hand poured coffee, & locally sourced small eats"},link:{homepage:"http://menageriecoffee.wordpress.com/"}},{city:"Richland",country:"USA",name:"Roasters Coffee",address:"496 George Washington Way, Richland, WA 99352",coordinates:["46.27170","-119.27129"],description:{Internet:"Free & fast.","Power Outlets":"Power strips everywhere",Seating:"Lots of varied seating.",Service:"Impeccable. Kind, interesting baristas.",Provision:"Fantastic self-roasted coffee, pastries and Red Bull."},link:{homepage:"http://www.roasterscoffee.net/"}},{city:"Richland",country:"USA",name:"The Local",address:"8530 W Gage Blvd, Ste E, Kennewick, WA 99336",coordinates:["46.22772","-119.23749"],description:{Internet:"Free. Fast. Ask for the password.","Power Outlets":"Enough. They're behind most of the seats.",Seating:"Benches all round.",Service:"Really knowledgeable, fast baristas.",Provision:"Excellent Victrola coffee, pastries, and sandwiches."},link:{homepage:"http://www.wearethelocal.com/"}},{city:"Redwood City",country:"USA",name:"Cafe La Tartine",address:"830 Middlefield Road, Redwood City, CA 94063",coordinates:["37.485861","-122.229304"],description:{Internet:"Free stable WIFI","Power Outlets":"Some inside",Seating:"Plenty, plus outdoor seating",Service:"Friendly",Provision:"Coffee, tea, muffins, sandwiches, snacks"}},{city:"Birmingham",country:"UK",name:"Yorks Bakery Cafe",address:"1-3 Newhall St, B3 3NH",coordinates:["52.481074","-1.901269"],description:{Internet:"Free wifi","Power Outlets":"A handful",Seating:"Good size tables, comfy chairs, bar-style seating",Service:"Very friendly",Provision:"Coffee, tea, cake, hot and cold food",Hours:"Mon-Tue 7.30-20.00, Wed-Fri 7.30-21.00, Sat 8.30-21.00, Sun 9.30-18.00"},link:{homepage:"http://www.yorksbakerycafe.co.uk/",twitter:"https://twitter.com/YorksBakeryCafe"}},{city:"Zurich",country:"Switzerland",name:"La Stanza",address:"Bleicherweg 10-8002 Zurich",coordinates:["47.368562","8.536787"],description:{Internet:"Free wifi, great speed, ask for password","Power Outlets":"The only weak spot",Seating:"Crowded in the evenings but perfect to work during the day",Service:"This is the best coffee you'll ever get in Zurich",Provision:"Coffee, Italian Pastries, Drinks, Snacks"},link:{homepage:"http://www.lastanza.ch/"}},{city:"Banff",country:"Canada",name:"MacLab Bistro",address:"107 Tunnel Mountain Dr",coordinates:["51.169960","-115.560229"],description:{Internet:"Free wifi, good speed, no password","Power Outlets":"There are some by the couch tables",Seating:"Lots of seating during the day",Service:"Very friendly",Provision:"Coffee, Tea, Lunch, Beer"},link:{homepage:"http://www.banffcentre.ca/dining/maclab-bistro.asp"}},{name:"Birch Coffee Flatiron",address:"5 E 27th St, New York, NY 10016",coordinates:["40.697488","-73.979681"],description:{Internet:"Free WiFi","Power Outlets":"Some limited points, particularly upstairs",Seating:"Tables near the coffee area, as well as in the library upstairs (access through the hotel lobby)",Service:"Order at counter",Provision:"Coffee, tea, juices, some cakes/pastries"},link:{homepage:"http://www.birchcoffee.com",facebook:"https://www.facebook.com/birchcoffee"}},{city:"Brooklyn",country:"USA",name:"Toby's Estate Brooklyn",address:"125 N 6th St, Brooklyn, NY 11249",coordinates:["40.717875","-73.959253"],description:{Internet:"WiFi","Power Outlets":"None",Seating:"Tables, benches, some couches with tables",Service:"Order at counter",Provision:"Coffee, tea, juices, cake, sandwiches/small meals"},link:{homepage:"http://www.tobysestate.com",facebook:"https://www.facebook.com/tobysestatebrooklyn"}},{city:"Brooklyn",country:"USA",name:"Cafe Grumpy Greenpoint",address:"193 Meserole Avenue, Brooklyn, NY 11222",coordinates:["40.728632","-73.948731"],description:{Internet:"Free WiFi","Power Outlets":"Some limited points, particularly towards the rear",Seating:"Tables, benches",Service:"Order at counter",Provision:"Coffee, tea, juices, some cakes/pastries"},link:{homepage:"http://cafegrumpy.com",facebook:"https://www.facebook.com/cafegrumpy"}}]},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,u=[],c=!1,p=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case p:case f:case a:case l:case s:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case u:return e;default:return t}}case y:case m:case i:return t}}}function v(e){return g(e)===f}t.typeOf=g,t.AsyncMode=p,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return v(e)||g(e)===p},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===h},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===y},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===l},t.isStrictMode=function(e){return g(e)===s},t.isSuspense=function(e){return g(e)===d}},function(e,t,r){"use strict";var n=r(102);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";t.__esModule=!0,t.extendDefaultTheme=t.defaultProps=void 0;var n=r(104),o=r(105),i={theme:o.base};t.defaultProps=i;t.extendDefaultTheme=function(e){i.theme=(0,n.deepMerge)(o.base,e)}},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(!r.length)return e;var s=n({},e);return r.forEach(function(e){o(e)&&Object.keys(e).forEach(function(t){o(e[t])?s[t]?s[t]=i(s[t],e[t]):s[t]=n({},e[t]):s[t]=e[t]})}),s}t.__esModule=!0,t.isObject=o,t.deepMerge=i,t.default=void 0;var a={deepMerge:i,isObject:o};t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.base=void 0;var n=r(17);t.base=n.base},function(e,t,r){var n=r(107);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(27)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(26)(!1)).push([e.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n',""])},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=r(4),a=r.n(i),s=r(1),l=r(28),u=r(6),c=r.n(u);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},h=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(!n.length)return t;var i=p({},t);return n.forEach(function(t){f(t)&&Object.keys(t).forEach(function(r){f(t[r])?i[r]?i[r]=e(i[r],t[r]):i[r]=p({},t[r]):i[r]=t[r]})}),i};s.ThemeContext.Extend=function(e){var t=e.children,r=e.value;return o.a.createElement(s.ThemeContext.Consumer,null,function(e){return o.a.createElement(s.ThemeContext.Provider,{value:h(e,r)},t)})},s.ThemeContext.Extend.propTypes={children:c.a.node.isRequired,value:c.a.shape({}).isRequired};var d=o.a.createContext(void 0),m=function(e,t){var r;return Object.keys(t.global.breakpoints).sort(function(e,r){var n=t.global.breakpoints[e],o=t.global.breakpoints[r];return n?o?n.value?o.value?n.value-o.value:-1:1:-1:1}).some(function(n){var o=t.global.breakpoints[n];return!(!o||o.value&&!(o.value>=e))&&(r=n,!0)}),r},y=function(e,t){return t.global.deviceBreakpoints[e]};function g(e){return Math.round(255*e)}function v(e,t,r){return g(e)+","+g(t)+","+g(r)}function b(e,t,r,n){if(void 0===n&&(n=v),0===t)return n(r,r,r);var o=e%360/60,i=(1-Math.abs(2*r-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,l=0,u=0;o>=0&&o<1?(s=i,l=a):o>=1&&o<2?(s=a,l=i):o>=2&&o<3?(l=i,u=a):o>=3&&o<4?(l=a,u=i):o>=4&&o<5?(s=a,u=i):o>=5&&o<6&&(s=i,u=a);var c=r-i/2;return n(s+c,l+c,u+c)}var _={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var x=/^#[a-fA-F0-9]{6}$/,w=/^#[a-fA-F0-9]{8}$/,S=/^#[a-fA-F0-9]{3}$/,k=/^#[a-fA-F0-9]{4}$/,C=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,P=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/,E=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,T=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/;function A(e){if("string"!=typeof e)throw new Error("Passed an incorrect argument to a color function, please pass a string representation of a color.");var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return _[t]?"#"+_[t]:e}(e);if(t.match(x))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(w)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(S))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(k)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var o=C.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=P.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var a=E.exec(t);if(a){var s="rgb("+b(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=C.exec(s);if(!l)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+s+".");return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var u=T.exec(t);if(u){var c="rgb("+b(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",p=C.exec(c);if(!p)throw new Error("Couldn't generate valid rgb string from "+t+", it returned "+c+".");return{red:parseInt(""+p[1],10),green:parseInt(""+p[2],10),blue:parseInt(""+p[3],10),alpha:parseFloat(""+u[4])}}throw new Error("Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.")}var I=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function z(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function O(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return I("#"+z(e)+z(t)+z(r));if("object"==typeof e&&void 0===t&&void 0===r)return I("#"+z(e.red)+z(e.green)+z(e.blue));throw new Error("Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).")}function M(e,t,r,n){if("string"==typeof e&&"number"==typeof t){var o=A(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof n)return n>=1?O(e,t,r):"rgba("+e+","+t+","+r+","+n+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===n)return e.alpha>=1?O(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Error("Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).")}var L=r(39),F=r(38),R=r(40),D=r(7),B=r(36),j=r(35),U=r(13),N=r(22),V=r(41),q=r(42),G=r(21),W=r(37),H=r(44),Z=r(43),K=r(17),X=function e(t,r,n){var o=r.global.colors[t]||t,i=o;return o&&(r.dark&&o.dark?i=o.dark:!r.dark&&o.light&&(i=o.light)),i&&r.global.colors[i]&&(i=e(i,r)),n&&i===t?"inherit":i},Y=function(e){if(/^#/.test(e))return function(e){return 4===e.length?e.match(/[A-Za-z0-9]{1}/g).map(function(e){return parseInt(e,16)}):e.match(/[A-Za-z0-9]{2}/g).map(function(e){return parseInt(e,16)})}(e);if(/^rgb/.test(e))return e.match(/rgba?\(\s?([0-9]*)\s?,\s?([0-9]*)\s?,\s?([0-9]*)\s?.*?\)/).splice(1);if(/^hsl/.test(e)){var t=e.match(/hsla?\(\s?([0-9]*)\s?,\s?([0-9]*)%?\s?,\s?([0-9]*)%?\s?.*?\)/).splice(1).map(function(e){return parseInt(e,10)});return function(e,t,r){var n,o,i;if(0===t||"0"===t)n=r,o=r,i=r;else{var a=function(e,t,r){var n=r;return n<0&&(n+=1),n>1&&(n-=1),n<.16666667?e+6*(t-e)*n:n<.5?t:n<.66666667?e+(t-e)*(.66666667-n)*6:e},s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+.33333333),o=a(l,s,e),i=a(l,s,e-.33333333)}return[Math.round(255*n),Math.round(255*o),Math.round(255*i)]}(t[0]/360,t[1]/100,t[2]/100)}return e},J=function(e){var t=Y(e);return(299*t[0]+587*t[1]+114*t[2])/1e3<125};function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Q=["#6FFFB0","#FD6FFF","#81FCED","#FFCA58"],ee={critical:"#FF4040",error:"#FF4040",warning:"#FFAA15",ok:"#00C781",unknown:"#CCCCCC",disabled:"#CCCCCC"},te=Q[0],re={active:M(221,221,221,.5),black:"#000000",border:{dark:M(255,255,255,.33),light:M(0,0,0,.33)},brand:"#7D4CDB",control:{dark:"accent-1",light:"brand"},focus:te,placeholder:"#AAAAAA",selected:"brand",text:{dark:"#f8f8f8",light:"#444444"},icon:{dark:"#f8f8f8",light:"#666666"},white:"#FFFFFF"},ne=function(e,t){return e.forEach(function(e,r){re[t+"-"+(r+1)]=e})};ne(Q,"accent"),ne(["#333333","#555555","#777777","#999999","#999999","#999999"],"dark"),ne(["#F8F8F8","#F2F2F2","#EDEDED","#DADADA","#DADADA","#DADADA"],"light"),ne(["#00873D","#3D138D","#00739D","#A2423D"],"neutral"),Object.keys(ee).forEach(function(e){re["status-"+e]=ee[e]});var oe=function(e,t){void 0===e&&(e=24),void 0===t&&(t=6);var r,n=.75*e,o=e/t,i=function(t){return{size:n+t*o+"px",height:e+t*o+"px",maxWidth:e*(n+t*o)+"px"}},a=h(K.base,{global:{active:{background:{color:"active",opacity:"medium"},color:{dark:"white",light:"black"}},animation:{duration:"1s",jiggle:{duration:"0.1s"}},borderSize:{xsmall:"1px",small:"2px",medium:e/6+"px",large:e/2+"px",xlarge:e+"px"},breakpoints:{small:{value:32*e,borderSize:{xsmall:"1px",small:"2px",medium:e/6+"px",large:e/4+"px",xlarge:e/2+"px"},edgeSize:{none:"0px",hair:"1px",xxsmall:"2px",xsmall:e/8+"px",small:e/4+"px",medium:e/2+"px",large:e+"px",xlarge:2*e+"px"},size:{xxsmall:e+"px",xsmall:2*e+"px",small:4*e+"px",medium:8*e+"px",large:16*e+"px",xlarge:32*e+"px",full:"100%"}},medium:{value:64*e},large:{}},deviceBreakpoints:{phone:"small",tablet:"medium",computer:"large"},colors:re,control:{border:{width:"1px",radius:"4px",color:"border"},disabled:{opacity:.3}},debounceDelay:300,drop:{background:"#ffffff",border:{radius:"0px"},shadowSize:"small",zIndex:"20"},edgeSize:{none:"0px",hair:"1px",xxsmall:e/8+"px",xsmall:e/4+"px",small:e/2+"px",medium:e+"px",large:2*e+"px",xlarge:4*e+"px",responsiveBreakpoint:"small"},elevation:{light:{none:"none",xsmall:"0px 1px 2px rgba(0, 0, 0, 0.20)",small:"0px 2px 4px rgba(0, 0, 0, 0.20)",medium:"0px 4px 8px rgba(0, 0, 0, 0.20)",large:"0px 8px 16px rgba(0, 0, 0, 0.20)",xlarge:"0px 12px 24px rgba(0, 0, 0, 0.20)"},dark:{none:"none",xsmall:"0px 2px 2px rgba(255, 255, 255, 0.40)",small:"0px 4px 4px rgba(255, 255, 255, 0.40)",medium:"0px 6px 8px rgba(255, 255, 255, 0.40)",large:"0px 8px 16px rgba(255, 255, 255, 0.40)",xlarge:"0px 12px 24px rgba(255, 255, 255, 0.40)"}},focus:{border:{color:"focus"}},font:$({},i(0)),hover:{background:{color:"active",opacity:"medium"},color:{dark:"white",light:"black"}},input:{padding:e/2+"px",weight:600},opacity:{strong:.8,medium:.4,weak:.1},selected:{background:"selected",color:"white"},spacing:e+"px",size:{xxsmall:2*e+"px",xsmall:4*e+"px",small:8*e+"px",medium:16*e+"px",large:32*e+"px",xlarge:48*e+"px",xxlarge:64*e+"px",full:"100%"}},accordion:{border:{side:"bottom",color:"border"},heading:{level:"4"},icons:{collapse:U.FormUp,expand:D.FormDown}},anchor:{textDecoration:"none",fontWeight:600,color:{dark:"accent-1",light:"brand"},hover:{textDecoration:"underline"}},box:{responsiveBreakpoint:"small"},button:{border:{width:"2px",radius:.75*e+"px"},primary:{},padding:{vertical:e/4-2+"px",horizontal:e-2+"px"}},calendar:{small:{fontSize:n-o+"px",lineHeight:1.375,daySize:8*e/7+"px",slideDuration:"0.2s"},medium:{fontSize:n+"px",lineHeight:1.45,daySize:16*e/7+"px",slideDuration:"0.5s"},large:{fontSize:n+3*o+"px",lineHeight:1.11,daySize:32*e/7+"px",slideDuration:"0.8s"},icons:{previous:G.Previous,next:N.Next,small:{previous:j.FormPrevious,next:B.FormNext}}},carousel:{icons:{current:W.Subtract,next:N.Next,previous:G.Previous}},chart:{},checkBox:{border:{color:{dark:"rgba(255, 255, 255, 0.5)",light:"rgba(0, 0, 0, 0.15)"},width:"2px"},check:{radius:"4px",thickness:"4px"},hover:{border:{color:{dark:"white",light:"black"}}},icon:{},icons:{},size:e+"px",toggle:{color:{dark:"#d9d9d9",light:"#d9d9d9"},knob:{},radius:e+"px",size:2*e+"px"}},clock:{analog:{hour:{color:{dark:"light-2",light:"dark-3"},width:e/3+"px",size:e+"px",shape:"round"},minute:{color:{dark:"light-4",light:"dark-3"},width:e/6+"px",size:Math.round(e/2)+"px",shape:"round"},second:{color:{dark:"accent-1",light:"accent-1"},width:e/8+"px",size:Math.round(e/2.666)+"px",shape:"round"},size:{small:3*e+"px",medium:4*e+"px",large:6*e+"px",xlarge:9*e+"px",huge:12*e+"px"}},digital:{text:{xsmall:{size:n-2*o+"px",height:1.5},small:{size:n-o+"px",height:1.43},medium:{size:n+"px",height:1.375},large:{size:n+o+"px",height:1.167},xlarge:{size:n+2*o+"px",height:1.1875},xxlarge:{size:n+4*o+"px",height:1.125}}}},collapsible:{minSpeed:200,baseline:500},dataTable:{groupHeader:{background:{dark:"dark-2",light:"light-2"},border:{side:"bottom",size:"xsmall"},fill:"vertical",pad:{horizontal:"small",vertical:"xsmall"}},header:{},icons:{ascending:D.FormDown,contract:U.FormUp,descending:U.FormUp,expand:D.FormDown},primary:{weight:"bold"},resize:{border:{color:"border",side:"right"}}},diagram:{line:{color:"accent-1"}},formField:{border:{color:"border",error:{color:{dark:"white",light:"status-critical"}},position:"inner",side:"bottom"},content:{pad:{horizontal:"small",bottom:"small"}},error:{color:{dark:"status-critical",light:"status-critical"},margin:{vertical:"xsmall",horizontal:"small"}},help:{color:{dark:"dark-3",light:"dark-3"},margin:{left:"small"}},label:{margin:{vertical:"xsmall",horizontal:"small"}},margin:{bottom:"small"}},grommet:{},heading:{font:{},level:{1:{font:{},small:$({},i(4)),medium:$({},i(8)),large:$({},i(16)),xlarge:$({},i(24))},2:{font:{},small:$({},i(2)),medium:$({},i(4)),large:$({},i(8)),xlarge:$({},i(12))},3:{font:{},small:$({},i(1)),medium:$({},i(2)),large:$({},i(4)),xlarge:$({},i(6))},4:{font:{},small:$({},i(0)),medium:$({},i(0)),large:$({},i(0)),xlarge:$({},i(0))},5:{font:{},small:$({},i(-.5)),medium:$({},i(-.5)),large:$({},i(-.5)),xlarge:$({},i(-.5))},6:{font:{},small:$({},i(-1)),medium:$({},i(-1)),large:$({},i(-1)),xlarge:$({},i(-1))}},responsiveBreakpoint:"small",weight:600},layer:{background:"white",border:{radius:"4px"},container:{zIndex:"15"},overlay:{background:"rgba(0, 0, 0, 0.5)"},responsiveBreakpoint:"small",zIndex:"10"},maskedInput:{},menu:{icons:{down:D.FormDown}},meter:{color:"accent-1"},paragraph:{small:$({},i(-1)),medium:$({},i(0)),large:$({},i(1)),xlarge:$({},i(2)),xxlarge:$({},i(4))},radioButton:{border:{color:{dark:"rgba(255, 255, 255, 0.5)",light:"rgba(0, 0, 0, 0.15)"},width:"2px"},check:{radius:"100%"},hover:{border:{color:{dark:"white",light:"black"}}},icon:{},icons:{},gap:"small",size:e+"px"},rangeInput:{track:{height:"4px",color:Object(s.css)(["",";"],function(e){return M(X("border",e.theme),.2)})},thumb:{}},rangeSelector:{background:{invert:{color:"light-4"}}},select:{container:{},control:{},icons:{margin:{horizontal:"small"},down:D.FormDown},options:{box:{align:"start",pad:"small"},text:{margin:"none"}},step:20},tab:{active:{color:"text"},border:{side:"bottom",size:"small",color:{dark:"accent-1",light:"brand"},active:{color:{dark:"white",light:"black"}},hover:{color:{dark:"white",light:"black"}}},color:"control",hover:{color:{dark:"white",light:"black"}},margin:{vertical:"xxsmall",horizontal:"small"},pad:{bottom:"xsmall"}},tabs:{header:{},panel:{}},table:{header:{align:"start",pad:{horizontal:"small",vertical:"xsmall"},border:"bottom",verticalAlign:"bottom",fill:"vertical"},body:{align:"start",pad:{horizontal:"small",vertical:"xsmall"}},footer:{align:"start",pad:{horizontal:"small",vertical:"xsmall"},border:"top",verticalAlign:"top",fill:"vertical"}},text:{xsmall:$({},i(-1.5)),small:$({},i(-1)),medium:$({},i(0)),large:$({},i(1)),xlarge:$({},i(2)),xxlarge:$({},i(4))},textArea:{},textInput:{},video:{captions:{background:"rgba(0, 0, 0, 0.7)"},icons:{closedCaption:F.ClosedCaption,configure:L.Actions,fullScreen:R.Expand,pause:V.Pause,play:q.Play,reduceVolume:Z.VolumeLow,volume:H.Volume},scrubber:{color:"light-4"}},worldMap:{color:"light-3",continent:{active:"8px",base:"6px"},hover:{color:"light-4"},place:{active:"20px",base:"8px"}}});return r=a,Object.keys(r).forEach(function(e){return e&&f(r[e])&&Object.freeze(r[e])}),Object.freeze(r)}(24),ie=function(e){return parseFloat(e.replace(/[^0-9\/.]/g,""),10)},ae=function(e,t){return Object(s.css)(["@media only screen ","{",";}"],e.value&&"and (max-width: "+e.value+"px)",t)},se=Object(s.css)(["font-family:",";font-size:",";line-height:",";font-weight:",";"," box-sizing:border-box;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;"],function(e){return e.theme.global.font.family},function(e){return e.theme.global.font.size},function(e){return e.theme.global.font.height},function(e){return e.theme.global.font.weight},function(e){return!e.plain&&e.theme.global.colors.background&&Object(s.css)(["background:",";color:",";"],X("background",e.theme,!0),X("text",e.theme,!0))}),le=Object(s.css)(["border:"," solid ",";border-radius:",";"],function(e){return e.theme.global.control.border.width},function(e){return X(e.theme.global.control.border.color||"border",e.theme)},function(e){return e.theme.global.control.border.radius}),ue=function(e,t,r,n,o){var i=n&&o.global.breakpoints[n];if("string"==typeof t)return Object(s.css)(["",":",";",";"],e,o.global.edgeSize[t]||t,r&&i?ae(i,"\n        "+e+": "+(i.edgeSize[t]||t)+";\n      "):"");var a=[];return t.horizontal&&a.push(Object(s.css)(["","-left:",";","-right:",";",";"],e,o.global.edgeSize[t.horizontal]||t.horizontal,e,o.global.edgeSize[t.horizontal]||t.horizontal,r&&i?ae(i,"\n        "+e+"-left: "+(i.edgeSize[t.horizontal]||t.horizontal)+";\n        "+e+"-right: "+(i.edgeSize[t.horizontal]||t.horizontal)+";\n      "):"")),t.vertical&&a.push(Object(s.css)(["","-top:",";","-bottom:",";",";"],e,o.global.edgeSize[t.vertical]||t.vertical,e,o.global.edgeSize[t.vertical]||t.vertical,r&&i?ae(i,"\n        "+e+"-top: "+(i.edgeSize[t.vertical]||t.vertical)+";\n        "+e+"-bottom: "+(i.edgeSize[t.vertical]||t.vertical)+";\n      "):"")),t.top&&a.push(Object(s.css)(["","-top:",";",";"],e,o.global.edgeSize[t.top]||t.top,r&&i?ae(i,"\n        "+e+"-top: "+(i.edgeSize[t.top]||t.top)+";\n      "):"")),t.bottom&&a.push(Object(s.css)(["","-bottom:",";",";"],e,o.global.edgeSize[t.bottom]||t.bottom,r&&i?ae(i,"\n        "+e+"-bottom: "+(i.edgeSize[t.bottom]||t.bottom)+";\n      "):"")),t.left&&a.push(Object(s.css)(["","-left:",";",";"],e,o.global.edgeSize[t.left]||t.left,r&&i?ae(i,"\n        "+e+"-left: "+(i.edgeSize[t.left]||t.left)+";\n      "):"")),t.right&&a.push(Object(s.css)(["","-right:",";",";"],e,o.global.edgeSize[t.right]||t.right,r&&i?ae(i,"\n        "+e+"-right: "+(i.edgeSize[t.right]||t.right)+";\n      "):"")),a},ce=Object(s.css)(["> circle,> ellipse,> line,> path,> polygon,> polyline,> rect{outline:"," solid 2px;}border-color:",";box-shadow:0 0 2px 2px ",";::-moz-focus-inner{border:0;}"],function(e){return X(e.theme.global.focus.border.color,e.theme)},function(e){return X(e.theme.global.focus.border.color,e.theme)},function(e){return X(e.theme.global.focus.border.color,e.theme)}),pe=Object(s.css)(["box-sizing:border-box;font-size:inherit;font-family:inherit;border:none;-webkit-appearance:none;padding:","px;outline:none;background:transparent;color:inherit;"," margin:0;"," ","::-webkit-search-decoration{-webkit-appearance:none;}"],function(e){return ie(e.theme.global.input.padding)-ie(e.theme.global.control.border.width)},function(e){return e.theme.global.input.weight&&Object(s.css)(["font-weight:",";"],e.theme.global.input.weight)},function(e){return e.focus&&(!e.plain||e.focusIndicator)&&ce},le),fe=Object(s.css)(["color:",";"],function(e){return e.theme.global.colors.placeholder}),he=Object(s.css)(["&::-webkit-input-placeholder{",";}&::-moz-placeholder{",";}&:-ms-input-placeholder{",";}"],fe,fe,fe),de={center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},me=Object(s.css)([""," "," ",""],function(e){return e.alignSelf&&"align-self: "+de[e.alignSelf]+";"},function(e){return e.gridArea&&"grid-area: "+e.gridArea+";"},function(e){return e.margin&&ue("margin",e.margin,e.responsive,e.theme.global.edgeSize.responsiveBreakpoint,e.theme)}),ye=function(e){return Object(s.css)(["opacity:",";cursor:default;"],function(t){return e||t.theme.global.control.disabled.opacity})},ge={theme:oe},ve=Object(s.css)(["width:100vw;height:100vh;overflow:auto;"]),be=s.default.div.withConfig({displayName:"StyledGrommet",componentId:"sc-19lkkz7-0"})([""," "," "," "," ",""],function(e){return!e.plain&&se},function(e){return e.full&&ve},function(e){return e.theme.global.font.face},function(e){return e.theme.grommet.extend},function(e){return e.cssVars&&Object.keys(e.theme.global.colors).filter(function(t){return"string"==typeof e.theme.global.colors[t]}).map(function(t){return"--"+t+": "+e.theme.global.colors[t]+";"}).join("\n")});function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["\n  body { margin: 0; }\n"]);return Se=function(){return e},e}be.defaultProps={},Object.setPrototypeOf(be.defaultProps,ge);var ke=Object(s.createGlobalStyle)(Se()),Ce=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return we(xe(t=e.call.apply(e,[this].concat(n))||this),"state",{}),we(xe(t),"onResize",function(){var e=t.state,r=e.theme,n=e.responsive,o=m(window.innerWidth,r);o!==n&&t.setState({responsive:o})}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){var r=e.theme,n=void 0===r?{}:r,o=t.theme,i=t.themeProp,a=h(oe,n);if(!o||n!==i){if(void 0===n.dark){var s=a.global.colors.background;a.dark=!!s&&Object(l.a)(s)}return{theme:a,themeProp:n}}return null};var i=n.prototype;return i.componentDidMount=function(){window.addEventListener("resize",this.onResize),this.onResize()},i.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},i.deviceResponsive=function(){var e=this.props.userAgent,t=this.state.theme;if(e)return/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(e)?y("tablet",t):/Mobile|iPhone|Android/.test(e)?y("phone",t):y("computer",t)},i.render=function(){var e=this.props,t=e.children,r=e.full,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children","full"]);delete n.theme;var i=this.state,a=i.theme,l=i.responsive||this.deviceResponsive()||a.global.deviceBreakpoints.tablet;return o.a.createElement(s.ThemeContext.Provider,{value:a},o.a.createElement(d.Provider,{value:l},o.a.createElement(be,_e({full:r},n),t),r&&o.a.createElement(ke,null)))},n}(n.Component);we(Ce,"displayName","Grommet");var Pe=Ce,Ee={center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},Te=Object(s.css)(["align-items:",";"],function(e){return Ee[e.align]}),Ae={around:"space-around",between:"space-between",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},Ie=Object(s.css)(["align-content:",";"],function(e){return Ae[e.alignContent]}),ze={center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},Oe=Object(s.css)(["justify-items:",";"],function(e){return ze[e.justify]}),Me={around:"space-around",between:"space-between",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},Le=Object(s.css)(["justify-content:",";"],function(e){return Me[e.justifyContent]}),Fe={flex:"1fr",full:"100%","1/2":"50%","1/4":"25%","2/4":"50%","3/4":"75%","1/3":"33.33%","2/3":"66.66%"},Re=function(e,t){return Array.isArray(e)?"minmax("+(t.global.size[e[0]]||e[0])+", "+(t.global.size[e[1]]||e[1])+")":"minmax("+(t.global.size[e]||e)+", 1fr)"},De=function(e,t,r){var n=Fe[e];return!r||!n||t.fillContainer&&"horizontal"!==t.fillContainer||console.warn("Grid needs `fill` when using fractional row sizes"),n||t.theme.global.size[e]||e},Be=s.default.div.withConfig({displayName:"StyledGrid",componentId:"sc-1wofa1l-0"})(["display:grid;box-sizing:border-box;"," "," "," "," "," "," "," "," "," "," ",""],me,function(e){return e.fillContainer&&("horizontal"===(t=e.fillContainer)?"width: 100%;":"vertical"===t?"height: 100%;":t?"\n      width: 100%;\n      height: 100%;\n    ":void 0);var t},function(e){return e.align&&Te},function(e){return e.alignContent&&Ie},function(e){return e.areas&&function(e){Array.isArray(e.rowsProp)&&Array.isArray(e.columns)||console.warn("Grid `areas` requires `rows` and `columns` to be arrays.");var t=e.rowsProp.map(function(){return e.columns.map(function(){return"."})});return e.areas.forEach(function(e){for(var r=e.start[1];r<=e.end[1];r+=1)for(var n=e.start[0];n<=e.end[0];n+=1)t[r][n]=e.name}),"grid-template-areas: "+t.map(function(e){return'"'+e.join(" ")+'"'}).join(" ")+";"}(e)},function(e){return e.columns&&function(e){return Array.isArray(e.columns)?Object(s.css)(["grid-template-columns:",";"],e.columns.map(function(t){return Array.isArray(t)?"minmax("+De(t[0],e)+", "+De(t[1],e)+")":De(t,e)}).join(" ")):"object"==typeof e.columns?Object(s.css)(["grid-template-columns:repeat( ",","," );"],"number"==typeof(t=e.columns.count)?t:"auto-"+t,Re(e.columns.size,e.theme)):Object(s.css)(["grid-template-columns:repeat( auto-fill,"," );"],Re(e.columns,e.theme));var t}(e)},function(e){return e.gap&&function(e){if("string"==typeof e.gap){var t=e.theme.global.edgeSize[e.gap];return"grid-gap: "+t+" "+t+";"}return e.gap.row&&e.gap.column?"\n      grid-row-gap: "+e.theme.global.edgeSize[e.gap.row]+";\n      grid-column-gap: "+e.theme.global.edgeSize[e.gap.column]+";\n    ":e.gap.row?"\n      grid-row-gap: "+e.theme.global.edgeSize[e.gap.row]+";\n    ":e.gap.column?"\n      grid-column-gap: "+e.theme.global.edgeSize[e.gap.column]+";\n    ":""}(e)},function(e){return e.justify&&Oe},function(e){return e.justifyContent&&Le},function(e){return e.rowsProp&&function(e){return Array.isArray(e.rowsProp)?Object(s.css)(["grid-template-rows:",";"],e.rowsProp.map(function(t){return Array.isArray(t)?"minmax("+De(t[0],e,!0)+", "+De(t[1],e,!0)+")":De(t,e,!0)}).join(" ")):Object(s.css)(["grid-auto-rows:",";"],e.theme.global.size[e.rowsProp])}(e)},function(e){return e.theme.grid&&e.theme.grid.extend});function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Be.defaultProps={},Object.setPrototypeOf(Be.defaultProps,ge);var Ue=function(e){var t=e.fill,r=e.rows,n=e.tag,i=e.as,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["fill","rows","tag","as"]);return o.a.createElement(Be,je({as:!i&&n?n:i,fillContainer:t,rowsProp:r},a))};Ue.available="undefined"!=typeof window&&window.CSS&&window.CSS.supports&&window.CSS.supports("display","grid");r(8);function Ne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ve(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function qe(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function Ge(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Ve.__suppressDeprecationWarning=!0,qe.__suppressDeprecationWarning=!0,Ge.__suppressDeprecationWarning=!0;r(31);var We=r(18),He=r(12);Object.keys,n.Component;var Ze,Ke=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},function(e){return e})},Xe={fromESObservable:null,toESObservable:null},Ye={fromESObservable:function(e){return"function"==typeof Xe.fromESObservable?Xe.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof Xe.toESObservable?Xe.toESObservable(e):e}},Je=(Ze=Ye,r(14)),$e=r.n(Je),Qe=r(15),et=r.n(Qe),tt=o.a.createContext(function(e,t,r){void 0===t&&(t="polite"),void 0===r&&(r=500);var n=document.body.querySelector("[aria-live]")||function(){var e=document.createElement("div");return e.style.left="-100%",e.style.right="100%",e.style.position="fixed",e.style["z-index"]="-1",document.body.insertBefore(e,document.body.firstChild),e}();n.setAttribute("aria-live","off"),n.innerHTML=e,n.setAttribute("aria-live",t),setTimeout(function(){n.innerHTML=""},r)});function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var it,at=function(e){var t=(void 0===e?{}:e).focusWithMouse;return function(e){var r=function(r){var n,i;function a(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return ot(nt(e=r.call.apply(r,[this].concat(i))||this),"mouseActive",!1),ot(nt(e),"state",{focus:!1,wrappedRef:o.a.createRef()}),ot(nt(e),"componentDidMount",function(){var r=e.state.wrappedRef;t||window.addEventListener("mousedown",e.handleActiveMouse);var n=r.current;n&&n.addEventListener&&n.addEventListener("focus",e.setFocus)}),ot(nt(e),"componentWillUnmount",function(){var t=e.state.wrappedRef;window.removeEventListener("mousedown",e.handleActiveMouse);var r=t.current;r&&r.addEventListener&&r.removeEventListener("focus",e.setFocus),clearTimeout(e.focusTimer),clearTimeout(e.mouseTimer)}),ot(nt(e),"handleActiveMouse",function(){e.mouseActive=!0,clearTimeout(e.mouseTimer),e.mouseTimer=setTimeout(function(){e.mouseActive=!1},150)}),ot(nt(e),"setFocus",function(){clearTimeout(e.focusTimer),e.focusTimer=setTimeout(function(){e.state.focus||e.mouseActive||e.setState({focus:!0})},1)}),ot(nt(e),"resetFocus",function(){clearTimeout(e.focusTimer),e.focusTimer=setTimeout(function(){e.state.focus&&e.setState({focus:!1})},1)}),e}return i=r,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,a.getDerivedStateFromProps=function(e,t){var r=e.withFocusRef,n=t.wrappedRef,o=r||n;return o!==n?{wrappedRef:o}:null},a.prototype.render=function(){var t=this,r=this.props,n=r.onFocus,i=r.onBlur,a=(r.withFocusRef,function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(r,["onFocus","onBlur","withFocusRef"])),s=this.state,l=s.focus,u=s.wrappedRef;return o.a.createElement(e,rt({ref:u,focus:l},a,{onFocus:function(e){t.setFocus(),n&&n(e)},onBlur:function(e){t.resetFocus(),i&&i(e)}}))},a}(n.Component),i=o.a.forwardRef(function(e,t){return o.a.createElement(r,rt({},e,{withFocusRef:t}))});return i.displayName=$e()(e),i.name=i.displayName,i.defaultProps=e.defaultProps,et()(i,e),i}},st=function(e){var t=o.a.forwardRef(function(t,r){return o.a.createElement(e,rt({forwardRef:r},t))});return t.displayName=$e()(e),t.name=t.displayName,t.defaultProps=e.defaultProps,et()(t,e),t},lt=function(e,t){var r=e;return e&&(t.dark&&e.dark&&"boolean"!=typeof e.dark?r=e.dark:!t.dark&&e.light&&"boolean"!=typeof e.light&&(r=e.light),r=function(e,t){return e&&Array.isArray(e)&&"function"==typeof e[0]?e[0]({theme:t}):e}(r,t)),r},ut=function(e,t){var r,n=lt(e,t);if(n)if("object"==typeof n){var o=n.color,i=n.dark,a=n.opacity;if("boolean"==typeof i)r=i;else if(o&&(!a||"weak"!==a)){var s=X(n.color,t);s&&(r=J(s))}}else{var l=X(n,t);l&&(r=J(l))}return r},ct=function(e,t,r){var n=lt(e,t),o=r||t.global.colors.text;if("object"==typeof n){var i,a=[];if(n.image)!1===n.dark?i=o.light:n.dark?i=o.dark:r||(i="inherit"),a.push(Object(s.css)(["background-image:",";background-repeat:",";background-position:",";background-size:",";color:",";"],n.image,n.repeat||"no-repeat",n.position||"center center",n.size||"cover",i));if(n.color){var l=X(n.color,t),u=function(e,t){if(e&&function(e){return/^#/.test(e)||/^rgb/.test(e)||/^hsl/.test(e)}(e)){var r=Y(e);return"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+(t||1)+")"}}(l,!0===n.opacity?t.global.opacity.medium:t.global.opacity[n.opacity]||n.opacity)||l;a.push(Object(s.css)(["background-color:",";",""],u,(!n.opacity||"weak"!==n.opacity)&&"color: "+o[n.dark||J(u)?"dark":"light"]+";"))}return!1===n.dark?a.push(Object(s.css)(["color:",";"],o.light)):n.dark&&a.push(Object(s.css)(["color:",";"],o.dark)),a}if(n){if(0===n.lastIndexOf("url",0))return Object(s.css)(["background:"," no-repeat center center;background-size:cover;"],n);var c=X(n,t);if(c)return Object(s.css)(["background:",";color:",";"],c,o[J(c)?"dark":"light"])}},pt=Object(s.css)([""," color:",";"],function(e){return ct(X(e.theme.global.active.background,e.theme),e.theme)},function(e){return X(e.theme.global.active.color,e.theme)}),ft=(Object(s.css)([""," color:",";"],function(e){return ct(X(e.theme.global.selected.background,e.theme),e.theme)},function(e){return X(e.theme.global.selected.color,e.theme)}),{baseline:"baseline",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"}),ht=Object(s.css)(["align-items:",";"],function(e){return ft[e.align]}),dt={around:"around",between:"between",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},mt=Object(s.css)(["align-content:",";"],function(e){return dt[e.alignContent]}),yt={auto:"auto",full:"100%","1/2":"50%","1/4":"25%","2/4":"50%","3/4":"75%","1/3":"33.33%","2/3":"66.66%"},gt=Object(s.css)(["flex-basis:",";"],function(e){return yt[e.basis]||e.theme.global.size[e.basis]||e.basis}),vt=Object(s.css)(["box-shadow:",";"],function(e){return e.theme.global.elevation[e.theme.dark&&!e.theme.darkChanged||!e.theme.dark&&e.theme.darkChanged?"dark":"light"][e.elevationProp]}),bt=((it={})[!0]="1 1",it[!1]="0 0",it.grow="1 0",it.shrink="0 1",it),_t=Object(s.css)(["flex:",";"],function(e){return("boolean"==typeof(t=e.flex)||"string"==typeof t?bt[t]:(t.grow?t.grow:0)+" "+(t.shrink?t.shrink:0))+(!0===e.flex||e.basis?"":" auto");var t}),xt={around:"space-around",between:"space-between",center:"center",end:"flex-end",evenly:"space-evenly",start:"flex-start"},wt=Object(s.css)(["justify-content:",";"],function(e){return xt[e.justify]}),St={true:"wrap",reverse:"wrap-reverse"},kt=Object(s.css)(["flex-wrap:",";"],function(e){return St[e.wrapProp]}),Ct={full:"100%"},Pt={xsmall:1,small:5,medium:10,large:50,xlarge:200},Et={xsmall:1.001,small:1.01,medium:1.1,large:1.5,xlarge:2},Tt={xsmall:.1,small:1,medium:5,large:400,xlarge:1e3},At={xsmall:.001,small:.01,medium:.05,large:.1,xlarge:.5},It=function(e,t){if(void 0===t&&(t="medium"),"fadeIn"===e)return["opacity: 0;","opacity: 1;"];if("fadeOut"===e)return["opacity: 1;","opacity: 0;"];if("jiggle"===e){var r=Tt[t];return["transform: rotate(-"+r+"deg);","transform: rotate("+r+"deg);"]}return"pulse"===e?["transform: scale(1);","transform: scale("+Et[t]+")"]:"flipIn"===e?["transform: rotateY(90deg);","transform: rotateY(0);"]:"flipOut"===e?["transform: rotateY(0);","transform: rotateY(90deg);"]:"slideDown"===e?["transform: translateY(-"+Pt[t]+"%);","transform: none;"]:"slideLeft"===e?["transform: translateX("+Pt[t]+"%);","transform: none;"]:"slideRight"===e?["transform: translateX(-"+Pt[t]+"%);","transform: none;"]:"slideUp"===e?["transform: translateY("+Pt[t]+"%);","transform: none;"]:"zoomIn"===e?["transform: scale("+(1-At[t])+");","transform: none;"]:"zoomOut"===e?["transform: scale("+(1+At[t])+");","transform: none;"]:[]},zt=function(e,t){return e?e/1e3+"s":t},Ot=function(e,t){var r,n=It(e.type,e.size);if(n){var o=Object(s.css)(["from{",";}to{",";}"],n[0],n[1]);return Object(s.css)([""," "," "," ",""],Object(s.keyframes)(["",""],o),zt(e.duration,(t.global.animation[e.type]?t.global.animation[e.type].duration:void 0)||t.global.animation.duration),zt(e.delay,"0s"),"jiggle"===(r=e.type)?"alternate infinite":"pulse"===r?"alternate infinite":"forwards")}return""},Mt=function(e){var t=It(e.type,e.size);return t?t[0]+" "+function(e){return"flipIn"===e.type||"flipOut"===e.type?"perspective: 1000px; transform-style: preserve-3d;":""}(e):""},Lt=Object(s.css)(["",";"],function(e){return Object(s.css)([""," animation:",";"],"string"==typeof(t=e.animation)?Mt({type:t}):Array.isArray(t)?t.map(function(e){return Mt("string"==typeof e?{type:e}:e)}).join(""):"object"==typeof t?Mt(t):"",function e(t,r){return"string"==typeof t?Ot({type:t},r):Array.isArray(t)?t.reduce(function(t,n,o){return Object(s.css)(["",""," ",""],t,o>0?",":"",e(n,r))},""):"object"==typeof t?Ot(t,r):""}(e.animation,e.theme));var t}),Ft=s.default.div.withConfig({displayName:"StyledBox",componentId:"sc-13pk1d4-0"})(["display:flex;box-sizing:border-box;outline:none;",";"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],function(e){return!e.basis&&"max-width: 100%;"},me,function(e){return e.heightProp&&"height: "+(e.theme.global.size[e.heightProp]||e.heightProp)+";"},function(e){return e.widthProp&&"width: "+(e.theme.global.size[e.widthProp]||e.widthProp)+";"},function(e){return e.align&&ht},function(e){return e.alignContent&&mt},function(e){return e.background&&ct(e.background,e.theme)},function(e){return e.border&&(t=e.border,e.responsive,r=e.theme,n=[],o=X(t.color||"border",r),i=t.size||"xsmall",a=t.style||"solid",l="string"==typeof t?t:t.side||"all",u=a+" "+(r.global.borderSize[i]||i)+" "+o,c=r.box.responsiveBreakpoint&&r.global.breakpoints[r.box.responsiveBreakpoint],p=c&&(c.borderSize[i]||i)&&a+" "+(c.borderSize[i]||i)+" "+o,"top"===l||"bottom"===l||"left"===l||"right"===l?(n.push(Object(s.css)(["border-",":",";"],l,u)),p&&n.push(ae(c,"\n        border-"+l+": "+p+";\n      "))):"vertical"===l?(n.push(Object(s.css)(["border-left:",";border-right:",";"],u,u)),p&&n.push(ae(c,"\n        border-left: "+p+";\n        border-right: "+p+";\n      "))):"horizontal"===l?(n.push(Object(s.css)(["border-top:",";border-bottom:",";"],u,u)),p&&n.push(ae(c,"\n        border-top: "+p+";\n        border-bottom: "+p+";\n      "))):(n.push(Object(s.css)(["border:",";"],u)),p&&n.push(ae(c,"border: "+p+";"))),n);var t,r,n,o,i,a,l,u,c,p},function(e){return e.directionProp&&function(e,t){var r=[Object(s.css)(["min-width:0;min-height:0;flex-direction:",";"],"row-responsive"===e?"row":e)];if("row-responsive"===e&&t.box.responsiveBreakpoint){var n=t.global.breakpoints[t.box.responsiveBreakpoint];n&&r.push(ae(n,"\n        flex-direction: column;\n        flex-basis: auto;\n        justify-content: flex-start;\n        align-items: stretch;\n      "))}return r}(e.directionProp,e.theme)},function(e){return void 0!==e.flex&&_t},function(e){return e.basis&&gt},function(e){return e.fillProp&&("horizontal"===(t=e.fillProp)?"width: 100%;":"vertical"===t?"height: 100%;":t?"\n      width: 100%;\n      height: 100%;\n    ":void 0);var t},function(e){return e.justify&&wt},function(e){return e.pad&&ue("padding",e.pad,e.responsive,e.theme.box.responsiveBreakpoint,e.theme)},function(e){return e.round&&function(e,t,r){var n=r.box.responsiveBreakpoint&&r.global.breakpoints[r.box.responsiveBreakpoint],o=[];if("object"==typeof e){var i=Ct[e.size]||r.global.edgeSize[e.size||"medium"]||e.size,a=n&&n.edgeSize[e.size]&&(n.edgeSize[e.size]||e.size);"top"===e.corner?(o.push(Object(s.css)(["border-top-left-radius:",";border-top-right-radius:",";"],i,i)),a&&o.push(ae(n,"\n          border-top-left-radius: "+a+";\n          border-top-right-radius: "+a+";\n        "))):"bottom"===e.corner?(o.push(Object(s.css)(["border-bottom-left-radius:",";border-bottom-right-radius:",";"],i,i)),a&&o.push(ae(n,"\n          border-bottom-left-radius: "+a+";\n          border-bottom-right-radius: "+a+";\n        "))):"left"===e.corner?(o.push(Object(s.css)(["border-top-left-radius:",";border-bottom-left-radius:",";"],i,i)),a&&o.push(ae(n,"\n          border-top-left-radius: "+a+";\n          border-bottom-left-radius: "+a+";\n        "))):"right"===e.corner?(o.push(Object(s.css)(["border-top-right-radius:",";border-bottom-right-radius:",";"],i,i)),a&&o.push(ae(n,"\n          border-top-right-radius: "+a+";\n          border-bottom-right-radius: "+a+";\n        "))):e.corner?(o.push(Object(s.css)(["border-","-radius:",";"],e.corner,i)),a&&o.push(ae(n,"\n          border-"+e.corner+"-radius: "+a+";\n        "))):(o.push(Object(s.css)(["border-radius:",";"],i)),a&&o.push(ae(n,"\n          border-radius: "+a+";\n        ")))}else{var l=!0===e?"medium":e;o.push(Object(s.css)(["border-radius:",";"],Ct[l]||r.global.edgeSize[l]||l));var u=n&&n.edgeSize[l];u&&o.push(ae(n,"\n        border-radius: "+u+";\n      "))}return o}(e.round,e.responsive,e.theme)},function(e){return e.wrapProp&&kt},function(e){return e.overflowProp&&("string"==typeof(t=e.overflowProp)?Object(s.css)(["overflow:",";"],t):Object(s.css)([""," ",";"],t.horizontal&&"overflow-x: "+t.horizontal+";",t.vertical&&"overflow-y: "+t.vertical+";"));var t},function(e){return e.elevationProp&&vt},function(e){return e.animation&&Lt},function(e){return e.theme.box&&e.theme.box.extend});Ft.defaultProps={},Object.setPrototypeOf(Ft.defaultProps,ge);var Rt=s.default.div.withConfig({displayName:"StyledBox__StyledBoxGap",componentId:"sc-13pk1d4-1"})(["flex:0 0 auto;",";"],function(e){return e.gap&&(t=e.directionProp,r=e.gap,n=e.responsive,o=e.theme,i=o.box.responsiveBreakpoint&&o.global.breakpoints[o.box.responsiveBreakpoint],a=i&&i.edgeSize[r]&&i.edgeSize[r],l=[],"column"===t?(l.push(Object(s.css)(["height:",";"],o.global.edgeSize[r]||r)),a&&l.push(ae(i,"height: "+a+";"))):(l.push("width: "+(o.global.edgeSize[r]||r)+";"),n&&"row-responsive"===t&&l.push(ae(i,"\n        width: auto;\n        height: "+a+";\n      "))),l);var t,r,n,o,i,a,l});function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Rt.defaultProps={},Object.setPrototypeOf(Rt.defaultProps,ge);var jt=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e,t=this.props,r=t.a11yTitle,i=t.background,a=t.children,l=t.direction,u=t.elevation,c=t.fill,p=t.forwardRef,f=t.gap,h=t.overflow,d=t.responsive,m=t.tag,y=t.as,g=t.wrap,v=t.width,b=t.height,_=t.theme,x=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["a11yTitle","background","children","direction","elevation","fill","forwardRef","gap","overflow","responsive","tag","as","wrap","width","height","theme"]),w=this.context||_,S=a;f&&(S=[],n.Children.forEach(a,function(t,r){t&&(void 0===e?e=r:S.push(o.a.createElement(Rt,{key:"gap-"+r,gap:f,directionProp:l,responsive:d}))),S.push(t)}));var k=o.a.createElement(Ft,Dt({as:!y&&m?m:y,"aria-label":r,background:i,ref:p,directionProp:l,elevationProp:u,fillProp:c,overflowProp:h,wrapProp:g,widthProp:v,heightProp:b,responsive:d},x),S);if(i||w.darkChanged){var C=ut(i,w),P=void 0!==C&&C!==w.dark;(P||w.darkChanged)&&(C=void 0===C?w.dark:C,k=o.a.createElement(s.ThemeContext.Provider,{value:Dt({},w,{dark:C,darkChanged:P})},k))}return k},i}(n.Component);Bt(jt,"contextType",s.ThemeContext),Bt(jt,"displayName","Box"),Bt(jt,"defaultProps",{direction:"column",margin:"none",pad:"none",responsive:!0}),Object.setPrototypeOf(jt.defaultProps,ge);var Ut=Ke(s.withTheme,st)(jt);var Nt=Object(s.css)(["&:hover{"," ",";}"],function(e){return e.hoverIndicator&&(t=e.hoverIndicator,r=e.theme,n=!0===t||"background"===t?r.global.hover.background:t,Object(s.css)([""," color:",";"],ct(n,r),X(r.global.hover.color,r)));var t,r,n},function(e){return!e.plain&&Object(s.css)(["box-shadow:0px 0px 0px 2px ",";"],function(e){return e.colorValue?X(e.colorValue,e.theme):X(e.theme.button.border.color||"control",e.theme)}(e))}),Vt=s.default.button.withConfig({displayName:"StyledButton",componentId:"sc-323bzc-0"})(["display:inline-block;box-sizing:border-box;cursor:pointer;outline:none;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;"," "," "," "," "," "," "," "," "," "," "," "," ",""],me,function(e){return e.plain&&function(e){return Object(s.css)(["color:",";border:none;padding:0;text-align:inherit;"],X(e.colorValue||"inherit",e.theme))}(e)},function(e){return!e.plain&&function(e){return Object(s.css)(["border:"," solid ",";border-radius:",";color:",";padding:"," ",";font-size:",";line-height:",";"],e.theme.button.border.width,X(e.colorValue||e.theme.button.border.color||"control",e.theme),e.theme.button.border.radius,X(e.theme.button.color||"text",e.theme),e.theme.button.padding.vertical,e.theme.button.padding.horizontal,e.theme.text.medium.size,e.theme.text.medium.height)}(e)},function(e){return e.primary&&function(e){return Object(s.css)([""," border-radius:",";"],ct(X(e.colorValue||e.theme.button.primary.color||"control",e.theme),e.theme,e.theme.button.color),e.theme.button.border.radius)}(e)},function(e){return!e.disabled&&!e.focus&&Nt},function(e){return!e.disabled&&e.active&&pt},function(e){return e.disabled&&ye(e.theme.button.disabled&&e.theme.button.disabled.opacity)},function(e){return e.focus&&(!e.plain||e.focusIndicator)&&ce},function(e){return!e.plain&&"\n    transition: 0.1s ease-in-out;\n  "},function(e){return e.fillContainer&&("horizontal"===(t=e.fillContainer)?"width: 100%;":"vertical"===t?"height: 100%;":t?"\n      width: 100%;\n      height: 100%;\n      max-width: none;\n      flex: 1 0 auto;\n    ":void 0);var t},function(e){return e.hasIcon&&!e.hasLabel&&"\n    line-height: 0;\n  "},function(e){return e.pad&&e.hasIcon&&!e.hasLabel&&"\npadding: "+e.theme.global.edgeSize.small+";\n"},function(e){return e.theme.button.extend});function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Vt.defaultProps={},Object.setPrototypeOf(Vt.defaultProps,ge);var Ht=function(e){var t,r;function i(t){var r;Wt(Gt(r=e.call(this,t)||this),"state",{}),Wt(Gt(r),"onMouseOver",function(e){var t=r.props.onMouseOver;r.setState({hover:!0}),t&&t(e)}),Wt(Gt(r),"onMouseOut",function(e){var t=r.props.onMouseOut;r.setState({hover:!1}),t&&t(e)});var n=t.children,o=t.icon,i=t.label;return(o||i)&&n&&console.warn("Button should not have children if icon or label is provided"),r}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e,t,r=this.props,i=r.a11yTitle,a=r.color,s=r.forwardRef,l=r.children,u=r.disabled,c=r.icon,p=r.gap,f=r.fill,h=r.focus,d=r.href,m=r.label,y=r.onClick,g=r.plain,v=r.primary,b=r.reverse,_=r.theme,x=r.type,w=r.as,S=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(r,["a11yTitle","color","forwardRef","children","disabled","icon","gap","fill","focus","href","label","onClick","plain","primary","reverse","theme","type","as"]),k=this.state.hover,C=c;v&&c&&!c.props.color&&(C=Object(n.cloneElement)(c,{color:_.global.colors.text[(e=this.props,t=lt(X(e.color||e.theme.button.primary.color||e.theme.global.colors.control||"brand",e.theme),e.theme),J(t,e.theme)?"dark":"light")]}));var P,E=!w&&d?"a":w,T=b?m:C,A=b?C:m;return P=T&&A?o.a.createElement(Ut,{direction:"row",align:"center",justify:"center",gap:p},T,A):"function"==typeof l?l({hover:k,focus:h}):T||A||l,o.a.createElement(Vt,qt({},S,{as:E,ref:s,"aria-label":i,colorValue:a,disabled:u,hasIcon:!!c,gap:p,hasLabel:!!m,fillContainer:f,focus:h,href:d,onClick:y,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,pad:!g,plain:void 0!==g?g:n.Children.count(l)>0||c&&!m,primary:v,type:d?void 0:x}),P)},i}(n.Component);Wt(Ht,"defaultProps",{type:"button",focusIndicator:!0,gap:"small"}),Object.setPrototypeOf(Ht.defaultProps,ge);var Zt,Kt=Ke(at(),s.withTheme,st)(Ht),Xt=r(30),Yt=r.n(Xt),Jt=(r(50),function(e){return Array.prototype.filter.call(e||[],function(e){var t=e.tagName.toLowerCase(),r=t.match(/(svg|a|area|input|select|textarea|button|iframe|div)$/)&&e.focus;return"a"===t?r&&e.childNodes.length>0&&e.getAttribute("href"):"svg"===t||"div"===t?r&&e.hasAttribute("tabindex")&&"-1"!==e.getAttribute("tabindex"):r})}),$t=function(e,t){var r=[];if(e){for(var n=e.parentNode;n&&n.getBoundingClientRect;){var o=n.getBoundingClientRect();t?o.width&&n.scrollWidth>o.width+10&&r.push(n):o.height&&n.scrollHeight>o.height+10&&r.push(n),n=n.parentNode}0===r.length?r.push(document):"body"===r[0].tagName.toLowerCase()&&(r.length=0,r.push(document))}return r},Qt=function(){var e=/^(script|link)$/i,t=[];return[].forEach.call(document.body.children,function(r){e.test(r.tagName)||t.push(r)}),t},er=function(){var e=document.createElement("div");return document.body.appendChild(e),e},tr=function(e){var t=window.scrollX,r=window.scrollY;e.focus(),window.scrollTo(t,r)},rr=function(e){return function(t){return function(r){r.setAttribute(t,r.getAttribute(e))}}},nr=function(e){return function(t){return t.removeAttribute(e)}},or=(Zt=-1,function(e){e.setAttribute("tabindex",Zt)}),ir=rr("tabindex")("data-g-tabindex"),ar=rr("data-g-tabindex")("tabindex"),sr=nr("tabindex"),lr=nr("data-g-tabindex"),ur=function(e){e.hasAttribute("aria-live")||(e.setAttribute("aria-hidden",!1),Jt(e.getElementsByTagName("*")).forEach(function(e){e.hasAttribute("data-g-tabindex")?ar(e):sr(e),lr(e)}))},cr=function(e){e.hasAttribute("aria-live")||(e.setAttribute("aria-hidden",!0),Jt(e.getElementsByTagName("*")).forEach(function(e){e.hasAttribute("tabindex")&&ir(e),or(e)}))},pr=function e(t){if(t)return t.offsetParent?t:e(t.parentElement)||t};function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=function(e){return function(t){return!t.contains(e)}},yr=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dr(hr(t=e.call.apply(e,[this].concat(n))||this),"ref",o.a.createRef()),dr(hr(t),"removeTrap",function(){var e=t.props.restrictScroll,r=t.ref.current;Qt().filter(mr(r)).forEach(ur),e&&(document.body.style.overflow=t.bodyOverflowStyle)}),dr(hr(t),"trapFocus",function(){var e=t.props.restrictScroll,r=t.ref.current;Qt().filter(mr(r)).forEach(cr),e&&(t.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden")}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.componentDidMount=function(){var e=this,t=this.props.hidden;setTimeout(function(){t||e.trapFocus()},0)},i.componentWillUnmount=function(){this.removeTrap()},i.render=function(){var e=this.props,t=e.children,r=e.hidden,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children","hidden"]);return delete n.restrictScroll,o.a.createElement("div",fr({ref:this.ref,"aria-hidden":r},n),t)},n}(n.Component);dr(yr,"defaultProps",{hidden:!1,restrictScroll:!1}),dr(yr,"propTypes",{hidden:c.a.bool,restrictScroll:c.a.bool});var gr={8:"onBackspace",9:"onTab",13:"onEnter",27:"onEsc",32:"onSpace",37:"onLeft",38:"onUp",39:"onRight",40:"onDown",188:"onComma",16:"onShift"};var vr=function(e){var t,r;function o(){for(var t,r,n,o,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),o=function(e){for(var r,n=t.props.onKeyDown,o=e.keyCode?e.keyCode:e.which,i=gr[o],a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];i&&t.props[i]&&(r=t.props)[i].apply(r,[e].concat(s)),n&&n.apply(void 0,[e].concat(s))},(n="onKeyDown")in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=o.prototype;return i.componentDidMount=function(){"document"===this.props.target&&document.addEventListener("keydown",this.onKeyDown)},i.componentWillUnmount=function(){"document"===this.props.target&&document.removeEventListener("keydown",this.onKeyDown)},i.render=function(){var e=this.props,t=e.children;return"document"===e.target?t:Object(n.cloneElement)(n.Children.only(t),{onKeyDown:this.onKeyDown})},o}(n.Component),br=Object(s.css)(["left:-100%;right:100%;z-index:-1;position:fixed;"]),_r=s.default.div.withConfig({displayName:"StyledLayer",componentId:"rmtehz-0"})([""," background:unset;position:relative;z-index:",";pointer-events:none;outline:none;"," ",";"],se,function(e){return e.theme.layer.zIndex},function(e){if("hidden"===e.position)return br;var t=["\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 100vw;\n  height: 100vh;\n"];if(e.responsive&&e.theme.layer.responsiveBreakpoint){var r=e.theme.global.breakpoints[e.theme.layer.responsiveBreakpoint];t.push(ae(r,"\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n"))}return t},function(e){return e.theme.layer&&e.theme.layer.extend});_r.defaultProps={},Object.setPrototypeOf(_r.defaultProps,ge);var xr=s.default.div.withConfig({displayName:"StyledLayer__StyledOverlay",componentId:"rmtehz-1"})(["position:absolute;"," top:0px;left:0px;right:0px;bottom:0px;"," pointer-events:all;"],function(e){if(e.responsive&&e.theme.layer.responsiveBreakpoint){var t=e.theme.global.breakpoints[e.theme.layer.responsiveBreakpoint];return ae(t,"position: relative;")}return""},function(e){return!e.plain&&e.theme.layer.overlay.background&&ct(e.theme.layer.overlay.background,e.theme)}),wr=function(e,t,r){var n=r.includes("top")||r.includes("bottom")?"vertical":"horizontal",o=e[r]||e[n]||e,i=t.global.edgeSize[o]||o;return!!t.global.edgeSize[o]||"string"==typeof o?i:"0px"},Sr=function(e,t,r){return void 0===r&&(r=void 0),r?wr(e,t,r):{bottom:wr(e,t,"bottom"),"bottom-left":wr(e,t,"bottom-left"),"bottom-right":wr(e,t,"bottom-right"),left:wr(e,t,"left"),right:wr(e,t,"right"),top:wr(e,t,"top"),"top-right":wr(e,t,"top-right"),"top-left":wr(e,t,"top-left")}},kr={center:{vertical:Object(s.keyframes)(["0%{transform:translateX(-50%) scale(0.8);}100%{transform:translateX(-50%) scale(1);}"]),horizontal:Object(s.keyframes)(["0%{transform:translateY(-50%) scale(0.8);}100%{transform:translateY(-50) scale(1);}"]),true:Object(s.keyframes)(["0%{transform:scale(0.8);}100%{transform:scale(1);}"]),false:Object(s.keyframes)(["0%{transform:translate(-50%,-50%) scale(0.8);}100%{transform:translate(-50%,-50%) scale(1);}"])},top:{vertical:Object(s.keyframes)(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"]),horizontal:Object(s.keyframes)(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),true:Object(s.keyframes)(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),false:Object(s.keyframes)(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"])},bottom:{vertical:Object(s.keyframes)(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"]),horizontal:Object(s.keyframes)(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),true:Object(s.keyframes)(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),false:Object(s.keyframes)(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"])},left:{vertical:Object(s.keyframes)(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),horizontal:Object(s.keyframes)(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),true:Object(s.keyframes)(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),false:Object(s.keyframes)(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])},right:{vertical:Object(s.keyframes)(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),horizontal:Object(s.keyframes)(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),true:Object(s.keyframes)(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),false:Object(s.keyframes)(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])}},Cr=function(e,t,r){void 0===e&&(e=!0);var n=Object(s.css)(["animation:"," 0.2s ease-in-out forwards"],kr[t][r]);return e?n:""},Pr={center:{vertical:function(e){return Object(s.css)(["top:",";bottom:",";left:50%;transform:translateX(-50%);",""],e.top,e.bottom,function(e){return Cr(e.animate,"center","vertical")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";top:50%;transform:translateY(-50%);",""],e.left,e.right,function(e){return Cr(e.animate,"center","horizontal")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"center","true")})},false:function(){return Object(s.css)(["top:50%;left:50%;transform:translate(-50%,-50%);",""],function(e){return Cr(e.animate,"center","false")})}},top:{vertical:function(e){return Object(s.css)(["top:",";bottom:",";left:50%;transform:translate(-50%,0%);",""],e.top,e.bottom,function(e){return Cr(e.animate,"top","vertical")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";top:",";transform:translateY(0);",""],e.left,e.right,e.top,function(e){return Cr(e.animate,"top","horizontal")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateY(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"top","true")})},false:function(e){return Object(s.css)(["top:",";left:50%;transform:translate(-50%,0);",""],e.top,function(e){return Cr(e.animate,"top","false")})}},bottom:{vertical:function(e){return Object(s.css)(["top:"," bottom:",";left:50%;transform:translate(-50%,0);",""],e.top,e.bottom,function(e){return Cr(e.animate,"bottom","vertical")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";bottom:",";transform:translateY(0);",""],e.left,e.top,e.bottom,function(e){return Cr(e.animate,"bottom","horizontal")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateY(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"bottom","true")})},false:function(e){return Object(s.css)(["bottom:",";left:50%;transform:translate(-50%,0);",""],e.bottom,function(e){return Cr(e.animate,"bottom","false")})}},left:{vertical:function(e){return Object(s.css)(["top:",";bottom:",";left:",";transform:translateX(0);",""],e.top,e.bottom,e.left,function(e){return Cr(e.animate,"left","vertical")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";top:50%;transform:translate(0,-50%);",""],e.left,e.right,function(e){return Cr(e.animate,"left","horizontal")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"left","true")})},false:function(e){return Object(s.css)(["left:",";top:50%;transform:translate(0,-50%);",""],e.left,function(e){return Cr(e.animate,"left","false")})}},right:{vertical:function(e){return Object(s.css)(["top:",";bottom:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.right,function(e){return Cr(e.animate,"right","vertical")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";top:50%;transform:translate(0,-50%);",""],e.left,e.right,function(e){return Cr(e.animate,"right","horizontal")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"right","true")})},false:function(e){return Object(s.css)(["right:",";top:50%;transform:translate(0,-50%);",""],e.right,function(e){return Cr(e.animate,"right","false")})}},"top-right":{vertical:function(e){return Object(s.css)(["top:",";bottom:",";right:",";transform:translateX(0);",";"],e.top,e.bottom,e.right,function(e){return Cr(e.animate,"top","true")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";top:0;transform:translateX(0);",";"],e.left,e.right,function(e){return Cr(e.animate,"top","true")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateX(0);",";"],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"top","true")})},false:function(e){return Object(s.css)(["top:",";right:",";transform:translateY(0);",";"],e.top,e.right,function(e){return Cr(e.animate,"top","true")})}},"top-left":{vertical:function(e){return Object(s.css)(["top:",";bottom:",";left:",";transform:translateX(0);",""],e.top,e.bottom,e.left,function(e){return Cr(e.animate,"top","true")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";top:0;transform:translateX(0);",""],e.left,e.right,function(e){return Cr(e.animate,"top","true")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"top","true")})},false:function(e){return Object(s.css)(["top:",";left:",";transform:translateY(0);",""],e.top,e.left,function(e){return Cr(e.animate,"top","true")})}},"bottom-right":{vertical:function(e){return Object(s.css)(["top:",";bottom:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.right,function(e){return Cr(e.animate,"bottom","true")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";bottom:",";transform:translateY(0);",""],e.left,e.right,e.bottom,function(e){return Cr(e.animate,"bottom","true")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"bottom","true")})},false:function(e){return Object(s.css)(["bottom:",";right:",";transform:translateY(0);",""],e.bottom,e.right,function(e){return Cr(e.animate,"bottom","true")})}},"bottom-left":{vertical:function(e){return Object(s.css)(["top:",";bottom:",";left:",";transform:translateX(0);",""],e.top,e.bottom,e.left,function(e){return Cr(e.animate,"bottom","true")})},horizontal:function(e){return Object(s.css)(["left:",";right:",";bottom:",";transform:translateY(0);",""],e.left,e.right,e.bottom,function(e){return Cr(e.animate,"bottom","true")})},true:function(e){return Object(s.css)(["top:",";bottom:",";left:",";right:",";transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(e){return Cr(e.animate,"bottom","true")})},false:function(e){return Object(s.css)(["bottom:",";left:",";transform:translateY(0);",""],e.bottom,e.left,function(e){return Cr(e.animate,"bottom","true")})}}},Er=Object(s.css)(["position:",";max-height:",";max-width:",";border-radius:",";",";"],function(e){return e.modal?"absolute":"fixed"},function(e){return"calc(100% - "+Sr(e.margin,e.theme,"top")+" - "+Sr(e.margin,e.theme,"bottom")+")"},function(e){return"calc(100% - "+Sr(e.margin,e.theme,"left")+" - "+Sr(e.margin,e.theme,"right")+")"},function(e){return e.plain?0:e.theme.layer.border.radius},function(e){return"hidden"!==e.position&&Pr[e.position][e.full](Sr(e.margin,e.theme))||""}),Tr=Object(s.css)(["position:relative;max-height:none;max-width:none;border-radius:0;top:0;bottom:0;left:0;right:0;transform:none;animation:none;height:100vh;width:100vw;"]),Ar=s.default.div.withConfig({displayName:"StyledLayer__StyledContainer",componentId:"rmtehz-2"})([""," display:flex;flex-direction:column;min-height:",";"," outline:none;pointer-events:all;z-index:",";"," ",";"],function(e){return e.modal?"":se},function(e){return e.theme.global.size.xxsmall},function(e){return!e.plain&&e.theme.layer.background&&ct(e.theme.layer.background,e.theme)},function(e){return e.theme.layer.container.zIndex},Er,function(e){if(e.responsive&&e.theme.layer.responsiveBreakpoint){var t=e.theme.global.breakpoints[e.theme.layer.responsiveBreakpoint];if(t)return ae(t,Tr)}return""});function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ar.defaultProps={},Object.setPrototypeOf(Ar.defaultProps,ge);var Mr=s.default.a.withConfig({displayName:"LayerContainer__HiddenAnchor",componentId:"sc-1srj14c-0"})(["width:0;height:0;overflow:hidden;position:absolute;"]),Lr=function(e){var t,r;function i(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Or(zr(t=e.call.apply(e,[this].concat(i))||this),"anchorRef",Object(n.createRef)()),Or(zr(t),"containerRef",o.a.createRef()),Or(zr(t),"layerRef",o.a.createRef()),Or(zr(t),"makeLayerVisible",function(){var e=t.layerRef.current||t.containerRef.current;e&&e.scrollIntoView&&e.scrollIntoView()}),t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.componentDidMount=function(){"hidden"!==this.props.position&&(this.makeLayerVisible(),this.anchorRef.current&&this.anchorRef.current.focus())},a.componentDidUpdate=function(e){var t=this.props.position;e.position!==t&&"hidden"!==t&&this.makeLayerVisible()},a.render=function(){var e=this.props,t=e.children,r=e.id,n=e.modal,i=e.onClickOutside,a=e.onEsc,l=e.plain,u=e.position,c=e.responsive,p=e.theme,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children","id","modal","onClickOutside","onEsc","plain","position","responsive","theme"]),h=this.context||p,d=o.a.createElement(Ar,Ir({id:r},f,{position:u,plain:l,responsive:c,ref:this.containerRef}),o.a.createElement(Mr,{ref:this.anchorRef,tabIndex:"-1","aria-hidden":"true"}),t);if(n&&(d=o.a.createElement(_r,{id:r,plain:l,position:u,responsive:c,tabIndex:"-1",ref:this.layerRef},o.a.createElement(xr,{plain:l,onMouseDown:i,responsive:c}),d)),a&&(d=o.a.createElement(vr,{onEsc:a},d)),h.layer.background){var m=ut(h.layer.background,h);m!==h.dark&&(d=o.a.createElement(s.ThemeContext.Provider,{value:Ir({},h,{dark:m})},d))}return n&&(d=o.a.createElement(yr,{hidden:"hidden"===u,restrictScroll:!0},d)),d},i}(n.Component);function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Or(Lr,"contextType",s.ThemeContext),Or(Lr,"defaultProps",{full:!1,margin:"none",modal:!0,position:"center"}),Object.setPrototypeOf(Lr.defaultProps,ge);var Dr=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Rr(Fr(t=e.call.apply(e,[this].concat(n))||this),"originalFocusedElement",document.activeElement),Rr(Fr(t),"layerContainer",er()),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentWillUnmount=function(){var e=this;this.originalFocusedElement&&(this.originalFocusedElement.focus?setTimeout(function(){e.originalFocusedElement.focus()},0):this.originalFocusedElement.parentNode&&this.originalFocusedElement.parentNode.focus&&this.originalFocusedElement.parentNode.focus()),document.body.removeChild(this.layerContainer)},a.render=function(){return Object(i.createPortal)(o.a.createElement(Lr,this.props),this.layerContainer)},n}(n.Component);Rr(Dr,"defaultProps",{full:!1,margin:"none",modal:!0,position:"center",responsive:!0});var Br=Dr;function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hr=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=this,o=(e=Vr(t)).call.apply(e,[this].concat(a)),r=!o||"object"!==jr(o)&&"function"!=typeof o?qr(n):o,Wr(qr(r),"state",{popup:null}),Wr(qr(r),"closePopup",function(){r.setState({popup:null})}),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,o.a.Component),n=t,(i=[{key:"componentDidUpdate",value:function(e){this.props.lon!=e.lon&&this.props.lat!=e.lat&&this.map.flyTo({center:[this.props.lon,this.props.lat],zoom:9,speed:3.5})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.lon,o=t.lat,i=t.zoom;this.map=new Yt.a.Map({container:this.mapContainer,style:"https://maps.tilehosting.com/styles/positron/style.json?key=1rAyLnCs2L6C0lW2bx2m",center:[n,o],zoom:i}),this.map.on("load",function(){var t,n;e.map.addSource("places",{type:"geojson",data:(t=r(53),n={type:"FeatureCollection",features:[]},t.keys().forEach(function(e){var r=!0,o=!1,i=void 0;try{for(var a,s=t(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.coordinates&&n.features.push({type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(l.coordinates[1]),parseFloat(l.coordinates[0])]},properties:{name:l.name,description:l.description}})}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}),n),cluster:!0,clusterMaxZoom:8,clusterRadius:50}),e.map.addLayer({id:"unclustered-point",type:"circle",source:"places",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":13,"circle-stroke-width":1,"circle-stroke-color":"#fff"}}),e.map.addLayer({id:"clusters",type:"circle",source:"places",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",20,"#f1f075",50,"#f28cb1"],"circle-radius":["step",["get","point_count"],18,20,20,50,25]}}),e.map.addLayer({id:"cluster-count",type:"symbol",source:"places",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}})}),this.map.on("mouseenter","unclustered-point",function(){e.map.getCanvas().style.cursor="pointer"}),this.map.on("mouseleave","unclustered-point",function(){e.map.getCanvas().style.cursor=""}),this.map.on("mouseenter","clusters",function(){e.map.getCanvas().style.cursor="pointer"}),this.map.on("mouseleave","clusters",function(){e.map.getCanvas().style.cursor=""}),this.map.on("click","clusters",function(t){var r=t.features[0].geometry.coordinates.slice();e.map.flyTo({center:r,zoom:e.map.getZoom()+3,speed:3.5})}),this.map.on("click","unclustered-point",function(t){var r=t.features[0].properties,n=r.name,o=r.description;t.features[0].geometry.coordinates.slice();e.setState({popup:{name:n,description:JSON.parse(o)}})})}},{key:"render",value:function(){var e=this;return o.a.createElement(Ut,Ur({},this.props,{ref:function(t){return e.mapContainer=t}}),this.state.popup&&o.a.createElement(Br,{onEsc:this.closePopup,onClickOutside:this.closePopup,margin:"medium"},o.a.createElement(Ut,{pad:"large",width:"large"},o.a.createElement("h1",null,this.state.popup.name),o.a.createElement("div",null,Object.keys(this.state.popup.description).map(function(t){return o.a.createElement("div",{key:t},o.a.createElement("strong",null,t),": ",e.state.popup.description[t])})),o.a.createElement(Kt,{margin:{top:"medium"},label:"close",onClick:this.closePopup}))))}}])&&Nr(n.prototype,i),a&&Nr(n,a),t}();Wr(Hr,"defaultProps",{lon:5,lat:34,zoom:1.5});var Zr={center:"center",end:"right",start:"left"},Kr=Object(s.css)(["text-align:",";"],function(e){return Zr[e.textAlign]}),Xr=Object(s.css)(["color:",";"],function(e){return X(e.colorProp,e.theme)}),Yr=Object(s.css)(["font-weight:",";"],function(e){return e.weight}),Jr=Object(s.css)(["word-break:",";"],function(e){return e.wordBreak}),$r=s.default.span.withConfig({displayName:"StyledText",componentId:"sc-1sadyjn-0"})([""," "," "," "," "," "," "," ",""],me,function(e){return function(e){var t=e.size||"medium",r=e.theme.text[t];return r?Object(s.css)(["font-size:",";line-height:",";"],r.size,r.height):Object(s.css)(["font-size:",";line-height:normal;"],t)}(e)},function(e){return e.textAlign&&Kr},function(e){return e.truncate&&"\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"},function(e){return e.colorProp&&Xr},function(e){return e.weight&&Yr},function(e){return e.wordBreak&&Jr},function(e){return e.theme.text&&e.theme.text.extend});function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}$r.defaultProps={},Object.setPrototypeOf($r.defaultProps,ge);var en=function(e){var t=e.color,r=e.tag,n=e.as,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["color","tag","as"]);return o.a.createElement($r,Qr({as:!n&&r?r:n,colorProp:t},i))};en.defaultProps={level:1};var tn=en,rn=s.default.a.withConfig({displayName:"StyledAnchor",componentId:"sc-1rp7lwl-0"})(["box-sizing:border-box;"," color:",";"," text-decoration:",";cursor:pointer;outline:none;"," "," "," "," "," ",""],function(e){return function(e){if(e.size){var t=e.size||"medium",r=e.theme.text[t];return Object(s.css)(["font-size:",";line-height:",";"],r.size,r.height)}return Object(s.css)(["font-size:inherit;line-height:inherit;"])}(e)},function(e){return X(e.colorProp||e.theme.anchor.color,e.theme)},function(e){return e.theme.anchor.fontWeight&&"font-weight: "+e.theme.anchor.fontWeight+";"},function(e){return e.hasIcon?"none":e.theme.anchor.textDecoration},me,function(e){return!e.disabled&&e.theme.anchor.hover&&Object(s.css)(["&:hover{"," "," ","}"],e.theme.anchor.hover.textDecoration&&"text-decoration: "+e.theme.anchor.hover.textDecoration+";",e.theme.anchor.hover.fontWeight&&"font-weight: "+e.theme.anchor.hover.fontWeight+";",e.theme.anchor.hover.extend)},function(e){return e.hasIcon&&!e.hasLabel&&"\n    padding: "+e.theme.global.edgeSize.small+";\n  "},function(e){return e.disabled&&"\n  opacity: 0.3;\n  cursor: default;\n  text-decoration: none;\n"},function(e){return e.focus&&ce},function(e){return e.theme.anchor.extend});function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}rn.defaultProps={},Object.setPrototypeOf(rn.defaultProps,ge);var on=function(e){var t,r;function i(t){var r;r=e.call(this,t)||this;var n=t.children,o=t.icon,i=t.label;return(o||i)&&n&&console.warn("Anchor should not have children if icon or label is provided"),r}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.a11yTitle,r=e.children,i=e.color,a=e.disabled,s=e.forwardRef,l=e.href,u=e.icon,c=e.focus,p=e.label,f=e.onClick,h=e.reverse,d=e.theme,m=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["a11yTitle","children","color","disabled","forwardRef","href","icon","focus","label","onClick","reverse","theme"]),y=u;u&&!u.props.color&&(y=Object(n.cloneElement)(u,{color:X(i||d.anchor.color,d)}));var g=h?p:y,v=h?y:p;return o.a.createElement(rn,nn({},m,{ref:s,"aria-label":t,colorProp:i,disabled:a,hasIcon:!!u,focus:c,hasLabel:p,reverse:h,href:a?void 0:l,onClick:a?void 0:f}),g&&v?o.a.createElement(Ut,{as:"span",direction:"row",align:"center",gap:"small",style:{display:"inline-flex"}},g,v):g||v||r)},i}(n.Component);on.defaultProps={},Object.setPrototypeOf(on.defaultProps,ge);var an=Ke(at(),s.withTheme,st)(on);function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ln=function(e){return o.a.createElement(Ut,sn({},e,{pad:"large",background:"dark-1"}),o.a.createElement(tn,{size:"medium",color:"status-ok"},"# Is there a good coffee place missing? Would like to see it here?",o.a.createElement("br",null),"# Please make a fork of the repository.",o.a.createElement("br",null),"# (just in case you don't know how to use git ;)"),o.a.createElement(tn,{margin:{vertical:"medium"},weight:"600",size:"medium",color:"light-6"},"$ git clone ",o.a.createElement(an,{primary:!0,target:"_blank",rel:"noopener noreferrer",href:"https://github.com/xando/commitcoffee",label:"https://github.com/xando/commitcoffee"})),o.a.createElement(tn,{size:"medium",color:"status-ok"},"# Create new ",o.a.createElement("strong",null,"places/‹your-github-username›.json")," file."),o.a.createElement(tn,{margin:{vertical:"medium"},weight:"600",size:"medium",color:"light-6"},"$ git add ",o.a.createElement("strong",null,"places/xando.json"),o.a.createElement("br",null),'$ git commit -m "Bal Kraków, good coffee, decent wifi"'))};function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var cn=function(e){return o.a.createElement(Ut,un({},e,{pad:"small"}),o.a.createElement(tn,{textAlign:"center",size:"small",color:"dark-3"},"This website does not give a damn about cookies for now."))},pn={center:"center",end:"right",start:"left"},fn=Object(s.css)(["text-align:",";"],function(e){return pn[e.textAlign]}),hn=Object(s.css)(["color:",";"],function(e){return X(e.colorProp,e.theme)}),dn=s.default.h1.withConfig({displayName:"StyledHeading",componentId:"sc-1rdh4aw-0"})([""," "," "," "," "," "," ",""],me,function(e){return function(e){var t=e.theme.heading.level[e.level].font;return t&&t.family?Object(s.css)(["font-family:",";"],t.family):e.theme.heading.font?Object(s.css)(["font-family:",";"],e.theme.heading.font.family):""}(e)},function(e){return function(e){var t=e.size||"medium",r=e.theme.heading,n=r.level[e.level];if(n){var o=n[t],i=[Object(s.css)(["font-size:",";line-height:",";max-width:",";font-weight:",";"],o.size,o.height,o.maxWidth,n.font.weight||r.weight)];if(e.responsive&&r.responsiveBreakpoint){var a=e.theme.global.breakpoints[r.responsiveBreakpoint];if(a){var l=r.level[Math.min(e.level+1,4)][t];i.push(ae(a,"\n          font-size: "+l.size+";\n          line-height: "+l.height+";\n          max-width: "+l.maxWidth+";\n        "))}}return i}return console.warn("Heading level "+e.level+" is not defined in your theme."),""}(e)},function(e){return e.textAlign&&fn},function(e){return e.truncate&&"\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"},function(e){return e.colorProp&&hn},function(e){return e.theme.heading&&e.theme.heading.extend});function mn(){return(mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}dn.defaultProps={},Object.setPrototypeOf(dn.defaultProps,ge);var yn=function(e){var t=e.color,r=e.level,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["color","level"]);return o.a.createElement(dn,mn({as:"h"+r,colorProp:t,level:+r},n))};yn.defaultProps={level:1,responsive:!0};var gn=yn,vn=function(e){return o.a.createElement(Ut,{background:"dark-1",pad:{horizontal:"large",vertical:"medium"}},o.a.createElement(gn,{size:"small",margin:{vertical:"none"}},'$ commit -m "coffee"'),o.a.createElement(tn,{size:"xsmall",margin:{bottom:"none"}},"# where we keep geek friendly places (near you) with good WiFi and coffee"))},bn=r(29);var _n=Object(s.keyframes)(["0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}"]),xn=s.default.div.withConfig({displayName:"StyledDrop",componentId:"sc-16s5rx8-0"})([""," border-radius:",";position:fixed;z-index:",";outline:none;"," opacity:0;transform-origin:",";animation:"," 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}",""],se,function(e){return e.theme.global.drop.border.radius},function(e){return e.theme.global.drop.zIndex},function(e){return!e.plain&&ct(e.theme.global.drop.background,e.theme)},function(e){return function(e){var t="top";e.bottom&&(t="bottom");var r="left";return e.right&&(r="right"),t+" "+r}(e.alignProp)},_n,function(e){return e.theme.global.drop&&e.theme.global.drop.extend});function wn(){return(wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}xn.defaultProps={},Object.setPrototypeOf(xn.defaultProps,ge);var Cn=function(e){27===(e.keyCode?e.keyCode:e.which)&&e.stopPropagation()},Pn=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return kn(Sn(t=e.call.apply(e,[this].concat(n))||this),"dropRef",o.a.createRef()),kn(Sn(t),"addScrollListener",function(){var e=t.props.dropTarget;t.scrollParents=$t(e),t.scrollParents.forEach(function(e){return e.addEventListener("scroll",t.place)})}),kn(Sn(t),"removeScrollListener",function(){t.scrollParents.forEach(function(e){return e.removeEventListener("scroll",t.place)})}),kn(Sn(t),"onClickDocument",function(e){var r=t.props,n=r.dropTarget,o=r.onClickOutside,i=n,a=t.dropRef.current;o&&a&&!i.contains(e.target)&&!a.contains(e.target)&&o()}),kn(Sn(t),"onResize",function(){t.removeScrollListener(),t.addScrollListener(),t.place(!1)}),kn(Sn(t),"place",function(e){var r=t.props,n=r.align,o=r.dropTarget,i=r.responsive,a=r.stretch,s=r.theme,l=window.innerWidth,u=window.innerHeight,c=o,p=t.dropRef.current;if(p&&c){p.style.left="",p.style.top="",p.style.bottom="",p.style.width="",e||(p.style.maxHeight="");var f,h,d,m=pr(c).getBoundingClientRect(),y=p.getBoundingClientRect(),g=Math.min(a?Math.max(m.width,y.width):y.width,l);n.left?"left"===n.left?f=m.left:"right"===n.left&&(f=m.left+m.width):n.right?"left"===n.right?f=m.left-g:"right"===n.right&&(f=m.left+m.width-g):f=m.left+m.width/2-g/2,f+g>l?f-=f+g-l:f<0&&(f=0);var v=y.height;if(n.top){h="top"===n.top?m.top:m.bottom;var b=100-m.bottom/u*100;u===h||b<=20?(h="",v=d="bottom"===n.top?m.top:m.bottom,p.style.maxHeight=v+"px"):h>0?(v=u-h,p.style.maxHeight=v+"px"):v=u-h}else n.bottom?(v=d="bottom"===n.bottom?m.bottom:m.top,p.style.maxHeight=v+"px"):v=u-(h=m.top+m.height/2-y.height/2);i&&(y.height>v||v<u/10)&&(n.top&&h>u/2?(h="",v=d="bottom"===n.top?m.top:m.bottom):n.bottom&&v<u/2&&(d="",v=u-(h="bottom"===n.bottom?m.top:m.bottom))),p.style.left=f+"px",a&&(p.style.width=g+.1+"px"),""!==h&&(p.style.top=h+"px"),""!==d&&(p.style.bottom=u-d+"px"),e||(s.drop&&s.drop.maxHeight&&(v=Math.min(v,ie(s.drop.maxHeight))),p.style.maxHeight=v+"px")}}),kn(Sn(t),"onEsc",function(e){var r=t.props.onEsc;e.stopPropagation(),r&&r(e)}),kn(Sn(t),"preventClickBubbling",function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.componentDidMount=function(){var e=this.props.restrictFocus;this.addScrollListener(),window.addEventListener("resize",this.onResize),document.addEventListener("mousedown",this.onClickDocument),this.place(!1),e&&this.dropRef.current.focus()},i.componentDidUpdate=function(){this.place(!0)},i.componentWillUnmount=function(){this.removeScrollListener(),window.removeEventListener("resize",this.onResize),document.removeEventListener("mousedown",this.onClickDocument)},i.render=function(){var e=this.props,t=e.align,r=e.children,n=e.elevation,i=(e.onClickOutside,e.onEsc),a=e.onKeyDown,l=e.plain,u=e.theme,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["align","children","elevation","onClickOutside","onEsc","onKeyDown","plain","theme"]),p=this.context||u,f=o.a.createElement(xn,wn({as:Ut,plain:l,elevation:l?void 0:n||p.global.drop.shadowSize||"small",tabIndex:"-1",ref:this.dropRef,alignProp:t,onMouseDown:this.preventClickBubbling},c),r);if(p.global.drop.background){var h=ut(p.global.drop.background,p);h!==p.dark&&(f=o.a.createElement(s.ThemeContext.Provider,{value:wn({},p,{dark:h})},f))}return o.a.createElement(yr,{onKeyDown:i&&Cn},o.a.createElement(vr,{onEsc:i&&this.onEsc,onKeyDown:a,target:"document"},f))},n}(n.Component);function En(){return(En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}kn(Pn,"contextType",s.ThemeContext),kn(Pn,"defaultProps",{align:{top:"top",left:"left"},overflow:"auto",stretch:"width"}),Object.setPrototypeOf(Pn.defaultProps,ge);var In=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return An(Tn(t=e.call.apply(e,[this].concat(n))||this),"originalFocusedElement",document.activeElement),An(Tn(t),"dropContainer",er()),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentWillUnmount=function(){this.props.restrictFocus&&this.originalFocusedElement&&(this.originalFocusedElement.focus?tr(this.originalFocusedElement):this.originalFocusedElement.parentNode&&this.originalFocusedElement.parentNode.focus&&tr(this.originalFocusedElement.parentNode)),document.body.removeChild(this.dropContainer)},a.render=function(){var e=this.props,t=e.target,r=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["target"]);return Object(i.createPortal)(o.a.createElement(Pn,En({dropTarget:t},r)),this.dropContainer)},n}(n.Component);An(In,"defaultProps",{align:{top:"top",left:"left"},plain:!1});var zn=In;function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ln(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Fn=function(e){function t(){return e.apply(this,arguments)||this}return Ln(t,e),t.prototype.render=function(){return this.props.children},t}(n.Component),Rn=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return Mn(On(t=e.call.apply(e,[this].concat(o))||this),"state",{}),Mn(On(t),"initialScroll",!1),Mn(On(t),"belowMarkerRef",Object(n.createRef)()),Mn(On(t),"firstPageItemRef",Object(n.createRef)()),Mn(On(t),"lastPageItemRef",Object(n.createRef)()),Mn(On(t),"showRef",Object(n.createRef)()),Mn(On(t),"addScrollListener",function(){t.state.pageHeight&&t.belowMarkerRef.current&&!t.scrollParents&&(t.scrollParents=$t(t.belowMarkerRef.current),t.scrollParents.forEach(function(e){return e.addEventListener("scroll",t.onScroll)}))}),Mn(On(t),"removeScrollListener",function(){t.scrollParents&&(t.scrollParents.forEach(function(e){return e.removeEventListener("scroll",t.place)}),t.scrollParents=void 0)}),Mn(On(t),"scrollShow",function(){t.props.show&&!t.initialScroll&&t.showRef.current&&(t.initialScroll=!0,Object(i.findDOMNode)(t.showRef.current).scrollIntoView())}),Mn(On(t),"setPageHeight",function(){var e=t.props.step,r=t.state.pageHeight;if(t.firstPageItemRef.current&&t.lastPageItemRef.current&&!r){var n=Object(i.findDOMNode)(t.firstPageItemRef.current).getBoundingClientRect(),o=Object(i.findDOMNode)(t.lastPageItemRef.current).getBoundingClientRect(),a=o.top+o.height-n.top,s=a/e<o.height,l=o.height*o.width*e;t.setState({multiColumn:s,pageArea:l,pageHeight:a},t.onScroll)}}),Mn(On(t),"onScroll",function(){var e=t.props,r=e.onMore,n=e.replace,o=t.state,i=o.beginPage,a=o.endPage,s=o.lastPage,l=o.multiColumn,u=o.pageArea,c=o.pageHeight;if(t.scrollParents&&t.scrollParents[0]&&c){var p,f,h,d=t.scrollParents[0];if(d===document)p=document.documentElement.scrollTop||document.body.scrollTop,f=window.innerHeight,h=window.innerWidth;else{p=d.scrollTop;var m=d.getBoundingClientRect();f=m.height,h=m.width}var y=f/4,g=n?Math.min(s,Math.max(0,l?Math.floor(Math.max(0,p-y)*h/u):Math.floor(Math.max(0,p-y)/c))):0,v=Math.min(s,Math.max(!n&&a||0,l?Math.ceil((p+f+y)*h/u):Math.floor((p+f+y)/c)));g===i&&v===a||t.setState({beginPage:g,endPage:v},function(){r&&v===s&&r()})}}),t}Ln(t,e),t.getDerivedStateFromProps=function(e,t){var r=e.items,n=e.show,o=e.step,i=Math.ceil(r.length/o)-1;if(void 0===t.beginPage||n&&n>=o*(t.lastPage+1)||i!==t.lastPage){var a=t.endPage||0;return n&&n>=o*(a+1)&&(a=Math.floor((n+o)/o)-1),{beginPage:0,endPage:a,lastPage:i,pageHeight:void 0}}return null};var r=t.prototype;return r.componentDidMount=function(){var e=this;clearTimeout(this.animationDelayTimer),this.animationDelayTimer=setTimeout(function(){e.setPageHeight(),e.addScrollListener(),e.scrollShow(),e.onScroll()},100)},r.componentDidUpdate=function(){this.setPageHeight(),this.removeScrollListener(),this.addScrollListener(),this.scrollShow()},r.componentWillUnmount=function(){this.removeScrollListener(),clearTimeout(this.animationDelayTimer),clearTimeout(this.scrollTimer)},r.render=function(){var e=this,t=this.props,r=t.children,n=t.items,i=t.onMore,a=t.renderMarker,s=t.replace,l=t.show,u=t.step,c=this.state,p=c.beginPage,f=c.endPage,h=c.lastPage,d=c.pageHeight,m=p*u,y=(f+1)*u-1,g=[];if(s&&d&&m){var v=o.a.createElement(Ut,{key:"above",flex:!1,height:p*d+"px"});a&&(v=o.a.cloneElement(a(v),{key:"above"})),g.push(v)}if(n.slice(m,y+1).forEach(function(t,n){var i=m+n,a=r(t,i);d||0!==i?d||i!==u-1||(a=o.a.createElement(Fn,{key:"last",ref:e.lastPageItemRef},a)):a=o.a.createElement(Fn,{key:"first",ref:e.firstPageItemRef},a),l&&l===i&&(a=o.a.createElement(Fn,{key:"show",ref:e.showRef},a)),g.push(a)}),f<h||s||i){var b=o.a.createElement(Ut,{key:"below",ref:this.belowMarkerRef,flex:!1,height:(s?(h-f)*d:0)+"px"});a&&(b=o.a.cloneElement(a(b),{key:"below"})),g.push(b)}return g},t}(n.PureComponent);Mn(Rn,"defaultProps",{items:[],step:50});var Dn=Rn,Bn=Object(s.css)(["border:none;"]),jn=s.default.input.withConfig({displayName:"StyledTextInput",componentId:"sc-1x30a0s-0"})([""," width:100%;"," "," "," &::-moz-focus-inner{border:none;outline:none;}",";"," ",";"],pe,function(e){return e.size&&function(e){var t=e.theme.text[e.size];return Object(s.css)(["font-size:",";line-height:",";"],t.size,t.height)}(e)},function(e){return e.plain&&Bn},he,function(e){return e.focus&&!e.plain&&ce},function(e){return e.disabled&&ye(e.theme.textInput.disabled&&e.theme.textInput.disabled.opacity)},function(e){return e.theme.textInput&&e.theme.textInput.extend});jn.defaultProps={},Object.setPrototypeOf(jn.defaultProps,ge);var Un=s.default.div.withConfig({displayName:"StyledTextInput__StyledTextInputContainer",componentId:"sc-1x30a0s-1"})(["position:relative;width:100%;"]);Un.defaultProps={},Object.setPrototypeOf(Un.defaultProps,ge);var Nn=s.default.div.withConfig({displayName:"StyledTextInput__StyledPlaceholder",componentId:"sc-1x30a0s-2"})(["position:absolute;left:","px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;",";"],function(e){return ie(e.theme.global.input.padding)-ie(e.theme.global.control.border.width)},function(e){return e.theme.textInput&&e.theme.textInput.placeholder&&e.theme.textInput.placeholder.extend});Nn.defaultProps={},Object.setPrototypeOf(Nn.defaultProps,ge);var Vn=s.default.ol.withConfig({displayName:"StyledTextInput__StyledSuggestions",componentId:"sc-1x30a0s-3"})(["border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;",";"],function(e){return e.theme.textInput&&e.theme.textInput.suggestions&&e.theme.textInput.suggestions.extend});function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(e){return e&&"object"==typeof e?e.label||e.value:e}function Zn(e){return e&&"object"==typeof e?e.label&&"string"==typeof e.label?e.label:e.value:e}Vn.defaultProps={},Object.setPrototypeOf(Vn.defaultProps,ge);var Kn=Object(s.default)(Ut).withConfig({displayName:"TextInput__ContainerBox",componentId:"sc-1ai0c08-0"})(["",";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}"],function(e){return e.dropHeight?Object(bn.a)("max-height",e.dropHeight,e.theme):"max-height: inherit;"}),Xn=function(e){var t,r;function i(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Wn(Gn(t=e.call.apply(e,[this].concat(i))||this),"state",{activeSuggestionIndex:-1,showDrop:!1}),Wn(Gn(t),"inputRef",o.a.createRef()),Wn(Gn(t),"announce",function(e,r){var n=t.props,o=n.announce,i=n.suggestions;i&&i.length>0&&o(e,r)}),Wn(Gn(t),"announceSuggestionsCount",function(){var e=t.props,r=e.suggestions,n=e.messages.suggestionsCount;t.announce(r.length+" "+n)}),Wn(Gn(t),"announceSuggestionsExist",function(){var e=t.props.messages.suggestionsExist;t.announce(e)}),Wn(Gn(t),"announceSuggestionsIsOpen",function(){var e=t.props.messages.suggestionIsOpen;t.announce(e)}),Wn(Gn(t),"announceSuggestion",function(e){var r=t.props,n=r.suggestions,o=r.messages.enterSelect;if(n&&n.length>0){var i=Zn(n[e]);t.announce(i+" "+o)}}),Wn(Gn(t),"resetSuggestions",function(){clearTimeout(t.resetTimer),t.resetTimer=setTimeout(function(){var e=t.props.suggestions;e&&e.length&&t.setState({activeSuggestionIndex:-1,showDrop:!0,selectedSuggestionIndex:-1},t.announceSuggestionsCount)},10)}),Wn(Gn(t),"getSelectedSuggestionIndex",function(){var e=t.props,r=e.suggestions,n=e.value;return r.map(function(e){return"object"==typeof e?e.value:e}).indexOf(n)}),Wn(Gn(t),"onShowSuggestions",function(){var e=t.getSelectedSuggestionIndex();t.setState({showDrop:!0,activeSuggestionIndex:-1,selectedSuggestionIndex:e},t.announceSuggestionsIsOpen)}),Wn(Gn(t),"onNextSuggestion",function(e){var r=t.props.suggestions,n=t.state,o=n.activeSuggestionIndex,i=n.showDrop;if(r&&r.length>0)if(i){e.preventDefault();var a=Math.min(o+1,r.length-1);t.setState({activeSuggestionIndex:a},function(){return t.announceSuggestion(a)})}else t.onShowSuggestions()}),Wn(Gn(t),"onPreviousSuggestion",function(e){var r=t.props.suggestions,n=t.state,o=n.activeSuggestionIndex,i=n.showDrop;if(r&&r.length>0&&i){e.preventDefault();var a=Math.max(o-1,0);t.setState({activeSuggestionIndex:a},function(){return t.announceSuggestion(a)})}}),Wn(Gn(t),"onClickSuggestion",function(e,r){var n=t.props,o=n.forwardRef,i=n.onSelect;t.setState({showDrop:!1,activeSuggestionIndex:-1}),i&&(r.suggestion=e,r.target=(o||t.inputRef).current,i(r))}),Wn(Gn(t),"onSuggestionSelect",function(e){var r=t.props,n=r.forwardRef,o=r.onSelect,i=r.suggestions,a=t.state.activeSuggestionIndex;t.setState({showDrop:!1,activeSuggestionIndex:-1}),a>=0&&(e.preventDefault(),e.suggestion=i[a],e.target=(n||t.inputRef).current,o&&o(e))}),Wn(Gn(t),"onFocus",function(e){var r=t.props,n=r.onFocus,o=r.suggestions;o&&o.length>0&&t.announceSuggestionsExist(),t.resetSuggestions(),n&&n(e)}),Wn(Gn(t),"onBlur",function(e){var r=t.props.onBlur;clearTimeout(t.resetTimer),r&&r(e)}),Wn(Gn(t),"onChange",function(e){var r=t.props.onChange;t.resetSuggestions(),r&&r(e)}),Wn(Gn(t),"onEsc",function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.setState({showDrop:!1})}),Wn(Gn(t),"onTab",function(){t.setState({showDrop:!1})}),Wn(Gn(t),"renderSuggestions",function(){var e=t.props,r=e.suggestions,i=e.theme,a=t.state,s=a.activeSuggestionIndex,l=a.selectedSuggestionIndex;return o.a.createElement(Vn,null,o.a.createElement(Dn,{items:r,step:i.select.step},function(e,r){var i="object"==typeof e&&typeof Object(n.isValidElement)(e.label);return o.a.createElement("li",{key:Zn(e)+"-"+r},o.a.createElement(Kt,{active:s===r||l===r,fill:!0,hoverIndicator:"background",onClick:function(r){t.onClickSuggestion(e,r)}},i?Hn(e):o.a.createElement(Ut,{align:"start",pad:"small"},Hn(e))))}))}),t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.getDerivedStateFromProps=function(e,t){var r=e.suggestions;return!t.showDrop||r&&r.length?null:{showDrop:!1}};var a=i.prototype;return a.componentDidUpdate=function(e,t){var r=this.props,n=r.onSuggestionsOpen,o=r.onSuggestionsClose,i=r.suggestions,a=this.state.showDrop;a!==t.showDrop&&(a&&n?n():o&&o()),a||!i||e.suggestions&&e.suggestions.length||this.resetSuggestions()},a.componentWillUnmount=function(){clearTimeout(this.resetTimer)},a.render=function(){var e=this,t=this.props,r=t.defaultValue,n=t.dropAlign,i=t.dropHeight,a=t.dropTarget,s=t.dropProps,l=t.forwardRef,u=t.id,c=t.placeholder,p=t.plain,f=(t.theme,t.value),h=t.onKeyDown,d=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["defaultValue","dropAlign","dropHeight","dropTarget","dropProps","forwardRef","id","placeholder","plain","theme","value","onKeyDown"]);delete d.onChange,delete d.onSuggestionsOpen,delete d.onSuggestionsClose;var m,y=this.state.showDrop;return delete d.onSelect,y&&(m=o.a.createElement(zn,qn({id:u?"text-input-drop__"+u:void 0,align:n,responsive:!1,target:a||(l||this.inputRef).current,onClickOutside:function(){return e.setState({showDrop:!1})},onEsc:function(){return e.setState({showDrop:!1})}},s),o.a.createElement(Kn,{overflow:"auto",dropHeight:i},this.renderSuggestions()))),o.a.createElement(Un,{plain:p},c&&"string"!=typeof c&&!f?o.a.createElement(Nn,null,c):null,o.a.createElement(vr,{onEnter:this.onSuggestionSelect,onEsc:this.onEsc,onTab:this.onTab,onUp:this.onPreviousSuggestion,onDown:this.onNextSuggestion,onKeyDown:h},o.a.createElement(jn,qn({id:u,ref:l||this.inputRef,autoComplete:"off",plain:p,placeholder:"string"==typeof c?c:void 0},d,{defaultValue:Hn(r),value:Hn(f),onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange}))),m)},i}(n.Component);Wn(Xn,"defaultProps",{dropAlign:{top:"bottom",left:"left"},messages:{enterSelect:"(Press Enter to Select)",suggestionsCount:"suggestions available",suggestionsExist:"This input has suggestions use arrow keys to navigate",suggestionIsOpen:"Suggestions drop is open, continue to use arrow keys to navigate"}}),Object.setPrototypeOf(Xn.defaultProps,ge);var Yn=Ke(at({focusWithMouse:!0}),s.withTheme,function(e){var t=o.a.forwardRef(function(t,r){return o.a.createElement(tt.Consumer,null,function(n){return o.a.createElement(e,rt({},t,{announce:n,ref:r}))})});return t.displayName=$e()(e),t.name=t.displayName,t.defaultProps=e.defaultProps,et()(t,e),t},st)(Xn);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ro=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=this,i=(e=$n(t)).call.apply(e,[this].concat(s)),r=!i||"object"!==Jn(i)&&"function"!=typeof i?Qn(n):i,to(Qn(r),"state",{value:""}),to(Qn(r),"onChange",function(e){return r.setState({value:e.target.value})}),to(Qn(r),"onSubmit",function(e){(e.stopPropagation(),e.preventDefault(),r.state.value)&&(new google.maps.Geocoder).geocode({address:r.state.value},function(e,t){if("OK"===t){var n=e[0].geometry.location,o=n.lat,i=n.lng;r.props.onChange(i(),o())}})}),to(Qn(r),"render",function(){return o.a.createElement("form",{onSubmit:r.onSubmit},o.a.createElement(Yn,{placeholder:"# Enter Location",value:r.state.search,onChange:r.onChange}))}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(t,o.a.Component),t}();function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uo=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=this,o=(e=io(t)).call.apply(e,[this].concat(a)),r=!o||"object"!==no(o)&&"function"!=typeof o?ao(n):o,lo(ao(r),"state",{lon:5,lat:34}),lo(ao(r),"searchChanged",function(e,t){r.setState({lon:e,lat:t})}),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}(t,o.a.Component),r=t,(n=[{key:"render",value:function(){return o.a.createElement(Ue,{rows:["100vh","100vh"]},o.a.createElement(Ue,{fill:!0,rows:["auto","auto","flex","auto"]},o.a.createElement(vn,null),o.a.createElement(Ut,{pad:"large"},o.a.createElement(Kt,{label:"Search",primary:!0,color:"accent-1",href:"#map"})),o.a.createElement(ln,null),o.a.createElement(cn,null)),o.a.createElement(Ut,{id:"map"},o.a.createElement(Ut,{pad:"medium"},o.a.createElement(ro,{onChange:this.searchChanged})),o.a.createElement(Hr,{fill:!0,lon:this.state.lon,lat:this.state.lat})))}}])&&oo(r.prototype,n),i&&oo(r,i),t}();function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var go=function(e){function t(){var e,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=this,o=(e=fo(t)).call.apply(e,[this].concat(a)),r=!o||"object"!==co(o)&&"function"!=typeof o?ho(n):o,yo(ho(r),"state",{lon:5,lat:34}),yo(ho(r),"searchChanged",function(e,t){r.setState({lon:e,lat:t})}),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,o.a.Component),r=t,(n=[{key:"render",value:function(){return o.a.createElement(Ut,null,o.a.createElement(vn,null),o.a.createElement(Ut,yo({pad:"large"},"pad",{horizontal:"large",vertical:"medium"}),o.a.createElement(ro,{onChange:this.searchChanged})),o.a.createElement(Hr,{height:"400px",lon:this.state.lon,lat:this.state.lat}),o.a.createElement(ln,null),o.a.createElement(cn,null))}}])&&po(r.prototype,n),i&&po(r,i),t}();r(106);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _o(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xo(e){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var So={global:{font:{family:"Inconsolata",size:"14px",height:"20px"}}},ko=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_o(this,xo(t).apply(this,arguments))}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(t,o.a.Component),r=t,(n=[{key:"render",value:function(){return o.a.createElement(Pe,{theme:So,full:!0},o.a.createElement(d.Consumer,null,function(e){return"small"===e||"medium"===e?o.a.createElement(uo,null):o.a.createElement(go,null)}))}}])&&bo(r.prototype,n),i&&bo(r,i),t}();a.a.render(o.a.createElement(ko,null),document.getElementById("app"))}]);